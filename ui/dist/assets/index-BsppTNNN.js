function gN(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const o in n)if(o!=="default"&&!(o in e)){const d=Object.getOwnPropertyDescriptor(n,o);d&&Object.defineProperty(e,o,d.get?d:{enumerable:!0,get:()=>n[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function n(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function il(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qh={exports:{}},ja={},Yh={exports:{}},tt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function vN(){if(fy)return tt;fy=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=h&&I[h]||I["@@iterator"],typeof I=="function"?I:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,w={};function y(I,W,O){this.props=I,this.context=W,this.refs=w,this.updater=O||_}y.prototype.isReactComponent={},y.prototype.setState=function(I,W){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,W,"setState")},y.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function x(){}x.prototype=y.prototype;function g(I,W,O){this.props=I,this.context=W,this.refs=w,this.updater=O||_}var b=g.prototype=new x;b.constructor=g,k(b,y.prototype),b.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,T={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function E(I,W,O){var re,ue={},he=null,Y=null;if(W!=null)for(re in W.ref!==void 0&&(Y=W.ref),W.key!==void 0&&(he=""+W.key),W)N.call(W,re)&&!P.hasOwnProperty(re)&&(ue[re]=W[re]);var H=arguments.length-2;if(H===1)ue.children=O;else if(1<H){for(var se=Array(H),ee=0;ee<H;ee++)se[ee]=arguments[ee+2];ue.children=se}if(I&&I.defaultProps)for(re in H=I.defaultProps,H)ue[re]===void 0&&(ue[re]=H[re]);return{$$typeof:e,type:I,key:he,ref:Y,props:ue,_owner:T.current}}function L(I,W){return{$$typeof:e,type:I.type,key:W,ref:I.ref,props:I.props,_owner:I._owner}}function z(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function F(I){var W={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(O){return W[O]})}var V=/\/+/g;function U(I,W){return typeof I=="object"&&I!==null&&I.key!=null?F(""+I.key):W.toString(36)}function X(I,W,O,re,ue){var he=typeof I;(he==="undefined"||he==="boolean")&&(I=null);var Y=!1;if(I===null)Y=!0;else switch(he){case"string":case"number":Y=!0;break;case"object":switch(I.$$typeof){case e:case t:Y=!0}}if(Y)return Y=I,ue=ue(Y),I=re===""?"."+U(Y,0):re,j(ue)?(O="",I!=null&&(O=I.replace(V,"$&/")+"/"),X(ue,W,O,"",function(ee){return ee})):ue!=null&&(z(ue)&&(ue=L(ue,O+(!ue.key||Y&&Y.key===ue.key?"":(""+ue.key).replace(V,"$&/")+"/")+I)),W.push(ue)),1;if(Y=0,re=re===""?".":re+":",j(I))for(var H=0;H<I.length;H++){he=I[H];var se=re+U(he,H);Y+=X(he,W,O,se,ue)}else if(se=v(I),typeof se=="function")for(I=se.call(I),H=0;!(he=I.next()).done;)he=he.value,se=re+U(he,H++),Y+=X(he,W,O,se,ue);else if(he==="object")throw W=String(I),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Y}function K(I,W,O){if(I==null)return I;var re=[],ue=0;return X(I,re,"","",function(he){return W.call(O,he,ue++)}),re}function q(I){if(I._status===-1){var W=I._result;W=W(),W.then(function(O){(I._status===0||I._status===-1)&&(I._status=1,I._result=O)},function(O){(I._status===0||I._status===-1)&&(I._status=2,I._result=O)}),I._status===-1&&(I._status=0,I._result=W)}if(I._status===1)return I._result.default;throw I._result}var G={current:null},B={transition:null},D={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:B,ReactCurrentOwner:T};function A(){throw Error("act(...) is not supported in production builds of React.")}return tt.Children={map:K,forEach:function(I,W,O){K(I,function(){W.apply(this,arguments)},O)},count:function(I){var W=0;return K(I,function(){W++}),W},toArray:function(I){return K(I,function(W){return W})||[]},only:function(I){if(!z(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},tt.Component=y,tt.Fragment=r,tt.Profiler=o,tt.PureComponent=g,tt.StrictMode=n,tt.Suspense=u,tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,tt.act=A,tt.cloneElement=function(I,W,O){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var re=k({},I.props),ue=I.key,he=I.ref,Y=I._owner;if(W!=null){if(W.ref!==void 0&&(he=W.ref,Y=T.current),W.key!==void 0&&(ue=""+W.key),I.type&&I.type.defaultProps)var H=I.type.defaultProps;for(se in W)N.call(W,se)&&!P.hasOwnProperty(se)&&(re[se]=W[se]===void 0&&H!==void 0?H[se]:W[se])}var se=arguments.length-2;if(se===1)re.children=O;else if(1<se){H=Array(se);for(var ee=0;ee<se;ee++)H[ee]=arguments[ee+2];re.children=H}return{$$typeof:e,type:I.type,key:ue,ref:he,props:re,_owner:Y}},tt.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:d,_context:I},I.Consumer=I},tt.createElement=E,tt.createFactory=function(I){var W=E.bind(null,I);return W.type=I,W},tt.createRef=function(){return{current:null}},tt.forwardRef=function(I){return{$$typeof:l,render:I}},tt.isValidElement=z,tt.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:q}},tt.memo=function(I,W){return{$$typeof:f,type:I,compare:W===void 0?null:W}},tt.startTransition=function(I){var W=B.transition;B.transition={};try{I()}finally{B.transition=W}},tt.unstable_act=A,tt.useCallback=function(I,W){return G.current.useCallback(I,W)},tt.useContext=function(I){return G.current.useContext(I)},tt.useDebugValue=function(){},tt.useDeferredValue=function(I){return G.current.useDeferredValue(I)},tt.useEffect=function(I,W){return G.current.useEffect(I,W)},tt.useId=function(){return G.current.useId()},tt.useImperativeHandle=function(I,W,O){return G.current.useImperativeHandle(I,W,O)},tt.useInsertionEffect=function(I,W){return G.current.useInsertionEffect(I,W)},tt.useLayoutEffect=function(I,W){return G.current.useLayoutEffect(I,W)},tt.useMemo=function(I,W){return G.current.useMemo(I,W)},tt.useReducer=function(I,W,O){return G.current.useReducer(I,W,O)},tt.useRef=function(I){return G.current.useRef(I)},tt.useState=function(I){return G.current.useState(I)},tt.useSyncExternalStore=function(I,W,O){return G.current.useSyncExternalStore(I,W,O)},tt.useTransition=function(){return G.current.useTransition()},tt.version="18.3.1",tt}var py;function Bp(){return py||(py=1,Yh.exports=vN()),Yh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function yN(){if(my)return ja;my=1;var e=Bp(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function c(l,u,f){var p,h={},v=null,_=null;f!==void 0&&(v=""+f),u.key!==void 0&&(v=""+u.key),u.ref!==void 0&&(_=u.ref);for(p in u)n.call(u,p)&&!d.hasOwnProperty(p)&&(h[p]=u[p]);if(l&&l.defaultProps)for(p in u=l.defaultProps,u)h[p]===void 0&&(h[p]=u[p]);return{$$typeof:t,type:l,key:v,ref:_,props:h,_owner:o.current}}return ja.Fragment=r,ja.jsx=c,ja.jsxs=c,ja}var gy;function xN(){return gy||(gy=1,qh.exports=yN()),qh.exports}var i=xN(),C=Bp();const we=il(C),Fp=gN({__proto__:null,default:we},[C]);var Tc={},Xh={exports:{}},Mr={},Jh={exports:{}},Qh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function _N(){return vy||(vy=1,(function(e){function t(B,D){var A=B.length;B.push(D);e:for(;0<A;){var I=A-1>>>1,W=B[I];if(0<o(W,D))B[I]=D,B[A]=W,A=I;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var D=B[0],A=B.pop();if(A!==D){B[0]=A;e:for(var I=0,W=B.length,O=W>>>1;I<O;){var re=2*(I+1)-1,ue=B[re],he=re+1,Y=B[he];if(0>o(ue,A))he<W&&0>o(Y,ue)?(B[I]=Y,B[he]=A,I=he):(B[I]=ue,B[re]=A,I=re);else if(he<W&&0>o(Y,A))B[I]=Y,B[he]=A,I=he;else break e}}return D}function o(B,D){var A=B.sortIndex-D.sortIndex;return A!==0?A:B.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var c=Date,l=c.now();e.unstable_now=function(){return c.now()-l}}var u=[],f=[],p=1,h=null,v=3,_=!1,k=!1,w=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(B){for(var D=r(f);D!==null;){if(D.callback===null)n(f);else if(D.startTime<=B)n(f),D.sortIndex=D.expirationTime,t(u,D);else break;D=r(f)}}function j(B){if(w=!1,b(B),!k)if(r(u)!==null)k=!0,q(N);else{var D=r(f);D!==null&&G(j,D.startTime-B)}}function N(B,D){k=!1,w&&(w=!1,x(E),E=-1),_=!0;var A=v;try{for(b(D),h=r(u);h!==null&&(!(h.expirationTime>D)||B&&!F());){var I=h.callback;if(typeof I=="function"){h.callback=null,v=h.priorityLevel;var W=I(h.expirationTime<=D);D=e.unstable_now(),typeof W=="function"?h.callback=W:h===r(u)&&n(u),b(D)}else n(u);h=r(u)}if(h!==null)var O=!0;else{var re=r(f);re!==null&&G(j,re.startTime-D),O=!1}return O}finally{h=null,v=A,_=!1}}var T=!1,P=null,E=-1,L=5,z=-1;function F(){return!(e.unstable_now()-z<L)}function V(){if(P!==null){var B=e.unstable_now();z=B;var D=!0;try{D=P(!0,B)}finally{D?U():(T=!1,P=null)}}else T=!1}var U;if(typeof g=="function")U=function(){g(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,K=X.port2;X.port1.onmessage=V,U=function(){K.postMessage(null)}}else U=function(){y(V,0)};function q(B){P=B,T||(T=!0,U())}function G(B,D){E=y(function(){B(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){k||_||(k=!0,q(N))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return r(u)},e.unstable_next=function(B){switch(v){case 1:case 2:case 3:var D=3;break;default:D=v}var A=v;v=D;try{return B()}finally{v=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,D){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var A=v;v=B;try{return D()}finally{v=A}},e.unstable_scheduleCallback=function(B,D,A){var I=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?I+A:I):A=I,B){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=A+W,B={id:p++,callback:D,priorityLevel:B,startTime:A,expirationTime:W,sortIndex:-1},A>I?(B.sortIndex=A,t(f,B),r(u)===null&&B===r(f)&&(w?(x(E),E=-1):w=!0,G(j,A-I))):(B.sortIndex=W,t(u,B),k||_||(k=!0,q(N))),B},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(B){var D=v;return function(){var A=v;v=D;try{return B.apply(this,arguments)}finally{v=A}}}})(Qh)),Qh}var yy;function bN(){return yy||(yy=1,Jh.exports=_N()),Jh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function wN(){if(xy)return Mr;xy=1;var e=Bp(),t=bN();function r(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,m=1;m<arguments.length;m++)a+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function d(s,a){c(s,a),c(s+"Capture",a)}function c(s,a){for(o[s]=a,s=0;s<a.length;s++)n.add(a[s])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function v(s){return u.call(h,s)?!0:u.call(p,s)?!1:f.test(s)?h[s]=!0:(p[s]=!0,!1)}function _(s,a,m,S){if(m!==null&&m.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return S?!1:m!==null?!m.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function k(s,a,m,S){if(a===null||typeof a>"u"||_(s,a,m,S))return!0;if(S)return!1;if(m!==null)switch(m.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function w(s,a,m,S,R,M,$){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=S,this.attributeNamespace=R,this.mustUseProperty=m,this.propertyName=s,this.type=a,this.sanitizeURL=M,this.removeEmptyString=$}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){y[s]=new w(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];y[a]=new w(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){y[s]=new w(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){y[s]=new w(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){y[s]=new w(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){y[s]=new w(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){y[s]=new w(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){y[s]=new w(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){y[s]=new w(s,5,!1,s.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function g(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(x,g);y[a]=new w(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(x,g);y[a]=new w(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(x,g);y[a]=new w(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!1,!1)}),y.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){y[s]=new w(s,1,!1,s.toLowerCase(),null,!0,!0)});function b(s,a,m,S){var R=y.hasOwnProperty(a)?y[a]:null;(R!==null?R.type!==0:S||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,m,R,S)&&(m=null),S||R===null?v(a)&&(m===null?s.removeAttribute(a):s.setAttribute(a,""+m)):R.mustUseProperty?s[R.propertyName]=m===null?R.type===3?!1:"":m:(a=R.attributeName,S=R.attributeNamespace,m===null?s.removeAttribute(a):(R=R.type,m=R===3||R===4&&m===!0?"":""+m,S?s.setAttributeNS(S,a,m):s.setAttribute(a,m))))}var j=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,N=Symbol.for("react.element"),T=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),B=Symbol.iterator;function D(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var A=Object.assign,I;function W(s){if(I===void 0)try{throw Error()}catch(m){var a=m.stack.trim().match(/\n( *(at )?)/);I=a&&a[1]||""}return`
`+I+s}var O=!1;function re(s,a){if(!s||O)return"";O=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ce){var S=ce}Reflect.construct(s,[],a)}else{try{a.call()}catch(ce){S=ce}s.call(a.prototype)}else{try{throw Error()}catch(ce){S=ce}s()}}catch(ce){if(ce&&S&&typeof ce.stack=="string"){for(var R=ce.stack.split(`
`),M=S.stack.split(`
`),$=R.length-1,J=M.length-1;1<=$&&0<=J&&R[$]!==M[J];)J--;for(;1<=$&&0<=J;$--,J--)if(R[$]!==M[J]){if($!==1||J!==1)do if($--,J--,0>J||R[$]!==M[J]){var Z=`
`+R[$].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=$&&0<=J);break}}}finally{O=!1,Error.prepareStackTrace=m}return(s=s?s.displayName||s.name:"")?W(s):""}function ue(s){switch(s.tag){case 5:return W(s.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return s=re(s.type,!1),s;case 11:return s=re(s.type.render,!1),s;case 1:return s=re(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case P:return"Fragment";case T:return"Portal";case L:return"Profiler";case E:return"StrictMode";case U:return"Suspense";case X:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case z:return(s._context.displayName||"Context")+".Provider";case V:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case K:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case q:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}function Y(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(a);case 8:return a===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function H(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function se(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ee(s){var a=se(s)?"checked":"value",m=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),S=""+s[a];if(!s.hasOwnProperty(a)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var R=m.get,M=m.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return R.call(this)},set:function($){S=""+$,M.call(this,$)}}),Object.defineProperty(s,a,{enumerable:m.enumerable}),{getValue:function(){return S},setValue:function($){S=""+$},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Q(s){s._valueTracker||(s._valueTracker=ee(s))}function ne(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var m=a.getValue(),S="";return s&&(S=se(s)?s.checked?"true":"false":s.value),s=S,s!==m?(a.setValue(s),!0):!1}function ye(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Oe(s,a){var m=a.checked;return A({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??s._wrapperState.initialChecked})}function ze(s,a){var m=a.defaultValue==null?"":a.defaultValue,S=a.checked!=null?a.checked:a.defaultChecked;m=H(a.value!=null?a.value:m),s._wrapperState={initialChecked:S,initialValue:m,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Xe(s,a){a=a.checked,a!=null&&b(s,"checked",a,!1)}function Te(s,a){Xe(s,a);var m=H(a.value),S=a.type;if(m!=null)S==="number"?(m===0&&s.value===""||s.value!=m)&&(s.value=""+m):s.value!==""+m&&(s.value=""+m);else if(S==="submit"||S==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Re(s,a.type,m):a.hasOwnProperty("defaultValue")&&Re(s,a.type,H(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function Me(s,a,m){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var S=a.type;if(!(S!=="submit"&&S!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,m||a===s.value||(s.value=a),s.defaultValue=a}m=s.name,m!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,m!==""&&(s.name=m)}function Re(s,a,m){(a!=="number"||ye(s.ownerDocument)!==s)&&(m==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+m&&(s.defaultValue=""+m))}var Qe=Array.isArray;function Ze(s,a,m,S){if(s=s.options,a){a={};for(var R=0;R<m.length;R++)a["$"+m[R]]=!0;for(m=0;m<s.length;m++)R=a.hasOwnProperty("$"+s[m].value),s[m].selected!==R&&(s[m].selected=R),R&&S&&(s[m].defaultSelected=!0)}else{for(m=""+H(m),a=null,R=0;R<s.length;R++){if(s[R].value===m){s[R].selected=!0,S&&(s[R].defaultSelected=!0);return}a!==null||s[R].disabled||(a=s[R])}a!==null&&(a.selected=!0)}}function nt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(r(91));return A({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function st(s,a){var m=a.value;if(m==null){if(m=a.children,a=a.defaultValue,m!=null){if(a!=null)throw Error(r(92));if(Qe(m)){if(1<m.length)throw Error(r(93));m=m[0]}a=m}a==null&&(a=""),m=a}s._wrapperState={initialValue:H(m)}}function br(s,a){var m=H(a.value),S=H(a.defaultValue);m!=null&&(m=""+m,m!==s.value&&(s.value=m),a.defaultValue==null&&s.defaultValue!==m&&(s.defaultValue=m)),S!=null&&(s.defaultValue=""+S)}function Mt(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function de(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ae(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?de(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var fe,ve=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,m,S,R){MSApp.execUnsafeLocalFunction(function(){return s(a,m,S,R)})}:s})(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(fe=fe||document.createElement("div"),fe.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=fe.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Pe(s,a){if(a){var m=s.firstChild;if(m&&m===s.lastChild&&m.nodeType===3){m.nodeValue=a;return}}s.textContent=a}var at={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qe=["Webkit","ms","Moz","O"];Object.keys(at).forEach(function(s){qe.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),at[a]=at[s]})});function zt(s,a,m){return a==null||typeof a=="boolean"||a===""?"":m||typeof a!="number"||a===0||at.hasOwnProperty(s)&&at[s]?(""+a).trim():a+"px"}function tr(s,a){s=s.style;for(var m in a)if(a.hasOwnProperty(m)){var S=m.indexOf("--")===0,R=zt(m,a[m],S);m==="float"&&(m="cssFloat"),S?s.setProperty(m,R):s[m]=R}}var jr=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wt(s,a){if(a){if(jr[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(r(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(r(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(r(61))}if(a.style!=null&&typeof a.style!="object")throw Error(r(62))}}function Er(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rr=null;function Zr(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Uo=null,ps=null,Un=null;function Wo(s){if(s=da(s)){if(typeof Uo!="function")throw Error(r(280));var a=s.stateNode;a&&(a=Wl(a),Uo(s.stateNode,s.type,a))}}function Ge(s){ps?Un?Un.push(s):Un=[s]:ps=s}function Nt(){if(ps){var s=ps,a=Un;if(Un=ps=null,Wo(s),a)for(s=0;s<a.length;s++)Wo(a[s])}}function Ht(s,a){return s(a)}function ur(){}var ms=!1;function Dt(s,a,m){if(ms)return s(a,m);ms=!0;try{return Ht(s,a,m)}finally{ms=!1,(ps!==null||Un!==null)&&(ur(),Nt())}}function qt(s,a){var m=s.stateNode;if(m===null)return null;var S=Wl(m);if(S===null)return null;m=S[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(s=s.type,S=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!S;break e;default:s=!1}if(s)return null;if(m&&typeof m!="function")throw Error(r(231,a,typeof m));return m}var gs=!1;if(l)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){gs=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{gs=!1}function $r(s,a,m,S,R,M,$,J,Z){var ce=Array.prototype.slice.call(arguments,3);try{a.apply(m,ce)}catch(ge){this.onError(ge)}}var vs=!1,en=null,Ko=!1,fd=null,Sj={onError:function(s){vs=!0,en=s}};function Cj(s,a,m,S,R,M,$,J,Z){vs=!1,en=null,$r.apply(Sj,arguments)}function kj(s,a,m,S,R,M,$,J,Z){if(Cj.apply(this,arguments),vs){if(vs){var ce=en;vs=!1,en=null}else throw Error(r(198));Ko||(Ko=!0,fd=ce)}}function ii(s){var a=s,m=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(m=a.return),s=a.return;while(s)}return a.tag===3?m:null}function Ig(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Og(s){if(ii(s)!==s)throw Error(r(188))}function jj(s){var a=s.alternate;if(!a){if(a=ii(s),a===null)throw Error(r(188));return a!==s?null:s}for(var m=s,S=a;;){var R=m.return;if(R===null)break;var M=R.alternate;if(M===null){if(S=R.return,S!==null){m=S;continue}break}if(R.child===M.child){for(M=R.child;M;){if(M===m)return Og(R),s;if(M===S)return Og(R),a;M=M.sibling}throw Error(r(188))}if(m.return!==S.return)m=R,S=M;else{for(var $=!1,J=R.child;J;){if(J===m){$=!0,m=R,S=M;break}if(J===S){$=!0,S=R,m=M;break}J=J.sibling}if(!$){for(J=M.child;J;){if(J===m){$=!0,m=M,S=R;break}if(J===S){$=!0,S=M,m=R;break}J=J.sibling}if(!$)throw Error(r(189))}}if(m.alternate!==S)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?s:a}function Bg(s){return s=jj(s),s!==null?Fg(s):null}function Fg(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=Fg(s);if(a!==null)return a;s=s.sibling}return null}var zg=t.unstable_scheduleCallback,Hg=t.unstable_cancelCallback,Ej=t.unstable_shouldYield,Nj=t.unstable_requestPaint,Pt=t.unstable_now,Pj=t.unstable_getCurrentPriorityLevel,pd=t.unstable_ImmediatePriority,$g=t.unstable_UserBlockingPriority,kl=t.unstable_NormalPriority,Tj=t.unstable_LowPriority,Vg=t.unstable_IdlePriority,jl=null,En=null;function Rj(s){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(jl,s,void 0,(s.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:Dj,Aj=Math.log,Mj=Math.LN2;function Dj(s){return s>>>=0,s===0?32:31-(Aj(s)/Mj|0)|0}var El=64,Nl=4194304;function Go(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Pl(s,a){var m=s.pendingLanes;if(m===0)return 0;var S=0,R=s.suspendedLanes,M=s.pingedLanes,$=m&268435455;if($!==0){var J=$&~R;J!==0?S=Go(J):(M&=$,M!==0&&(S=Go(M)))}else $=m&~R,$!==0?S=Go($):M!==0&&(S=Go(M));if(S===0)return 0;if(a!==0&&a!==S&&(a&R)===0&&(R=S&-S,M=a&-a,R>=M||R===16&&(M&4194240)!==0))return a;if((S&4)!==0&&(S|=m&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=S;0<a;)m=31-fn(a),R=1<<m,S|=s[m],a&=~R;return S}function Lj(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ij(s,a){for(var m=s.suspendedLanes,S=s.pingedLanes,R=s.expirationTimes,M=s.pendingLanes;0<M;){var $=31-fn(M),J=1<<$,Z=R[$];Z===-1?((J&m)===0||(J&S)!==0)&&(R[$]=Lj(J,a)):Z<=a&&(s.expiredLanes|=J),M&=~J}}function md(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Ug(){var s=El;return El<<=1,(El&4194240)===0&&(El=64),s}function gd(s){for(var a=[],m=0;31>m;m++)a.push(s);return a}function qo(s,a,m){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-fn(a),s[a]=m}function Oj(s,a){var m=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var S=s.eventTimes;for(s=s.expirationTimes;0<m;){var R=31-fn(m),M=1<<R;a[R]=0,S[R]=-1,s[R]=-1,m&=~M}}function vd(s,a){var m=s.entangledLanes|=a;for(s=s.entanglements;m;){var S=31-fn(m),R=1<<S;R&a|s[S]&a&&(s[S]|=a),m&=~R}}var ut=0;function Wg(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Kg,yd,Gg,qg,Yg,xd=!1,Tl=[],ys=null,xs=null,_s=null,Yo=new Map,Xo=new Map,bs=[],Bj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xg(s,a){switch(s){case"focusin":case"focusout":ys=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":Yo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(a.pointerId)}}function Jo(s,a,m,S,R,M){return s===null||s.nativeEvent!==M?(s={blockedOn:a,domEventName:m,eventSystemFlags:S,nativeEvent:M,targetContainers:[R]},a!==null&&(a=da(a),a!==null&&yd(a)),s):(s.eventSystemFlags|=S,a=s.targetContainers,R!==null&&a.indexOf(R)===-1&&a.push(R),s)}function Fj(s,a,m,S,R){switch(a){case"focusin":return ys=Jo(ys,s,a,m,S,R),!0;case"dragenter":return xs=Jo(xs,s,a,m,S,R),!0;case"mouseover":return _s=Jo(_s,s,a,m,S,R),!0;case"pointerover":var M=R.pointerId;return Yo.set(M,Jo(Yo.get(M)||null,s,a,m,S,R)),!0;case"gotpointercapture":return M=R.pointerId,Xo.set(M,Jo(Xo.get(M)||null,s,a,m,S,R)),!0}return!1}function Jg(s){var a=oi(s.target);if(a!==null){var m=ii(a);if(m!==null){if(a=m.tag,a===13){if(a=Ig(m),a!==null){s.blockedOn=a,Yg(s.priority,function(){Gg(m)});return}}else if(a===3&&m.stateNode.current.memoizedState.isDehydrated){s.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Rl(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var m=bd(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(m===null){m=s.nativeEvent;var S=new m.constructor(m.type,m);rr=S,m.target.dispatchEvent(S),rr=null}else return a=da(m),a!==null&&yd(a),s.blockedOn=m,!1;a.shift()}return!0}function Qg(s,a,m){Rl(s)&&m.delete(a)}function zj(){xd=!1,ys!==null&&Rl(ys)&&(ys=null),xs!==null&&Rl(xs)&&(xs=null),_s!==null&&Rl(_s)&&(_s=null),Yo.forEach(Qg),Xo.forEach(Qg)}function Qo(s,a){s.blockedOn===a&&(s.blockedOn=null,xd||(xd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,zj)))}function Zo(s){function a(R){return Qo(R,s)}if(0<Tl.length){Qo(Tl[0],s);for(var m=1;m<Tl.length;m++){var S=Tl[m];S.blockedOn===s&&(S.blockedOn=null)}}for(ys!==null&&Qo(ys,s),xs!==null&&Qo(xs,s),_s!==null&&Qo(_s,s),Yo.forEach(a),Xo.forEach(a),m=0;m<bs.length;m++)S=bs[m],S.blockedOn===s&&(S.blockedOn=null);for(;0<bs.length&&(m=bs[0],m.blockedOn===null);)Jg(m),m.blockedOn===null&&bs.shift()}var Oi=j.ReactCurrentBatchConfig,Al=!0;function Hj(s,a,m,S){var R=ut,M=Oi.transition;Oi.transition=null;try{ut=1,_d(s,a,m,S)}finally{ut=R,Oi.transition=M}}function $j(s,a,m,S){var R=ut,M=Oi.transition;Oi.transition=null;try{ut=4,_d(s,a,m,S)}finally{ut=R,Oi.transition=M}}function _d(s,a,m,S){if(Al){var R=bd(s,a,m,S);if(R===null)Bd(s,a,S,Ml,m),Xg(s,S);else if(Fj(R,s,a,m,S))S.stopPropagation();else if(Xg(s,S),a&4&&-1<Bj.indexOf(s)){for(;R!==null;){var M=da(R);if(M!==null&&Kg(M),M=bd(s,a,m,S),M===null&&Bd(s,a,S,Ml,m),M===R)break;R=M}R!==null&&S.stopPropagation()}else Bd(s,a,S,null,m)}}var Ml=null;function bd(s,a,m,S){if(Ml=null,s=Zr(S),s=oi(s),s!==null)if(a=ii(s),a===null)s=null;else if(m=a.tag,m===13){if(s=Ig(a),s!==null)return s;s=null}else if(m===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ml=s,null}function Zg(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pj()){case pd:return 1;case $g:return 4;case kl:case Tj:return 16;case Vg:return 536870912;default:return 16}default:return 16}}var ws=null,wd=null,Dl=null;function ev(){if(Dl)return Dl;var s,a=wd,m=a.length,S,R="value"in ws?ws.value:ws.textContent,M=R.length;for(s=0;s<m&&a[s]===R[s];s++);var $=m-s;for(S=1;S<=$&&a[m-S]===R[M-S];S++);return Dl=R.slice(s,1<S?1-S:void 0)}function Ll(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Il(){return!0}function tv(){return!1}function Vr(s){function a(m,S,R,M,$){this._reactName=m,this._targetInst=R,this.type=S,this.nativeEvent=M,this.target=$,this.currentTarget=null;for(var J in s)s.hasOwnProperty(J)&&(m=s[J],this[J]=m?m(M):M[J]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Il:tv,this.isPropagationStopped=tv,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Il)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Il)},persist:function(){},isPersistent:Il}),a}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sd=Vr(Bi),ea=A({},Bi,{view:0,detail:0}),Vj=Vr(ea),Cd,kd,ta,Ol=A({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ta&&(ta&&s.type==="mousemove"?(Cd=s.screenX-ta.screenX,kd=s.screenY-ta.screenY):kd=Cd=0,ta=s),Cd)},movementY:function(s){return"movementY"in s?s.movementY:kd}}),rv=Vr(Ol),Uj=A({},Ol,{dataTransfer:0}),Wj=Vr(Uj),Kj=A({},ea,{relatedTarget:0}),jd=Vr(Kj),Gj=A({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),qj=Vr(Gj),Yj=A({},Bi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Xj=Vr(Yj),Jj=A({},Bi,{data:0}),nv=Vr(Jj),Qj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tE(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=eE[s])?!!a[s]:!1}function Ed(){return tE}var rE=A({},ea,{key:function(s){if(s.key){var a=Qj[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ll(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Zj[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(s){return s.type==="keypress"?Ll(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ll(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),nE=Vr(rE),sE=A({},Ol,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sv=Vr(sE),iE=A({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),oE=Vr(iE),aE=A({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lE=Vr(aE),cE=A({},Ol,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),uE=Vr(cE),dE=[9,13,27,32],Nd=l&&"CompositionEvent"in window,ra=null;l&&"documentMode"in document&&(ra=document.documentMode);var hE=l&&"TextEvent"in window&&!ra,iv=l&&(!Nd||ra&&8<ra&&11>=ra),ov=" ",av=!1;function lv(s,a){switch(s){case"keyup":return dE.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cv(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Fi=!1;function fE(s,a){switch(s){case"compositionend":return cv(a);case"keypress":return a.which!==32?null:(av=!0,ov);case"textInput":return s=a.data,s===ov&&av?null:s;default:return null}}function pE(s,a){if(Fi)return s==="compositionend"||!Nd&&lv(s,a)?(s=ev(),Dl=wd=ws=null,Fi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return iv&&a.locale!=="ko"?null:a.data;default:return null}}var mE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!mE[s.type]:a==="textarea"}function dv(s,a,m,S){Ge(S),a=$l(a,"onChange"),0<a.length&&(m=new Sd("onChange","change",null,m,S),s.push({event:m,listeners:a}))}var na=null,sa=null;function gE(s){Pv(s,0)}function Bl(s){var a=Ui(s);if(ne(a))return s}function vE(s,a){if(s==="change")return a}var hv=!1;if(l){var Pd;if(l){var Td="oninput"in document;if(!Td){var fv=document.createElement("div");fv.setAttribute("oninput","return;"),Td=typeof fv.oninput=="function"}Pd=Td}else Pd=!1;hv=Pd&&(!document.documentMode||9<document.documentMode)}function pv(){na&&(na.detachEvent("onpropertychange",mv),sa=na=null)}function mv(s){if(s.propertyName==="value"&&Bl(sa)){var a=[];dv(a,sa,s,Zr(s)),Dt(gE,a)}}function yE(s,a,m){s==="focusin"?(pv(),na=a,sa=m,na.attachEvent("onpropertychange",mv)):s==="focusout"&&pv()}function xE(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Bl(sa)}function _E(s,a){if(s==="click")return Bl(a)}function bE(s,a){if(s==="input"||s==="change")return Bl(a)}function wE(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var pn=typeof Object.is=="function"?Object.is:wE;function ia(s,a){if(pn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var m=Object.keys(s),S=Object.keys(a);if(m.length!==S.length)return!1;for(S=0;S<m.length;S++){var R=m[S];if(!u.call(a,R)||!pn(s[R],a[R]))return!1}return!0}function gv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function vv(s,a){var m=gv(s);s=0;for(var S;m;){if(m.nodeType===3){if(S=s+m.textContent.length,s<=a&&S>=a)return{node:m,offset:a-s};s=S}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=gv(m)}}function yv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?yv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function xv(){for(var s=window,a=ye();a instanceof s.HTMLIFrameElement;){try{var m=typeof a.contentWindow.location.href=="string"}catch{m=!1}if(m)s=a.contentWindow;else break;a=ye(s.document)}return a}function Rd(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function SE(s){var a=xv(),m=s.focusedElem,S=s.selectionRange;if(a!==m&&m&&m.ownerDocument&&yv(m.ownerDocument.documentElement,m)){if(S!==null&&Rd(m)){if(a=S.start,s=S.end,s===void 0&&(s=a),"selectionStart"in m)m.selectionStart=a,m.selectionEnd=Math.min(s,m.value.length);else if(s=(a=m.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var R=m.textContent.length,M=Math.min(S.start,R);S=S.end===void 0?M:Math.min(S.end,R),!s.extend&&M>S&&(R=S,S=M,M=R),R=vv(m,M);var $=vv(m,S);R&&$&&(s.rangeCount!==1||s.anchorNode!==R.node||s.anchorOffset!==R.offset||s.focusNode!==$.node||s.focusOffset!==$.offset)&&(a=a.createRange(),a.setStart(R.node,R.offset),s.removeAllRanges(),M>S?(s.addRange(a),s.extend($.node,$.offset)):(a.setEnd($.node,$.offset),s.addRange(a)))}}for(a=[],s=m;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<a.length;m++)s=a[m],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var CE=l&&"documentMode"in document&&11>=document.documentMode,zi=null,Ad=null,oa=null,Md=!1;function _v(s,a,m){var S=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Md||zi==null||zi!==ye(S)||(S=zi,"selectionStart"in S&&Rd(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),oa&&ia(oa,S)||(oa=S,S=$l(Ad,"onSelect"),0<S.length&&(a=new Sd("onSelect","select",null,a,m),s.push({event:a,listeners:S}),a.target=zi)))}function Fl(s,a){var m={};return m[s.toLowerCase()]=a.toLowerCase(),m["Webkit"+s]="webkit"+a,m["Moz"+s]="moz"+a,m}var Hi={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},Dd={},bv={};l&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function zl(s){if(Dd[s])return Dd[s];if(!Hi[s])return s;var a=Hi[s],m;for(m in a)if(a.hasOwnProperty(m)&&m in bv)return Dd[s]=a[m];return s}var wv=zl("animationend"),Sv=zl("animationiteration"),Cv=zl("animationstart"),kv=zl("transitionend"),jv=new Map,Ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(s,a){jv.set(s,a),d(a,[s])}for(var Ld=0;Ld<Ev.length;Ld++){var Id=Ev[Ld],kE=Id.toLowerCase(),jE=Id[0].toUpperCase()+Id.slice(1);Ss(kE,"on"+jE)}Ss(wv,"onAnimationEnd"),Ss(Sv,"onAnimationIteration"),Ss(Cv,"onAnimationStart"),Ss("dblclick","onDoubleClick"),Ss("focusin","onFocus"),Ss("focusout","onBlur"),Ss(kv,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("cancel close invalid load scroll toggle".split(" ").concat(aa));function Nv(s,a,m){var S=s.type||"unknown-event";s.currentTarget=m,kj(S,a,void 0,s),s.currentTarget=null}function Pv(s,a){a=(a&4)!==0;for(var m=0;m<s.length;m++){var S=s[m],R=S.event;S=S.listeners;e:{var M=void 0;if(a)for(var $=S.length-1;0<=$;$--){var J=S[$],Z=J.instance,ce=J.currentTarget;if(J=J.listener,Z!==M&&R.isPropagationStopped())break e;Nv(R,J,ce),M=Z}else for($=0;$<S.length;$++){if(J=S[$],Z=J.instance,ce=J.currentTarget,J=J.listener,Z!==M&&R.isPropagationStopped())break e;Nv(R,J,ce),M=Z}}}if(Ko)throw s=fd,Ko=!1,fd=null,s}function yt(s,a){var m=a[Ud];m===void 0&&(m=a[Ud]=new Set);var S=s+"__bubble";m.has(S)||(Tv(a,s,2,!1),m.add(S))}function Od(s,a,m){var S=0;a&&(S|=4),Tv(m,s,S,a)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function la(s){if(!s[Hl]){s[Hl]=!0,n.forEach(function(m){m!=="selectionchange"&&(EE.has(m)||Od(m,!1,s),Od(m,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Hl]||(a[Hl]=!0,Od("selectionchange",!1,a))}}function Tv(s,a,m,S){switch(Zg(a)){case 1:var R=Hj;break;case 4:R=$j;break;default:R=_d}m=R.bind(null,a,m,s),R=void 0,!gs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(R=!0),S?R!==void 0?s.addEventListener(a,m,{capture:!0,passive:R}):s.addEventListener(a,m,!0):R!==void 0?s.addEventListener(a,m,{passive:R}):s.addEventListener(a,m,!1)}function Bd(s,a,m,S,R){var M=S;if((a&1)===0&&(a&2)===0&&S!==null)e:for(;;){if(S===null)return;var $=S.tag;if($===3||$===4){var J=S.stateNode.containerInfo;if(J===R||J.nodeType===8&&J.parentNode===R)break;if($===4)for($=S.return;$!==null;){var Z=$.tag;if((Z===3||Z===4)&&(Z=$.stateNode.containerInfo,Z===R||Z.nodeType===8&&Z.parentNode===R))return;$=$.return}for(;J!==null;){if($=oi(J),$===null)return;if(Z=$.tag,Z===5||Z===6){S=M=$;continue e}J=J.parentNode}}S=S.return}Dt(function(){var ce=M,ge=Zr(m),xe=[];e:{var me=jv.get(s);if(me!==void 0){var Ne=Sd,De=s;switch(s){case"keypress":if(Ll(m)===0)break e;case"keydown":case"keyup":Ne=nE;break;case"focusin":De="focus",Ne=jd;break;case"focusout":De="blur",Ne=jd;break;case"beforeblur":case"afterblur":Ne=jd;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=rv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=Wj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=oE;break;case wv:case Sv:case Cv:Ne=qj;break;case kv:Ne=lE;break;case"scroll":Ne=Vj;break;case"wheel":Ne=uE;break;case"copy":case"cut":case"paste":Ne=Xj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=sv}var Be=(a&4)!==0,Tt=!Be&&s==="scroll",oe=Be?me!==null?me+"Capture":null:me;Be=[];for(var te=ce,le;te!==null;){le=te;var be=le.stateNode;if(le.tag===5&&be!==null&&(le=be,oe!==null&&(be=qt(te,oe),be!=null&&Be.push(ca(te,be,le)))),Tt)break;te=te.return}0<Be.length&&(me=new Ne(me,De,null,m,ge),xe.push({event:me,listeners:Be}))}}if((a&7)===0){e:{if(me=s==="mouseover"||s==="pointerover",Ne=s==="mouseout"||s==="pointerout",me&&m!==rr&&(De=m.relatedTarget||m.fromElement)&&(oi(De)||De[Wn]))break e;if((Ne||me)&&(me=ge.window===ge?ge:(me=ge.ownerDocument)?me.defaultView||me.parentWindow:window,Ne?(De=m.relatedTarget||m.toElement,Ne=ce,De=De?oi(De):null,De!==null&&(Tt=ii(De),De!==Tt||De.tag!==5&&De.tag!==6)&&(De=null)):(Ne=null,De=ce),Ne!==De)){if(Be=rv,be="onMouseLeave",oe="onMouseEnter",te="mouse",(s==="pointerout"||s==="pointerover")&&(Be=sv,be="onPointerLeave",oe="onPointerEnter",te="pointer"),Tt=Ne==null?me:Ui(Ne),le=De==null?me:Ui(De),me=new Be(be,te+"leave",Ne,m,ge),me.target=Tt,me.relatedTarget=le,be=null,oi(ge)===ce&&(Be=new Be(oe,te+"enter",De,m,ge),Be.target=le,Be.relatedTarget=Tt,be=Be),Tt=be,Ne&&De)t:{for(Be=Ne,oe=De,te=0,le=Be;le;le=$i(le))te++;for(le=0,be=oe;be;be=$i(be))le++;for(;0<te-le;)Be=$i(Be),te--;for(;0<le-te;)oe=$i(oe),le--;for(;te--;){if(Be===oe||oe!==null&&Be===oe.alternate)break t;Be=$i(Be),oe=$i(oe)}Be=null}else Be=null;Ne!==null&&Rv(xe,me,Ne,Be,!1),De!==null&&Tt!==null&&Rv(xe,Tt,De,Be,!0)}}e:{if(me=ce?Ui(ce):window,Ne=me.nodeName&&me.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&me.type==="file")var Fe=vE;else if(uv(me))if(hv)Fe=bE;else{Fe=xE;var He=yE}else(Ne=me.nodeName)&&Ne.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Fe=_E);if(Fe&&(Fe=Fe(s,ce))){dv(xe,Fe,m,ge);break e}He&&He(s,me,ce),s==="focusout"&&(He=me._wrapperState)&&He.controlled&&me.type==="number"&&Re(me,"number",me.value)}switch(He=ce?Ui(ce):window,s){case"focusin":(uv(He)||He.contentEditable==="true")&&(zi=He,Ad=ce,oa=null);break;case"focusout":oa=Ad=zi=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,_v(xe,m,ge);break;case"selectionchange":if(CE)break;case"keydown":case"keyup":_v(xe,m,ge)}var $e;if(Nd)e:{switch(s){case"compositionstart":var We="onCompositionStart";break e;case"compositionend":We="onCompositionEnd";break e;case"compositionupdate":We="onCompositionUpdate";break e}We=void 0}else Fi?lv(s,m)&&(We="onCompositionEnd"):s==="keydown"&&m.keyCode===229&&(We="onCompositionStart");We&&(iv&&m.locale!=="ko"&&(Fi||We!=="onCompositionStart"?We==="onCompositionEnd"&&Fi&&($e=ev()):(ws=ge,wd="value"in ws?ws.value:ws.textContent,Fi=!0)),He=$l(ce,We),0<He.length&&(We=new nv(We,s,null,m,ge),xe.push({event:We,listeners:He}),$e?We.data=$e:($e=cv(m),$e!==null&&(We.data=$e)))),($e=hE?fE(s,m):pE(s,m))&&(ce=$l(ce,"onBeforeInput"),0<ce.length&&(ge=new nv("onBeforeInput","beforeinput",null,m,ge),xe.push({event:ge,listeners:ce}),ge.data=$e))}Pv(xe,a)})}function ca(s,a,m){return{instance:s,listener:a,currentTarget:m}}function $l(s,a){for(var m=a+"Capture",S=[];s!==null;){var R=s,M=R.stateNode;R.tag===5&&M!==null&&(R=M,M=qt(s,m),M!=null&&S.unshift(ca(s,M,R)),M=qt(s,a),M!=null&&S.push(ca(s,M,R))),s=s.return}return S}function $i(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Rv(s,a,m,S,R){for(var M=a._reactName,$=[];m!==null&&m!==S;){var J=m,Z=J.alternate,ce=J.stateNode;if(Z!==null&&Z===S)break;J.tag===5&&ce!==null&&(J=ce,R?(Z=qt(m,M),Z!=null&&$.unshift(ca(m,Z,J))):R||(Z=qt(m,M),Z!=null&&$.push(ca(m,Z,J)))),m=m.return}$.length!==0&&s.push({event:a,listeners:$})}var NE=/\r\n?/g,PE=/\u0000|\uFFFD/g;function Av(s){return(typeof s=="string"?s:""+s).replace(NE,`
`).replace(PE,"")}function Vl(s,a,m){if(a=Av(a),Av(s)!==a&&m)throw Error(r(425))}function Ul(){}var Fd=null,zd=null;function Hd(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var $d=typeof setTimeout=="function"?setTimeout:void 0,TE=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,RE=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(s){return Mv.resolve(null).then(s).catch(AE)}:$d;function AE(s){setTimeout(function(){throw s})}function Vd(s,a){var m=a,S=0;do{var R=m.nextSibling;if(s.removeChild(m),R&&R.nodeType===8)if(m=R.data,m==="/$"){if(S===0){s.removeChild(R),Zo(a);return}S--}else m!=="$"&&m!=="$?"&&m!=="$!"||S++;m=R}while(m);Zo(a)}function Cs(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Dv(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var m=s.data;if(m==="$"||m==="$!"||m==="$?"){if(a===0)return s;a--}else m==="/$"&&a++}s=s.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),Nn="__reactFiber$"+Vi,ua="__reactProps$"+Vi,Wn="__reactContainer$"+Vi,Ud="__reactEvents$"+Vi,ME="__reactListeners$"+Vi,DE="__reactHandles$"+Vi;function oi(s){var a=s[Nn];if(a)return a;for(var m=s.parentNode;m;){if(a=m[Wn]||m[Nn]){if(m=a.alternate,a.child!==null||m!==null&&m.child!==null)for(s=Dv(s);s!==null;){if(m=s[Nn])return m;s=Dv(s)}return a}s=m,m=s.parentNode}return null}function da(s){return s=s[Nn]||s[Wn],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Ui(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(r(33))}function Wl(s){return s[ua]||null}var Wd=[],Wi=-1;function ks(s){return{current:s}}function xt(s){0>Wi||(s.current=Wd[Wi],Wd[Wi]=null,Wi--)}function ft(s,a){Wi++,Wd[Wi]=s.current,s.current=a}var js={},dr=ks(js),Nr=ks(!1),ai=js;function Ki(s,a){var m=s.type.contextTypes;if(!m)return js;var S=s.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===a)return S.__reactInternalMemoizedMaskedChildContext;var R={},M;for(M in m)R[M]=a[M];return S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=R),R}function Pr(s){return s=s.childContextTypes,s!=null}function Kl(){xt(Nr),xt(dr)}function Lv(s,a,m){if(dr.current!==js)throw Error(r(168));ft(dr,a),ft(Nr,m)}function Iv(s,a,m){var S=s.stateNode;if(a=a.childContextTypes,typeof S.getChildContext!="function")return m;S=S.getChildContext();for(var R in S)if(!(R in a))throw Error(r(108,Y(s)||"Unknown",R));return A({},m,S)}function Gl(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||js,ai=dr.current,ft(dr,s),ft(Nr,Nr.current),!0}function Ov(s,a,m){var S=s.stateNode;if(!S)throw Error(r(169));m?(s=Iv(s,a,ai),S.__reactInternalMemoizedMergedChildContext=s,xt(Nr),xt(dr),ft(dr,s)):xt(Nr),ft(Nr,m)}var Kn=null,ql=!1,Kd=!1;function Bv(s){Kn===null?Kn=[s]:Kn.push(s)}function LE(s){ql=!0,Bv(s)}function Es(){if(!Kd&&Kn!==null){Kd=!0;var s=0,a=ut;try{var m=Kn;for(ut=1;s<m.length;s++){var S=m[s];do S=S(!0);while(S!==null)}Kn=null,ql=!1}catch(R){throw Kn!==null&&(Kn=Kn.slice(s+1)),zg(pd,Es),R}finally{ut=a,Kd=!1}}return null}var Gi=[],qi=0,Yl=null,Xl=0,tn=[],rn=0,li=null,Gn=1,qn="";function ci(s,a){Gi[qi++]=Xl,Gi[qi++]=Yl,Yl=s,Xl=a}function Fv(s,a,m){tn[rn++]=Gn,tn[rn++]=qn,tn[rn++]=li,li=s;var S=Gn;s=qn;var R=32-fn(S)-1;S&=~(1<<R),m+=1;var M=32-fn(a)+R;if(30<M){var $=R-R%5;M=(S&(1<<$)-1).toString(32),S>>=$,R-=$,Gn=1<<32-fn(a)+R|m<<R|S,qn=M+s}else Gn=1<<M|m<<R|S,qn=s}function Gd(s){s.return!==null&&(ci(s,1),Fv(s,1,0))}function qd(s){for(;s===Yl;)Yl=Gi[--qi],Gi[qi]=null,Xl=Gi[--qi],Gi[qi]=null;for(;s===li;)li=tn[--rn],tn[rn]=null,qn=tn[--rn],tn[rn]=null,Gn=tn[--rn],tn[rn]=null}var Ur=null,Wr=null,bt=!1,mn=null;function zv(s,a){var m=an(5,null,null,0);m.elementType="DELETED",m.stateNode=a,m.return=s,a=s.deletions,a===null?(s.deletions=[m],s.flags|=16):a.push(m)}function Hv(s,a){switch(s.tag){case 5:var m=s.type;return a=a.nodeType!==1||m.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,Ur=s,Wr=Cs(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,Ur=s,Wr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(m=li!==null?{id:Gn,overflow:qn}:null,s.memoizedState={dehydrated:a,treeContext:m,retryLane:1073741824},m=an(18,null,null,0),m.stateNode=a,m.return=s,s.child=m,Ur=s,Wr=null,!0):!1;default:return!1}}function Yd(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Xd(s){if(bt){var a=Wr;if(a){var m=a;if(!Hv(s,a)){if(Yd(s))throw Error(r(418));a=Cs(m.nextSibling);var S=Ur;a&&Hv(s,a)?zv(S,m):(s.flags=s.flags&-4097|2,bt=!1,Ur=s)}}else{if(Yd(s))throw Error(r(418));s.flags=s.flags&-4097|2,bt=!1,Ur=s}}}function $v(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Ur=s}function Jl(s){if(s!==Ur)return!1;if(!bt)return $v(s),bt=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!Hd(s.type,s.memoizedProps)),a&&(a=Wr)){if(Yd(s))throw Vv(),Error(r(418));for(;a;)zv(s,a),a=Cs(a.nextSibling)}if($v(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(r(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var m=s.data;if(m==="/$"){if(a===0){Wr=Cs(s.nextSibling);break e}a--}else m!=="$"&&m!=="$!"&&m!=="$?"||a++}s=s.nextSibling}Wr=null}}else Wr=Ur?Cs(s.stateNode.nextSibling):null;return!0}function Vv(){for(var s=Wr;s;)s=Cs(s.nextSibling)}function Yi(){Wr=Ur=null,bt=!1}function Jd(s){mn===null?mn=[s]:mn.push(s)}var IE=j.ReactCurrentBatchConfig;function ha(s,a,m){if(s=m.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var S=m.stateNode}if(!S)throw Error(r(147,s));var R=S,M=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===M?a.ref:(a=function($){var J=R.refs;$===null?delete J[M]:J[M]=$},a._stringRef=M,a)}if(typeof s!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,s))}return s}function Ql(s,a){throw s=Object.prototype.toString.call(a),Error(r(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Uv(s){var a=s._init;return a(s._payload)}function Wv(s){function a(oe,te){if(s){var le=oe.deletions;le===null?(oe.deletions=[te],oe.flags|=16):le.push(te)}}function m(oe,te){if(!s)return null;for(;te!==null;)a(oe,te),te=te.sibling;return null}function S(oe,te){for(oe=new Map;te!==null;)te.key!==null?oe.set(te.key,te):oe.set(te.index,te),te=te.sibling;return oe}function R(oe,te){return oe=Ls(oe,te),oe.index=0,oe.sibling=null,oe}function M(oe,te,le){return oe.index=le,s?(le=oe.alternate,le!==null?(le=le.index,le<te?(oe.flags|=2,te):le):(oe.flags|=2,te)):(oe.flags|=1048576,te)}function $(oe){return s&&oe.alternate===null&&(oe.flags|=2),oe}function J(oe,te,le,be){return te===null||te.tag!==6?(te=$h(le,oe.mode,be),te.return=oe,te):(te=R(te,le),te.return=oe,te)}function Z(oe,te,le,be){var Fe=le.type;return Fe===P?ge(oe,te,le.props.children,be,le.key):te!==null&&(te.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===q&&Uv(Fe)===te.type)?(be=R(te,le.props),be.ref=ha(oe,te,le),be.return=oe,be):(be=wc(le.type,le.key,le.props,null,oe.mode,be),be.ref=ha(oe,te,le),be.return=oe,be)}function ce(oe,te,le,be){return te===null||te.tag!==4||te.stateNode.containerInfo!==le.containerInfo||te.stateNode.implementation!==le.implementation?(te=Vh(le,oe.mode,be),te.return=oe,te):(te=R(te,le.children||[]),te.return=oe,te)}function ge(oe,te,le,be,Fe){return te===null||te.tag!==7?(te=vi(le,oe.mode,be,Fe),te.return=oe,te):(te=R(te,le),te.return=oe,te)}function xe(oe,te,le){if(typeof te=="string"&&te!==""||typeof te=="number")return te=$h(""+te,oe.mode,le),te.return=oe,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case N:return le=wc(te.type,te.key,te.props,null,oe.mode,le),le.ref=ha(oe,null,te),le.return=oe,le;case T:return te=Vh(te,oe.mode,le),te.return=oe,te;case q:var be=te._init;return xe(oe,be(te._payload),le)}if(Qe(te)||D(te))return te=vi(te,oe.mode,le,null),te.return=oe,te;Ql(oe,te)}return null}function me(oe,te,le,be){var Fe=te!==null?te.key:null;if(typeof le=="string"&&le!==""||typeof le=="number")return Fe!==null?null:J(oe,te,""+le,be);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case N:return le.key===Fe?Z(oe,te,le,be):null;case T:return le.key===Fe?ce(oe,te,le,be):null;case q:return Fe=le._init,me(oe,te,Fe(le._payload),be)}if(Qe(le)||D(le))return Fe!==null?null:ge(oe,te,le,be,null);Ql(oe,le)}return null}function Ne(oe,te,le,be,Fe){if(typeof be=="string"&&be!==""||typeof be=="number")return oe=oe.get(le)||null,J(te,oe,""+be,Fe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case N:return oe=oe.get(be.key===null?le:be.key)||null,Z(te,oe,be,Fe);case T:return oe=oe.get(be.key===null?le:be.key)||null,ce(te,oe,be,Fe);case q:var He=be._init;return Ne(oe,te,le,He(be._payload),Fe)}if(Qe(be)||D(be))return oe=oe.get(le)||null,ge(te,oe,be,Fe,null);Ql(te,be)}return null}function De(oe,te,le,be){for(var Fe=null,He=null,$e=te,We=te=0,Jt=null;$e!==null&&We<le.length;We++){$e.index>We?(Jt=$e,$e=null):Jt=$e.sibling;var lt=me(oe,$e,le[We],be);if(lt===null){$e===null&&($e=Jt);break}s&&$e&&lt.alternate===null&&a(oe,$e),te=M(lt,te,We),He===null?Fe=lt:He.sibling=lt,He=lt,$e=Jt}if(We===le.length)return m(oe,$e),bt&&ci(oe,We),Fe;if($e===null){for(;We<le.length;We++)$e=xe(oe,le[We],be),$e!==null&&(te=M($e,te,We),He===null?Fe=$e:He.sibling=$e,He=$e);return bt&&ci(oe,We),Fe}for($e=S(oe,$e);We<le.length;We++)Jt=Ne($e,oe,We,le[We],be),Jt!==null&&(s&&Jt.alternate!==null&&$e.delete(Jt.key===null?We:Jt.key),te=M(Jt,te,We),He===null?Fe=Jt:He.sibling=Jt,He=Jt);return s&&$e.forEach(function(Is){return a(oe,Is)}),bt&&ci(oe,We),Fe}function Be(oe,te,le,be){var Fe=D(le);if(typeof Fe!="function")throw Error(r(150));if(le=Fe.call(le),le==null)throw Error(r(151));for(var He=Fe=null,$e=te,We=te=0,Jt=null,lt=le.next();$e!==null&&!lt.done;We++,lt=le.next()){$e.index>We?(Jt=$e,$e=null):Jt=$e.sibling;var Is=me(oe,$e,lt.value,be);if(Is===null){$e===null&&($e=Jt);break}s&&$e&&Is.alternate===null&&a(oe,$e),te=M(Is,te,We),He===null?Fe=Is:He.sibling=Is,He=Is,$e=Jt}if(lt.done)return m(oe,$e),bt&&ci(oe,We),Fe;if($e===null){for(;!lt.done;We++,lt=le.next())lt=xe(oe,lt.value,be),lt!==null&&(te=M(lt,te,We),He===null?Fe=lt:He.sibling=lt,He=lt);return bt&&ci(oe,We),Fe}for($e=S(oe,$e);!lt.done;We++,lt=le.next())lt=Ne($e,oe,We,lt.value,be),lt!==null&&(s&&lt.alternate!==null&&$e.delete(lt.key===null?We:lt.key),te=M(lt,te,We),He===null?Fe=lt:He.sibling=lt,He=lt);return s&&$e.forEach(function(mN){return a(oe,mN)}),bt&&ci(oe,We),Fe}function Tt(oe,te,le,be){if(typeof le=="object"&&le!==null&&le.type===P&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case N:e:{for(var Fe=le.key,He=te;He!==null;){if(He.key===Fe){if(Fe=le.type,Fe===P){if(He.tag===7){m(oe,He.sibling),te=R(He,le.props.children),te.return=oe,oe=te;break e}}else if(He.elementType===Fe||typeof Fe=="object"&&Fe!==null&&Fe.$$typeof===q&&Uv(Fe)===He.type){m(oe,He.sibling),te=R(He,le.props),te.ref=ha(oe,He,le),te.return=oe,oe=te;break e}m(oe,He);break}else a(oe,He);He=He.sibling}le.type===P?(te=vi(le.props.children,oe.mode,be,le.key),te.return=oe,oe=te):(be=wc(le.type,le.key,le.props,null,oe.mode,be),be.ref=ha(oe,te,le),be.return=oe,oe=be)}return $(oe);case T:e:{for(He=le.key;te!==null;){if(te.key===He)if(te.tag===4&&te.stateNode.containerInfo===le.containerInfo&&te.stateNode.implementation===le.implementation){m(oe,te.sibling),te=R(te,le.children||[]),te.return=oe,oe=te;break e}else{m(oe,te);break}else a(oe,te);te=te.sibling}te=Vh(le,oe.mode,be),te.return=oe,oe=te}return $(oe);case q:return He=le._init,Tt(oe,te,He(le._payload),be)}if(Qe(le))return De(oe,te,le,be);if(D(le))return Be(oe,te,le,be);Ql(oe,le)}return typeof le=="string"&&le!==""||typeof le=="number"?(le=""+le,te!==null&&te.tag===6?(m(oe,te.sibling),te=R(te,le),te.return=oe,oe=te):(m(oe,te),te=$h(le,oe.mode,be),te.return=oe,oe=te),$(oe)):m(oe,te)}return Tt}var Xi=Wv(!0),Kv=Wv(!1),Zl=ks(null),ec=null,Ji=null,Qd=null;function Zd(){Qd=Ji=ec=null}function eh(s){var a=Zl.current;xt(Zl),s._currentValue=a}function th(s,a,m){for(;s!==null;){var S=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,S!==null&&(S.childLanes|=a)):S!==null&&(S.childLanes&a)!==a&&(S.childLanes|=a),s===m)break;s=s.return}}function Qi(s,a){ec=s,Qd=Ji=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Tr=!0),s.firstContext=null)}function nn(s){var a=s._currentValue;if(Qd!==s)if(s={context:s,memoizedValue:a,next:null},Ji===null){if(ec===null)throw Error(r(308));Ji=s,ec.dependencies={lanes:0,firstContext:s}}else Ji=Ji.next=s;return a}var ui=null;function rh(s){ui===null?ui=[s]:ui.push(s)}function Gv(s,a,m,S){var R=a.interleaved;return R===null?(m.next=m,rh(a)):(m.next=R.next,R.next=m),a.interleaved=m,Yn(s,S)}function Yn(s,a){s.lanes|=a;var m=s.alternate;for(m!==null&&(m.lanes|=a),m=s,s=s.return;s!==null;)s.childLanes|=a,m=s.alternate,m!==null&&(m.childLanes|=a),m=s,s=s.return;return m.tag===3?m.stateNode:null}var Ns=!1;function nh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qv(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xn(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Ps(s,a,m){var S=s.updateQueue;if(S===null)return null;if(S=S.shared,(it&2)!==0){var R=S.pending;return R===null?a.next=a:(a.next=R.next,R.next=a),S.pending=a,Yn(s,m)}return R=S.interleaved,R===null?(a.next=a,rh(S)):(a.next=R.next,R.next=a),S.interleaved=a,Yn(s,m)}function tc(s,a,m){if(a=a.updateQueue,a!==null&&(a=a.shared,(m&4194240)!==0)){var S=a.lanes;S&=s.pendingLanes,m|=S,a.lanes=m,vd(s,m)}}function Yv(s,a){var m=s.updateQueue,S=s.alternate;if(S!==null&&(S=S.updateQueue,m===S)){var R=null,M=null;if(m=m.firstBaseUpdate,m!==null){do{var $={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};M===null?R=M=$:M=M.next=$,m=m.next}while(m!==null);M===null?R=M=a:M=M.next=a}else R=M=a;m={baseState:S.baseState,firstBaseUpdate:R,lastBaseUpdate:M,shared:S.shared,effects:S.effects},s.updateQueue=m;return}s=m.lastBaseUpdate,s===null?m.firstBaseUpdate=a:s.next=a,m.lastBaseUpdate=a}function rc(s,a,m,S){var R=s.updateQueue;Ns=!1;var M=R.firstBaseUpdate,$=R.lastBaseUpdate,J=R.shared.pending;if(J!==null){R.shared.pending=null;var Z=J,ce=Z.next;Z.next=null,$===null?M=ce:$.next=ce,$=Z;var ge=s.alternate;ge!==null&&(ge=ge.updateQueue,J=ge.lastBaseUpdate,J!==$&&(J===null?ge.firstBaseUpdate=ce:J.next=ce,ge.lastBaseUpdate=Z))}if(M!==null){var xe=R.baseState;$=0,ge=ce=Z=null,J=M;do{var me=J.lane,Ne=J.eventTime;if((S&me)===me){ge!==null&&(ge=ge.next={eventTime:Ne,lane:0,tag:J.tag,payload:J.payload,callback:J.callback,next:null});e:{var De=s,Be=J;switch(me=a,Ne=m,Be.tag){case 1:if(De=Be.payload,typeof De=="function"){xe=De.call(Ne,xe,me);break e}xe=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Be.payload,me=typeof De=="function"?De.call(Ne,xe,me):De,me==null)break e;xe=A({},xe,me);break e;case 2:Ns=!0}}J.callback!==null&&J.lane!==0&&(s.flags|=64,me=R.effects,me===null?R.effects=[J]:me.push(J))}else Ne={eventTime:Ne,lane:me,tag:J.tag,payload:J.payload,callback:J.callback,next:null},ge===null?(ce=ge=Ne,Z=xe):ge=ge.next=Ne,$|=me;if(J=J.next,J===null){if(J=R.shared.pending,J===null)break;me=J,J=me.next,me.next=null,R.lastBaseUpdate=me,R.shared.pending=null}}while(!0);if(ge===null&&(Z=xe),R.baseState=Z,R.firstBaseUpdate=ce,R.lastBaseUpdate=ge,a=R.shared.interleaved,a!==null){R=a;do $|=R.lane,R=R.next;while(R!==a)}else M===null&&(R.shared.lanes=0);fi|=$,s.lanes=$,s.memoizedState=xe}}function Xv(s,a,m){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var S=s[a],R=S.callback;if(R!==null){if(S.callback=null,S=m,typeof R!="function")throw Error(r(191,R));R.call(S)}}}var fa={},Pn=ks(fa),pa=ks(fa),ma=ks(fa);function di(s){if(s===fa)throw Error(r(174));return s}function sh(s,a){switch(ft(ma,a),ft(pa,s),ft(Pn,fa),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ae(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=ae(a,s)}xt(Pn),ft(Pn,a)}function Zi(){xt(Pn),xt(pa),xt(ma)}function Jv(s){di(ma.current);var a=di(Pn.current),m=ae(a,s.type);a!==m&&(ft(pa,s),ft(Pn,m))}function ih(s){pa.current===s&&(xt(Pn),xt(pa))}var St=ks(0);function nc(s){for(var a=s;a!==null;){if(a.tag===13){var m=a.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var oh=[];function ah(){for(var s=0;s<oh.length;s++)oh[s]._workInProgressVersionPrimary=null;oh.length=0}var sc=j.ReactCurrentDispatcher,lh=j.ReactCurrentBatchConfig,hi=0,Ct=null,$t=null,Yt=null,ic=!1,ga=!1,va=0,OE=0;function hr(){throw Error(r(321))}function ch(s,a){if(a===null)return!1;for(var m=0;m<a.length&&m<s.length;m++)if(!pn(s[m],a[m]))return!1;return!0}function uh(s,a,m,S,R,M){if(hi=M,Ct=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,sc.current=s===null||s.memoizedState===null?HE:$E,s=m(S,R),ga){M=0;do{if(ga=!1,va=0,25<=M)throw Error(r(301));M+=1,Yt=$t=null,a.updateQueue=null,sc.current=VE,s=m(S,R)}while(ga)}if(sc.current=lc,a=$t!==null&&$t.next!==null,hi=0,Yt=$t=Ct=null,ic=!1,a)throw Error(r(300));return s}function dh(){var s=va!==0;return va=0,s}function Tn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Ct.memoizedState=Yt=s:Yt=Yt.next=s,Yt}function sn(){if($t===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=$t.next;var a=Yt===null?Ct.memoizedState:Yt.next;if(a!==null)Yt=a,$t=s;else{if(s===null)throw Error(r(310));$t=s,s={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Yt===null?Ct.memoizedState=Yt=s:Yt=Yt.next=s}return Yt}function ya(s,a){return typeof a=="function"?a(s):a}function hh(s){var a=sn(),m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var S=$t,R=S.baseQueue,M=m.pending;if(M!==null){if(R!==null){var $=R.next;R.next=M.next,M.next=$}S.baseQueue=R=M,m.pending=null}if(R!==null){M=R.next,S=S.baseState;var J=$=null,Z=null,ce=M;do{var ge=ce.lane;if((hi&ge)===ge)Z!==null&&(Z=Z.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),S=ce.hasEagerState?ce.eagerState:s(S,ce.action);else{var xe={lane:ge,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Z===null?(J=Z=xe,$=S):Z=Z.next=xe,Ct.lanes|=ge,fi|=ge}ce=ce.next}while(ce!==null&&ce!==M);Z===null?$=S:Z.next=J,pn(S,a.memoizedState)||(Tr=!0),a.memoizedState=S,a.baseState=$,a.baseQueue=Z,m.lastRenderedState=S}if(s=m.interleaved,s!==null){R=s;do M=R.lane,Ct.lanes|=M,fi|=M,R=R.next;while(R!==s)}else R===null&&(m.lanes=0);return[a.memoizedState,m.dispatch]}function fh(s){var a=sn(),m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=s;var S=m.dispatch,R=m.pending,M=a.memoizedState;if(R!==null){m.pending=null;var $=R=R.next;do M=s(M,$.action),$=$.next;while($!==R);pn(M,a.memoizedState)||(Tr=!0),a.memoizedState=M,a.baseQueue===null&&(a.baseState=M),m.lastRenderedState=M}return[M,S]}function Qv(){}function Zv(s,a){var m=Ct,S=sn(),R=a(),M=!pn(S.memoizedState,R);if(M&&(S.memoizedState=R,Tr=!0),S=S.queue,ph(r0.bind(null,m,S,s),[s]),S.getSnapshot!==a||M||Yt!==null&&Yt.memoizedState.tag&1){if(m.flags|=2048,xa(9,t0.bind(null,m,S,R,a),void 0,null),Xt===null)throw Error(r(349));(hi&30)!==0||e0(m,a,R)}return R}function e0(s,a,m){s.flags|=16384,s={getSnapshot:a,value:m},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.stores=[s]):(m=a.stores,m===null?a.stores=[s]:m.push(s))}function t0(s,a,m,S){a.value=m,a.getSnapshot=S,n0(a)&&s0(s)}function r0(s,a,m){return m(function(){n0(a)&&s0(s)})}function n0(s){var a=s.getSnapshot;s=s.value;try{var m=a();return!pn(s,m)}catch{return!0}}function s0(s){var a=Yn(s,1);a!==null&&xn(a,s,1,-1)}function i0(s){var a=Tn();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:s},a.queue=s,s=s.dispatch=zE.bind(null,Ct,s),[a.memoizedState,s]}function xa(s,a,m,S){return s={tag:s,create:a,destroy:m,deps:S,next:null},a=Ct.updateQueue,a===null?(a={lastEffect:null,stores:null},Ct.updateQueue=a,a.lastEffect=s.next=s):(m=a.lastEffect,m===null?a.lastEffect=s.next=s:(S=m.next,m.next=s,s.next=S,a.lastEffect=s)),s}function o0(){return sn().memoizedState}function oc(s,a,m,S){var R=Tn();Ct.flags|=s,R.memoizedState=xa(1|a,m,void 0,S===void 0?null:S)}function ac(s,a,m,S){var R=sn();S=S===void 0?null:S;var M=void 0;if($t!==null){var $=$t.memoizedState;if(M=$.destroy,S!==null&&ch(S,$.deps)){R.memoizedState=xa(a,m,M,S);return}}Ct.flags|=s,R.memoizedState=xa(1|a,m,M,S)}function a0(s,a){return oc(8390656,8,s,a)}function ph(s,a){return ac(2048,8,s,a)}function l0(s,a){return ac(4,2,s,a)}function c0(s,a){return ac(4,4,s,a)}function u0(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function d0(s,a,m){return m=m!=null?m.concat([s]):null,ac(4,4,u0.bind(null,a,s),m)}function mh(){}function h0(s,a){var m=sn();a=a===void 0?null:a;var S=m.memoizedState;return S!==null&&a!==null&&ch(a,S[1])?S[0]:(m.memoizedState=[s,a],s)}function f0(s,a){var m=sn();a=a===void 0?null:a;var S=m.memoizedState;return S!==null&&a!==null&&ch(a,S[1])?S[0]:(s=s(),m.memoizedState=[s,a],s)}function p0(s,a,m){return(hi&21)===0?(s.baseState&&(s.baseState=!1,Tr=!0),s.memoizedState=m):(pn(m,a)||(m=Ug(),Ct.lanes|=m,fi|=m,s.baseState=!0),a)}function BE(s,a){var m=ut;ut=m!==0&&4>m?m:4,s(!0);var S=lh.transition;lh.transition={};try{s(!1),a()}finally{ut=m,lh.transition=S}}function m0(){return sn().memoizedState}function FE(s,a,m){var S=Ms(s);if(m={lane:S,action:m,hasEagerState:!1,eagerState:null,next:null},g0(s))v0(a,m);else if(m=Gv(s,a,m,S),m!==null){var R=Sr();xn(m,s,S,R),y0(m,a,S)}}function zE(s,a,m){var S=Ms(s),R={lane:S,action:m,hasEagerState:!1,eagerState:null,next:null};if(g0(s))v0(a,R);else{var M=s.alternate;if(s.lanes===0&&(M===null||M.lanes===0)&&(M=a.lastRenderedReducer,M!==null))try{var $=a.lastRenderedState,J=M($,m);if(R.hasEagerState=!0,R.eagerState=J,pn(J,$)){var Z=a.interleaved;Z===null?(R.next=R,rh(a)):(R.next=Z.next,Z.next=R),a.interleaved=R;return}}catch{}finally{}m=Gv(s,a,R,S),m!==null&&(R=Sr(),xn(m,s,S,R),y0(m,a,S))}}function g0(s){var a=s.alternate;return s===Ct||a!==null&&a===Ct}function v0(s,a){ga=ic=!0;var m=s.pending;m===null?a.next=a:(a.next=m.next,m.next=a),s.pending=a}function y0(s,a,m){if((m&4194240)!==0){var S=a.lanes;S&=s.pendingLanes,m|=S,a.lanes=m,vd(s,m)}}var lc={readContext:nn,useCallback:hr,useContext:hr,useEffect:hr,useImperativeHandle:hr,useInsertionEffect:hr,useLayoutEffect:hr,useMemo:hr,useReducer:hr,useRef:hr,useState:hr,useDebugValue:hr,useDeferredValue:hr,useTransition:hr,useMutableSource:hr,useSyncExternalStore:hr,useId:hr,unstable_isNewReconciler:!1},HE={readContext:nn,useCallback:function(s,a){return Tn().memoizedState=[s,a===void 0?null:a],s},useContext:nn,useEffect:a0,useImperativeHandle:function(s,a,m){return m=m!=null?m.concat([s]):null,oc(4194308,4,u0.bind(null,a,s),m)},useLayoutEffect:function(s,a){return oc(4194308,4,s,a)},useInsertionEffect:function(s,a){return oc(4,2,s,a)},useMemo:function(s,a){var m=Tn();return a=a===void 0?null:a,s=s(),m.memoizedState=[s,a],s},useReducer:function(s,a,m){var S=Tn();return a=m!==void 0?m(a):a,S.memoizedState=S.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},S.queue=s,s=s.dispatch=FE.bind(null,Ct,s),[S.memoizedState,s]},useRef:function(s){var a=Tn();return s={current:s},a.memoizedState=s},useState:i0,useDebugValue:mh,useDeferredValue:function(s){return Tn().memoizedState=s},useTransition:function(){var s=i0(!1),a=s[0];return s=BE.bind(null,s[1]),Tn().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,m){var S=Ct,R=Tn();if(bt){if(m===void 0)throw Error(r(407));m=m()}else{if(m=a(),Xt===null)throw Error(r(349));(hi&30)!==0||e0(S,a,m)}R.memoizedState=m;var M={value:m,getSnapshot:a};return R.queue=M,a0(r0.bind(null,S,M,s),[s]),S.flags|=2048,xa(9,t0.bind(null,S,M,m,a),void 0,null),m},useId:function(){var s=Tn(),a=Xt.identifierPrefix;if(bt){var m=qn,S=Gn;m=(S&~(1<<32-fn(S)-1)).toString(32)+m,a=":"+a+"R"+m,m=va++,0<m&&(a+="H"+m.toString(32)),a+=":"}else m=OE++,a=":"+a+"r"+m.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},$E={readContext:nn,useCallback:h0,useContext:nn,useEffect:ph,useImperativeHandle:d0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:f0,useReducer:hh,useRef:o0,useState:function(){return hh(ya)},useDebugValue:mh,useDeferredValue:function(s){var a=sn();return p0(a,$t.memoizedState,s)},useTransition:function(){var s=hh(ya)[0],a=sn().memoizedState;return[s,a]},useMutableSource:Qv,useSyncExternalStore:Zv,useId:m0,unstable_isNewReconciler:!1},VE={readContext:nn,useCallback:h0,useContext:nn,useEffect:ph,useImperativeHandle:d0,useInsertionEffect:l0,useLayoutEffect:c0,useMemo:f0,useReducer:fh,useRef:o0,useState:function(){return fh(ya)},useDebugValue:mh,useDeferredValue:function(s){var a=sn();return $t===null?a.memoizedState=s:p0(a,$t.memoizedState,s)},useTransition:function(){var s=fh(ya)[0],a=sn().memoizedState;return[s,a]},useMutableSource:Qv,useSyncExternalStore:Zv,useId:m0,unstable_isNewReconciler:!1};function gn(s,a){if(s&&s.defaultProps){a=A({},a),s=s.defaultProps;for(var m in s)a[m]===void 0&&(a[m]=s[m]);return a}return a}function gh(s,a,m,S){a=s.memoizedState,m=m(S,a),m=m==null?a:A({},a,m),s.memoizedState=m,s.lanes===0&&(s.updateQueue.baseState=m)}var cc={isMounted:function(s){return(s=s._reactInternals)?ii(s)===s:!1},enqueueSetState:function(s,a,m){s=s._reactInternals;var S=Sr(),R=Ms(s),M=Xn(S,R);M.payload=a,m!=null&&(M.callback=m),a=Ps(s,M,R),a!==null&&(xn(a,s,R,S),tc(a,s,R))},enqueueReplaceState:function(s,a,m){s=s._reactInternals;var S=Sr(),R=Ms(s),M=Xn(S,R);M.tag=1,M.payload=a,m!=null&&(M.callback=m),a=Ps(s,M,R),a!==null&&(xn(a,s,R,S),tc(a,s,R))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var m=Sr(),S=Ms(s),R=Xn(m,S);R.tag=2,a!=null&&(R.callback=a),a=Ps(s,R,S),a!==null&&(xn(a,s,S,m),tc(a,s,S))}};function x0(s,a,m,S,R,M,$){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(S,M,$):a.prototype&&a.prototype.isPureReactComponent?!ia(m,S)||!ia(R,M):!0}function _0(s,a,m){var S=!1,R=js,M=a.contextType;return typeof M=="object"&&M!==null?M=nn(M):(R=Pr(a)?ai:dr.current,S=a.contextTypes,M=(S=S!=null)?Ki(s,R):js),a=new a(m,M),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=cc,s.stateNode=a,a._reactInternals=s,S&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=R,s.__reactInternalMemoizedMaskedChildContext=M),a}function b0(s,a,m,S){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(m,S),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(m,S),a.state!==s&&cc.enqueueReplaceState(a,a.state,null)}function vh(s,a,m,S){var R=s.stateNode;R.props=m,R.state=s.memoizedState,R.refs={},nh(s);var M=a.contextType;typeof M=="object"&&M!==null?R.context=nn(M):(M=Pr(a)?ai:dr.current,R.context=Ki(s,M)),R.state=s.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(gh(s,a,M,m),R.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(a=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),a!==R.state&&cc.enqueueReplaceState(R,R.state,null),rc(s,m,R,S),R.state=s.memoizedState),typeof R.componentDidMount=="function"&&(s.flags|=4194308)}function eo(s,a){try{var m="",S=a;do m+=ue(S),S=S.return;while(S);var R=m}catch(M){R=`
Error generating stack: `+M.message+`
`+M.stack}return{value:s,source:a,stack:R,digest:null}}function yh(s,a,m){return{value:s,source:null,stack:m??null,digest:a??null}}function xh(s,a){try{console.error(a.value)}catch(m){setTimeout(function(){throw m})}}var UE=typeof WeakMap=="function"?WeakMap:Map;function w0(s,a,m){m=Xn(-1,m),m.tag=3,m.payload={element:null};var S=a.value;return m.callback=function(){gc||(gc=!0,Dh=S),xh(s,a)},m}function S0(s,a,m){m=Xn(-1,m),m.tag=3;var S=s.type.getDerivedStateFromError;if(typeof S=="function"){var R=a.value;m.payload=function(){return S(R)},m.callback=function(){xh(s,a)}}var M=s.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(m.callback=function(){xh(s,a),typeof S!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var $=a.stack;this.componentDidCatch(a.value,{componentStack:$!==null?$:""})}),m}function C0(s,a,m){var S=s.pingCache;if(S===null){S=s.pingCache=new UE;var R=new Set;S.set(a,R)}else R=S.get(a),R===void 0&&(R=new Set,S.set(a,R));R.has(m)||(R.add(m),s=sN.bind(null,s,a,m),a.then(s,s))}function k0(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function j0(s,a,m,S,R){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(a=Xn(-1,1),a.tag=2,Ps(m,a,1))),m.lanes|=1),s):(s.flags|=65536,s.lanes=R,s)}var WE=j.ReactCurrentOwner,Tr=!1;function wr(s,a,m,S){a.child=s===null?Kv(a,null,m,S):Xi(a,s.child,m,S)}function E0(s,a,m,S,R){m=m.render;var M=a.ref;return Qi(a,R),S=uh(s,a,m,S,M,R),m=dh(),s!==null&&!Tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~R,Jn(s,a,R)):(bt&&m&&Gd(a),a.flags|=1,wr(s,a,S,R),a.child)}function N0(s,a,m,S,R){if(s===null){var M=m.type;return typeof M=="function"&&!Hh(M)&&M.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(a.tag=15,a.type=M,P0(s,a,M,S,R)):(s=wc(m.type,null,S,a,a.mode,R),s.ref=a.ref,s.return=a,a.child=s)}if(M=s.child,(s.lanes&R)===0){var $=M.memoizedProps;if(m=m.compare,m=m!==null?m:ia,m($,S)&&s.ref===a.ref)return Jn(s,a,R)}return a.flags|=1,s=Ls(M,S),s.ref=a.ref,s.return=a,a.child=s}function P0(s,a,m,S,R){if(s!==null){var M=s.memoizedProps;if(ia(M,S)&&s.ref===a.ref)if(Tr=!1,a.pendingProps=S=M,(s.lanes&R)!==0)(s.flags&131072)!==0&&(Tr=!0);else return a.lanes=s.lanes,Jn(s,a,R)}return _h(s,a,m,S,R)}function T0(s,a,m){var S=a.pendingProps,R=S.children,M=s!==null?s.memoizedState:null;if(S.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(ro,Kr),Kr|=m;else{if((m&1073741824)===0)return s=M!==null?M.baseLanes|m:m,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,ft(ro,Kr),Kr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=M!==null?M.baseLanes:m,ft(ro,Kr),Kr|=S}else M!==null?(S=M.baseLanes|m,a.memoizedState=null):S=m,ft(ro,Kr),Kr|=S;return wr(s,a,R,m),a.child}function R0(s,a){var m=a.ref;(s===null&&m!==null||s!==null&&s.ref!==m)&&(a.flags|=512,a.flags|=2097152)}function _h(s,a,m,S,R){var M=Pr(m)?ai:dr.current;return M=Ki(a,M),Qi(a,R),m=uh(s,a,m,S,M,R),S=dh(),s!==null&&!Tr?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~R,Jn(s,a,R)):(bt&&S&&Gd(a),a.flags|=1,wr(s,a,m,R),a.child)}function A0(s,a,m,S,R){if(Pr(m)){var M=!0;Gl(a)}else M=!1;if(Qi(a,R),a.stateNode===null)dc(s,a),_0(a,m,S),vh(a,m,S,R),S=!0;else if(s===null){var $=a.stateNode,J=a.memoizedProps;$.props=J;var Z=$.context,ce=m.contextType;typeof ce=="object"&&ce!==null?ce=nn(ce):(ce=Pr(m)?ai:dr.current,ce=Ki(a,ce));var ge=m.getDerivedStateFromProps,xe=typeof ge=="function"||typeof $.getSnapshotBeforeUpdate=="function";xe||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(J!==S||Z!==ce)&&b0(a,$,S,ce),Ns=!1;var me=a.memoizedState;$.state=me,rc(a,S,$,R),Z=a.memoizedState,J!==S||me!==Z||Nr.current||Ns?(typeof ge=="function"&&(gh(a,m,ge,S),Z=a.memoizedState),(J=Ns||x0(a,m,J,S,me,Z,ce))?(xe||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(a.flags|=4194308)):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=S,a.memoizedState=Z),$.props=S,$.state=Z,$.context=ce,S=J):(typeof $.componentDidMount=="function"&&(a.flags|=4194308),S=!1)}else{$=a.stateNode,qv(s,a),J=a.memoizedProps,ce=a.type===a.elementType?J:gn(a.type,J),$.props=ce,xe=a.pendingProps,me=$.context,Z=m.contextType,typeof Z=="object"&&Z!==null?Z=nn(Z):(Z=Pr(m)?ai:dr.current,Z=Ki(a,Z));var Ne=m.getDerivedStateFromProps;(ge=typeof Ne=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(J!==xe||me!==Z)&&b0(a,$,S,Z),Ns=!1,me=a.memoizedState,$.state=me,rc(a,S,$,R);var De=a.memoizedState;J!==xe||me!==De||Nr.current||Ns?(typeof Ne=="function"&&(gh(a,m,Ne,S),De=a.memoizedState),(ce=Ns||x0(a,m,ce,S,me,De,Z)||!1)?(ge||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(S,De,Z),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(S,De,Z)),typeof $.componentDidUpdate=="function"&&(a.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof $.componentDidUpdate!="function"||J===s.memoizedProps&&me===s.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&me===s.memoizedState||(a.flags|=1024),a.memoizedProps=S,a.memoizedState=De),$.props=S,$.state=De,$.context=Z,S=ce):(typeof $.componentDidUpdate!="function"||J===s.memoizedProps&&me===s.memoizedState||(a.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||J===s.memoizedProps&&me===s.memoizedState||(a.flags|=1024),S=!1)}return bh(s,a,m,S,M,R)}function bh(s,a,m,S,R,M){R0(s,a);var $=(a.flags&128)!==0;if(!S&&!$)return R&&Ov(a,m,!1),Jn(s,a,M);S=a.stateNode,WE.current=a;var J=$&&typeof m.getDerivedStateFromError!="function"?null:S.render();return a.flags|=1,s!==null&&$?(a.child=Xi(a,s.child,null,M),a.child=Xi(a,null,J,M)):wr(s,a,J,M),a.memoizedState=S.state,R&&Ov(a,m,!0),a.child}function M0(s){var a=s.stateNode;a.pendingContext?Lv(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Lv(s,a.context,!1),sh(s,a.containerInfo)}function D0(s,a,m,S,R){return Yi(),Jd(R),a.flags|=256,wr(s,a,m,S),a.child}var wh={dehydrated:null,treeContext:null,retryLane:0};function Sh(s){return{baseLanes:s,cachePool:null,transitions:null}}function L0(s,a,m){var S=a.pendingProps,R=St.current,M=!1,$=(a.flags&128)!==0,J;if((J=$)||(J=s!==null&&s.memoizedState===null?!1:(R&2)!==0),J?(M=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(R|=1),ft(St,R&1),s===null)return Xd(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):($=S.children,s=S.fallback,M?(S=a.mode,M=a.child,$={mode:"hidden",children:$},(S&1)===0&&M!==null?(M.childLanes=0,M.pendingProps=$):M=Sc($,S,0,null),s=vi(s,S,m,null),M.return=a,s.return=a,M.sibling=s,a.child=M,a.child.memoizedState=Sh(m),a.memoizedState=wh,s):Ch(a,$));if(R=s.memoizedState,R!==null&&(J=R.dehydrated,J!==null))return KE(s,a,$,S,J,R,m);if(M){M=S.fallback,$=a.mode,R=s.child,J=R.sibling;var Z={mode:"hidden",children:S.children};return($&1)===0&&a.child!==R?(S=a.child,S.childLanes=0,S.pendingProps=Z,a.deletions=null):(S=Ls(R,Z),S.subtreeFlags=R.subtreeFlags&14680064),J!==null?M=Ls(J,M):(M=vi(M,$,m,null),M.flags|=2),M.return=a,S.return=a,S.sibling=M,a.child=S,S=M,M=a.child,$=s.child.memoizedState,$=$===null?Sh(m):{baseLanes:$.baseLanes|m,cachePool:null,transitions:$.transitions},M.memoizedState=$,M.childLanes=s.childLanes&~m,a.memoizedState=wh,S}return M=s.child,s=M.sibling,S=Ls(M,{mode:"visible",children:S.children}),(a.mode&1)===0&&(S.lanes=m),S.return=a,S.sibling=null,s!==null&&(m=a.deletions,m===null?(a.deletions=[s],a.flags|=16):m.push(s)),a.child=S,a.memoizedState=null,S}function Ch(s,a){return a=Sc({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function uc(s,a,m,S){return S!==null&&Jd(S),Xi(a,s.child,null,m),s=Ch(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function KE(s,a,m,S,R,M,$){if(m)return a.flags&256?(a.flags&=-257,S=yh(Error(r(422))),uc(s,a,$,S)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(M=S.fallback,R=a.mode,S=Sc({mode:"visible",children:S.children},R,0,null),M=vi(M,R,$,null),M.flags|=2,S.return=a,M.return=a,S.sibling=M,a.child=S,(a.mode&1)!==0&&Xi(a,s.child,null,$),a.child.memoizedState=Sh($),a.memoizedState=wh,M);if((a.mode&1)===0)return uc(s,a,$,null);if(R.data==="$!"){if(S=R.nextSibling&&R.nextSibling.dataset,S)var J=S.dgst;return S=J,M=Error(r(419)),S=yh(M,S,void 0),uc(s,a,$,S)}if(J=($&s.childLanes)!==0,Tr||J){if(S=Xt,S!==null){switch($&-$){case 4:R=2;break;case 16:R=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:R=32;break;case 536870912:R=268435456;break;default:R=0}R=(R&(S.suspendedLanes|$))!==0?0:R,R!==0&&R!==M.retryLane&&(M.retryLane=R,Yn(s,R),xn(S,s,R,-1))}return zh(),S=yh(Error(r(421))),uc(s,a,$,S)}return R.data==="$?"?(a.flags|=128,a.child=s.child,a=iN.bind(null,s),R._reactRetry=a,null):(s=M.treeContext,Wr=Cs(R.nextSibling),Ur=a,bt=!0,mn=null,s!==null&&(tn[rn++]=Gn,tn[rn++]=qn,tn[rn++]=li,Gn=s.id,qn=s.overflow,li=a),a=Ch(a,S.children),a.flags|=4096,a)}function I0(s,a,m){s.lanes|=a;var S=s.alternate;S!==null&&(S.lanes|=a),th(s.return,a,m)}function kh(s,a,m,S,R){var M=s.memoizedState;M===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:S,tail:m,tailMode:R}:(M.isBackwards=a,M.rendering=null,M.renderingStartTime=0,M.last=S,M.tail=m,M.tailMode=R)}function O0(s,a,m){var S=a.pendingProps,R=S.revealOrder,M=S.tail;if(wr(s,a,S.children,m),S=St.current,(S&2)!==0)S=S&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&I0(s,m,a);else if(s.tag===19)I0(s,m,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}S&=1}if(ft(St,S),(a.mode&1)===0)a.memoizedState=null;else switch(R){case"forwards":for(m=a.child,R=null;m!==null;)s=m.alternate,s!==null&&nc(s)===null&&(R=m),m=m.sibling;m=R,m===null?(R=a.child,a.child=null):(R=m.sibling,m.sibling=null),kh(a,!1,R,m,M);break;case"backwards":for(m=null,R=a.child,a.child=null;R!==null;){if(s=R.alternate,s!==null&&nc(s)===null){a.child=R;break}s=R.sibling,R.sibling=m,m=R,R=s}kh(a,!0,m,null,M);break;case"together":kh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function dc(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Jn(s,a,m){if(s!==null&&(a.dependencies=s.dependencies),fi|=a.lanes,(m&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(r(153));if(a.child!==null){for(s=a.child,m=Ls(s,s.pendingProps),a.child=m,m.return=a;s.sibling!==null;)s=s.sibling,m=m.sibling=Ls(s,s.pendingProps),m.return=a;m.sibling=null}return a.child}function GE(s,a,m){switch(a.tag){case 3:M0(a),Yi();break;case 5:Jv(a);break;case 1:Pr(a.type)&&Gl(a);break;case 4:sh(a,a.stateNode.containerInfo);break;case 10:var S=a.type._context,R=a.memoizedProps.value;ft(Zl,S._currentValue),S._currentValue=R;break;case 13:if(S=a.memoizedState,S!==null)return S.dehydrated!==null?(ft(St,St.current&1),a.flags|=128,null):(m&a.child.childLanes)!==0?L0(s,a,m):(ft(St,St.current&1),s=Jn(s,a,m),s!==null?s.sibling:null);ft(St,St.current&1);break;case 19:if(S=(m&a.childLanes)!==0,(s.flags&128)!==0){if(S)return O0(s,a,m);a.flags|=128}if(R=a.memoizedState,R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),ft(St,St.current),S)break;return null;case 22:case 23:return a.lanes=0,T0(s,a,m)}return Jn(s,a,m)}var B0,jh,F0,z0;B0=function(s,a){for(var m=a.child;m!==null;){if(m.tag===5||m.tag===6)s.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===a)break;for(;m.sibling===null;){if(m.return===null||m.return===a)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},jh=function(){},F0=function(s,a,m,S){var R=s.memoizedProps;if(R!==S){s=a.stateNode,di(Pn.current);var M=null;switch(m){case"input":R=Oe(s,R),S=Oe(s,S),M=[];break;case"select":R=A({},R,{value:void 0}),S=A({},S,{value:void 0}),M=[];break;case"textarea":R=nt(s,R),S=nt(s,S),M=[];break;default:typeof R.onClick!="function"&&typeof S.onClick=="function"&&(s.onclick=Ul)}wt(m,S);var $;m=null;for(ce in R)if(!S.hasOwnProperty(ce)&&R.hasOwnProperty(ce)&&R[ce]!=null)if(ce==="style"){var J=R[ce];for($ in J)J.hasOwnProperty($)&&(m||(m={}),m[$]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?M||(M=[]):(M=M||[]).push(ce,null));for(ce in S){var Z=S[ce];if(J=R!=null?R[ce]:void 0,S.hasOwnProperty(ce)&&Z!==J&&(Z!=null||J!=null))if(ce==="style")if(J){for($ in J)!J.hasOwnProperty($)||Z&&Z.hasOwnProperty($)||(m||(m={}),m[$]="");for($ in Z)Z.hasOwnProperty($)&&J[$]!==Z[$]&&(m||(m={}),m[$]=Z[$])}else m||(M||(M=[]),M.push(ce,m)),m=Z;else ce==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,J=J?J.__html:void 0,Z!=null&&J!==Z&&(M=M||[]).push(ce,Z)):ce==="children"?typeof Z!="string"&&typeof Z!="number"||(M=M||[]).push(ce,""+Z):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Z!=null&&ce==="onScroll"&&yt("scroll",s),M||J===Z||(M=[])):(M=M||[]).push(ce,Z))}m&&(M=M||[]).push("style",m);var ce=M;(a.updateQueue=ce)&&(a.flags|=4)}},z0=function(s,a,m,S){m!==S&&(a.flags|=4)};function _a(s,a){if(!bt)switch(s.tailMode){case"hidden":a=s.tail;for(var m=null;a!==null;)a.alternate!==null&&(m=a),a=a.sibling;m===null?s.tail=null:m.sibling=null;break;case"collapsed":m=s.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:S.sibling=null}}function fr(s){var a=s.alternate!==null&&s.alternate.child===s.child,m=0,S=0;if(a)for(var R=s.child;R!==null;)m|=R.lanes|R.childLanes,S|=R.subtreeFlags&14680064,S|=R.flags&14680064,R.return=s,R=R.sibling;else for(R=s.child;R!==null;)m|=R.lanes|R.childLanes,S|=R.subtreeFlags,S|=R.flags,R.return=s,R=R.sibling;return s.subtreeFlags|=S,s.childLanes=m,a}function qE(s,a,m){var S=a.pendingProps;switch(qd(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(a),null;case 1:return Pr(a.type)&&Kl(),fr(a),null;case 3:return S=a.stateNode,Zi(),xt(Nr),xt(dr),ah(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(s===null||s.child===null)&&(Jl(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mn!==null&&(Oh(mn),mn=null))),jh(s,a),fr(a),null;case 5:ih(a);var R=di(ma.current);if(m=a.type,s!==null&&a.stateNode!=null)F0(s,a,m,S,R),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!S){if(a.stateNode===null)throw Error(r(166));return fr(a),null}if(s=di(Pn.current),Jl(a)){S=a.stateNode,m=a.type;var M=a.memoizedProps;switch(S[Nn]=a,S[ua]=M,s=(a.mode&1)!==0,m){case"dialog":yt("cancel",S),yt("close",S);break;case"iframe":case"object":case"embed":yt("load",S);break;case"video":case"audio":for(R=0;R<aa.length;R++)yt(aa[R],S);break;case"source":yt("error",S);break;case"img":case"image":case"link":yt("error",S),yt("load",S);break;case"details":yt("toggle",S);break;case"input":ze(S,M),yt("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!M.multiple},yt("invalid",S);break;case"textarea":st(S,M),yt("invalid",S)}wt(m,M),R=null;for(var $ in M)if(M.hasOwnProperty($)){var J=M[$];$==="children"?typeof J=="string"?S.textContent!==J&&(M.suppressHydrationWarning!==!0&&Vl(S.textContent,J,s),R=["children",J]):typeof J=="number"&&S.textContent!==""+J&&(M.suppressHydrationWarning!==!0&&Vl(S.textContent,J,s),R=["children",""+J]):o.hasOwnProperty($)&&J!=null&&$==="onScroll"&&yt("scroll",S)}switch(m){case"input":Q(S),Me(S,M,!0);break;case"textarea":Q(S),Mt(S);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(S.onclick=Ul)}S=R,a.updateQueue=S,S!==null&&(a.flags|=4)}else{$=R.nodeType===9?R:R.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=de(m)),s==="http://www.w3.org/1999/xhtml"?m==="script"?(s=$.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof S.is=="string"?s=$.createElement(m,{is:S.is}):(s=$.createElement(m),m==="select"&&($=s,S.multiple?$.multiple=!0:S.size&&($.size=S.size))):s=$.createElementNS(s,m),s[Nn]=a,s[ua]=S,B0(s,a,!1,!1),a.stateNode=s;e:{switch($=Er(m,S),m){case"dialog":yt("cancel",s),yt("close",s),R=S;break;case"iframe":case"object":case"embed":yt("load",s),R=S;break;case"video":case"audio":for(R=0;R<aa.length;R++)yt(aa[R],s);R=S;break;case"source":yt("error",s),R=S;break;case"img":case"image":case"link":yt("error",s),yt("load",s),R=S;break;case"details":yt("toggle",s),R=S;break;case"input":ze(s,S),R=Oe(s,S),yt("invalid",s);break;case"option":R=S;break;case"select":s._wrapperState={wasMultiple:!!S.multiple},R=A({},S,{value:void 0}),yt("invalid",s);break;case"textarea":st(s,S),R=nt(s,S),yt("invalid",s);break;default:R=S}wt(m,R),J=R;for(M in J)if(J.hasOwnProperty(M)){var Z=J[M];M==="style"?tr(s,Z):M==="dangerouslySetInnerHTML"?(Z=Z?Z.__html:void 0,Z!=null&&ve(s,Z)):M==="children"?typeof Z=="string"?(m!=="textarea"||Z!=="")&&Pe(s,Z):typeof Z=="number"&&Pe(s,""+Z):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(o.hasOwnProperty(M)?Z!=null&&M==="onScroll"&&yt("scroll",s):Z!=null&&b(s,M,Z,$))}switch(m){case"input":Q(s),Me(s,S,!1);break;case"textarea":Q(s),Mt(s);break;case"option":S.value!=null&&s.setAttribute("value",""+H(S.value));break;case"select":s.multiple=!!S.multiple,M=S.value,M!=null?Ze(s,!!S.multiple,M,!1):S.defaultValue!=null&&Ze(s,!!S.multiple,S.defaultValue,!0);break;default:typeof R.onClick=="function"&&(s.onclick=Ul)}switch(m){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return fr(a),null;case 6:if(s&&a.stateNode!=null)z0(s,a,s.memoizedProps,S);else{if(typeof S!="string"&&a.stateNode===null)throw Error(r(166));if(m=di(ma.current),di(Pn.current),Jl(a)){if(S=a.stateNode,m=a.memoizedProps,S[Nn]=a,(M=S.nodeValue!==m)&&(s=Ur,s!==null))switch(s.tag){case 3:Vl(S.nodeValue,m,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Vl(S.nodeValue,m,(s.mode&1)!==0)}M&&(a.flags|=4)}else S=(m.nodeType===9?m:m.ownerDocument).createTextNode(S),S[Nn]=a,a.stateNode=S}return fr(a),null;case 13:if(xt(St),S=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(bt&&Wr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Vv(),Yi(),a.flags|=98560,M=!1;else if(M=Jl(a),S!==null&&S.dehydrated!==null){if(s===null){if(!M)throw Error(r(318));if(M=a.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(r(317));M[Nn]=a}else Yi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;fr(a),M=!1}else mn!==null&&(Oh(mn),mn=null),M=!0;if(!M)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=m,a):(S=S!==null,S!==(s!==null&&s.memoizedState!==null)&&S&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(St.current&1)!==0?Vt===0&&(Vt=3):zh())),a.updateQueue!==null&&(a.flags|=4),fr(a),null);case 4:return Zi(),jh(s,a),s===null&&la(a.stateNode.containerInfo),fr(a),null;case 10:return eh(a.type._context),fr(a),null;case 17:return Pr(a.type)&&Kl(),fr(a),null;case 19:if(xt(St),M=a.memoizedState,M===null)return fr(a),null;if(S=(a.flags&128)!==0,$=M.rendering,$===null)if(S)_a(M,!1);else{if(Vt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if($=nc(s),$!==null){for(a.flags|=128,_a(M,!1),S=$.updateQueue,S!==null&&(a.updateQueue=S,a.flags|=4),a.subtreeFlags=0,S=m,m=a.child;m!==null;)M=m,s=S,M.flags&=14680066,$=M.alternate,$===null?(M.childLanes=0,M.lanes=s,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=$.childLanes,M.lanes=$.lanes,M.child=$.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=$.memoizedProps,M.memoizedState=$.memoizedState,M.updateQueue=$.updateQueue,M.type=$.type,s=$.dependencies,M.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),m=m.sibling;return ft(St,St.current&1|2),a.child}s=s.sibling}M.tail!==null&&Pt()>no&&(a.flags|=128,S=!0,_a(M,!1),a.lanes=4194304)}else{if(!S)if(s=nc($),s!==null){if(a.flags|=128,S=!0,m=s.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),_a(M,!0),M.tail===null&&M.tailMode==="hidden"&&!$.alternate&&!bt)return fr(a),null}else 2*Pt()-M.renderingStartTime>no&&m!==1073741824&&(a.flags|=128,S=!0,_a(M,!1),a.lanes=4194304);M.isBackwards?($.sibling=a.child,a.child=$):(m=M.last,m!==null?m.sibling=$:a.child=$,M.last=$)}return M.tail!==null?(a=M.tail,M.rendering=a,M.tail=a.sibling,M.renderingStartTime=Pt(),a.sibling=null,m=St.current,ft(St,S?m&1|2:m&1),a):(fr(a),null);case 22:case 23:return Fh(),S=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==S&&(a.flags|=8192),S&&(a.mode&1)!==0?(Kr&1073741824)!==0&&(fr(a),a.subtreeFlags&6&&(a.flags|=8192)):fr(a),null;case 24:return null;case 25:return null}throw Error(r(156,a.tag))}function YE(s,a){switch(qd(a),a.tag){case 1:return Pr(a.type)&&Kl(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Zi(),xt(Nr),xt(dr),ah(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return ih(a),null;case 13:if(xt(St),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Yi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return xt(St),null;case 4:return Zi(),null;case 10:return eh(a.type._context),null;case 22:case 23:return Fh(),null;case 24:return null;default:return null}}var hc=!1,pr=!1,XE=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function to(s,a){var m=s.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(S){jt(s,a,S)}else m.current=null}function Eh(s,a,m){try{m()}catch(S){jt(s,a,S)}}var H0=!1;function JE(s,a){if(Fd=Al,s=xv(),Rd(s)){if("selectionStart"in s)var m={start:s.selectionStart,end:s.selectionEnd};else e:{m=(m=s.ownerDocument)&&m.defaultView||window;var S=m.getSelection&&m.getSelection();if(S&&S.rangeCount!==0){m=S.anchorNode;var R=S.anchorOffset,M=S.focusNode;S=S.focusOffset;try{m.nodeType,M.nodeType}catch{m=null;break e}var $=0,J=-1,Z=-1,ce=0,ge=0,xe=s,me=null;t:for(;;){for(var Ne;xe!==m||R!==0&&xe.nodeType!==3||(J=$+R),xe!==M||S!==0&&xe.nodeType!==3||(Z=$+S),xe.nodeType===3&&($+=xe.nodeValue.length),(Ne=xe.firstChild)!==null;)me=xe,xe=Ne;for(;;){if(xe===s)break t;if(me===m&&++ce===R&&(J=$),me===M&&++ge===S&&(Z=$),(Ne=xe.nextSibling)!==null)break;xe=me,me=xe.parentNode}xe=Ne}m=J===-1||Z===-1?null:{start:J,end:Z}}else m=null}m=m||{start:0,end:0}}else m=null;for(zd={focusedElem:s,selectionRange:m},Al=!1,Ae=a;Ae!==null;)if(a=Ae,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Ae=s;else for(;Ae!==null;){a=Ae;try{var De=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var Be=De.memoizedProps,Tt=De.memoizedState,oe=a.stateNode,te=oe.getSnapshotBeforeUpdate(a.elementType===a.type?Be:gn(a.type,Be),Tt);oe.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var le=a.stateNode.containerInfo;le.nodeType===1?le.textContent="":le.nodeType===9&&le.documentElement&&le.removeChild(le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){jt(a,a.return,be)}if(s=a.sibling,s!==null){s.return=a.return,Ae=s;break}Ae=a.return}return De=H0,H0=!1,De}function ba(s,a,m){var S=a.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var R=S=S.next;do{if((R.tag&s)===s){var M=R.destroy;R.destroy=void 0,M!==void 0&&Eh(a,m,M)}R=R.next}while(R!==S)}}function fc(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var m=a=a.next;do{if((m.tag&s)===s){var S=m.create;m.destroy=S()}m=m.next}while(m!==a)}}function Nh(s){var a=s.ref;if(a!==null){var m=s.stateNode;switch(s.tag){case 5:s=m;break;default:s=m}typeof a=="function"?a(s):a.current=s}}function $0(s){var a=s.alternate;a!==null&&(s.alternate=null,$0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[Nn],delete a[ua],delete a[Ud],delete a[ME],delete a[DE])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function V0(s){return s.tag===5||s.tag===3||s.tag===4}function U0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||V0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Ph(s,a,m){var S=s.tag;if(S===5||S===6)s=s.stateNode,a?m.nodeType===8?m.parentNode.insertBefore(s,a):m.insertBefore(s,a):(m.nodeType===8?(a=m.parentNode,a.insertBefore(s,m)):(a=m,a.appendChild(s)),m=m._reactRootContainer,m!=null||a.onclick!==null||(a.onclick=Ul));else if(S!==4&&(s=s.child,s!==null))for(Ph(s,a,m),s=s.sibling;s!==null;)Ph(s,a,m),s=s.sibling}function Th(s,a,m){var S=s.tag;if(S===5||S===6)s=s.stateNode,a?m.insertBefore(s,a):m.appendChild(s);else if(S!==4&&(s=s.child,s!==null))for(Th(s,a,m),s=s.sibling;s!==null;)Th(s,a,m),s=s.sibling}var sr=null,vn=!1;function Ts(s,a,m){for(m=m.child;m!==null;)W0(s,a,m),m=m.sibling}function W0(s,a,m){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(jl,m)}catch{}switch(m.tag){case 5:pr||to(m,a);case 6:var S=sr,R=vn;sr=null,Ts(s,a,m),sr=S,vn=R,sr!==null&&(vn?(s=sr,m=m.stateNode,s.nodeType===8?s.parentNode.removeChild(m):s.removeChild(m)):sr.removeChild(m.stateNode));break;case 18:sr!==null&&(vn?(s=sr,m=m.stateNode,s.nodeType===8?Vd(s.parentNode,m):s.nodeType===1&&Vd(s,m),Zo(s)):Vd(sr,m.stateNode));break;case 4:S=sr,R=vn,sr=m.stateNode.containerInfo,vn=!0,Ts(s,a,m),sr=S,vn=R;break;case 0:case 11:case 14:case 15:if(!pr&&(S=m.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){R=S=S.next;do{var M=R,$=M.destroy;M=M.tag,$!==void 0&&((M&2)!==0||(M&4)!==0)&&Eh(m,a,$),R=R.next}while(R!==S)}Ts(s,a,m);break;case 1:if(!pr&&(to(m,a),S=m.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=m.memoizedProps,S.state=m.memoizedState,S.componentWillUnmount()}catch(J){jt(m,a,J)}Ts(s,a,m);break;case 21:Ts(s,a,m);break;case 22:m.mode&1?(pr=(S=pr)||m.memoizedState!==null,Ts(s,a,m),pr=S):Ts(s,a,m);break;default:Ts(s,a,m)}}function K0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var m=s.stateNode;m===null&&(m=s.stateNode=new XE),a.forEach(function(S){var R=oN.bind(null,s,S);m.has(S)||(m.add(S),S.then(R,R))})}}function yn(s,a){var m=a.deletions;if(m!==null)for(var S=0;S<m.length;S++){var R=m[S];try{var M=s,$=a,J=$;e:for(;J!==null;){switch(J.tag){case 5:sr=J.stateNode,vn=!1;break e;case 3:sr=J.stateNode.containerInfo,vn=!0;break e;case 4:sr=J.stateNode.containerInfo,vn=!0;break e}J=J.return}if(sr===null)throw Error(r(160));W0(M,$,R),sr=null,vn=!1;var Z=R.alternate;Z!==null&&(Z.return=null),R.return=null}catch(ce){jt(R,a,ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)G0(a,s),a=a.sibling}function G0(s,a){var m=s.alternate,S=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(yn(a,s),Rn(s),S&4){try{ba(3,s,s.return),fc(3,s)}catch(Be){jt(s,s.return,Be)}try{ba(5,s,s.return)}catch(Be){jt(s,s.return,Be)}}break;case 1:yn(a,s),Rn(s),S&512&&m!==null&&to(m,m.return);break;case 5:if(yn(a,s),Rn(s),S&512&&m!==null&&to(m,m.return),s.flags&32){var R=s.stateNode;try{Pe(R,"")}catch(Be){jt(s,s.return,Be)}}if(S&4&&(R=s.stateNode,R!=null)){var M=s.memoizedProps,$=m!==null?m.memoizedProps:M,J=s.type,Z=s.updateQueue;if(s.updateQueue=null,Z!==null)try{J==="input"&&M.type==="radio"&&M.name!=null&&Xe(R,M),Er(J,$);var ce=Er(J,M);for($=0;$<Z.length;$+=2){var ge=Z[$],xe=Z[$+1];ge==="style"?tr(R,xe):ge==="dangerouslySetInnerHTML"?ve(R,xe):ge==="children"?Pe(R,xe):b(R,ge,xe,ce)}switch(J){case"input":Te(R,M);break;case"textarea":br(R,M);break;case"select":var me=R._wrapperState.wasMultiple;R._wrapperState.wasMultiple=!!M.multiple;var Ne=M.value;Ne!=null?Ze(R,!!M.multiple,Ne,!1):me!==!!M.multiple&&(M.defaultValue!=null?Ze(R,!!M.multiple,M.defaultValue,!0):Ze(R,!!M.multiple,M.multiple?[]:"",!1))}R[ua]=M}catch(Be){jt(s,s.return,Be)}}break;case 6:if(yn(a,s),Rn(s),S&4){if(s.stateNode===null)throw Error(r(162));R=s.stateNode,M=s.memoizedProps;try{R.nodeValue=M}catch(Be){jt(s,s.return,Be)}}break;case 3:if(yn(a,s),Rn(s),S&4&&m!==null&&m.memoizedState.isDehydrated)try{Zo(a.containerInfo)}catch(Be){jt(s,s.return,Be)}break;case 4:yn(a,s),Rn(s);break;case 13:yn(a,s),Rn(s),R=s.child,R.flags&8192&&(M=R.memoizedState!==null,R.stateNode.isHidden=M,!M||R.alternate!==null&&R.alternate.memoizedState!==null||(Mh=Pt())),S&4&&K0(s);break;case 22:if(ge=m!==null&&m.memoizedState!==null,s.mode&1?(pr=(ce=pr)||ge,yn(a,s),pr=ce):yn(a,s),Rn(s),S&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!ge&&(s.mode&1)!==0)for(Ae=s,ge=s.child;ge!==null;){for(xe=Ae=ge;Ae!==null;){switch(me=Ae,Ne=me.child,me.tag){case 0:case 11:case 14:case 15:ba(4,me,me.return);break;case 1:to(me,me.return);var De=me.stateNode;if(typeof De.componentWillUnmount=="function"){S=me,m=me.return;try{a=S,De.props=a.memoizedProps,De.state=a.memoizedState,De.componentWillUnmount()}catch(Be){jt(S,m,Be)}}break;case 5:to(me,me.return);break;case 22:if(me.memoizedState!==null){X0(xe);continue}}Ne!==null?(Ne.return=me,Ae=Ne):X0(xe)}ge=ge.sibling}e:for(ge=null,xe=s;;){if(xe.tag===5){if(ge===null){ge=xe;try{R=xe.stateNode,ce?(M=R.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(J=xe.stateNode,Z=xe.memoizedProps.style,$=Z!=null&&Z.hasOwnProperty("display")?Z.display:null,J.style.display=zt("display",$))}catch(Be){jt(s,s.return,Be)}}}else if(xe.tag===6){if(ge===null)try{xe.stateNode.nodeValue=ce?"":xe.memoizedProps}catch(Be){jt(s,s.return,Be)}}else if((xe.tag!==22&&xe.tag!==23||xe.memoizedState===null||xe===s)&&xe.child!==null){xe.child.return=xe,xe=xe.child;continue}if(xe===s)break e;for(;xe.sibling===null;){if(xe.return===null||xe.return===s)break e;ge===xe&&(ge=null),xe=xe.return}ge===xe&&(ge=null),xe.sibling.return=xe.return,xe=xe.sibling}}break;case 19:yn(a,s),Rn(s),S&4&&K0(s);break;case 21:break;default:yn(a,s),Rn(s)}}function Rn(s){var a=s.flags;if(a&2){try{e:{for(var m=s.return;m!==null;){if(V0(m)){var S=m;break e}m=m.return}throw Error(r(160))}switch(S.tag){case 5:var R=S.stateNode;S.flags&32&&(Pe(R,""),S.flags&=-33);var M=U0(s);Th(s,M,R);break;case 3:case 4:var $=S.stateNode.containerInfo,J=U0(s);Ph(s,J,$);break;default:throw Error(r(161))}}catch(Z){jt(s,s.return,Z)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function QE(s,a,m){Ae=s,q0(s)}function q0(s,a,m){for(var S=(s.mode&1)!==0;Ae!==null;){var R=Ae,M=R.child;if(R.tag===22&&S){var $=R.memoizedState!==null||hc;if(!$){var J=R.alternate,Z=J!==null&&J.memoizedState!==null||pr;J=hc;var ce=pr;if(hc=$,(pr=Z)&&!ce)for(Ae=R;Ae!==null;)$=Ae,Z=$.child,$.tag===22&&$.memoizedState!==null?J0(R):Z!==null?(Z.return=$,Ae=Z):J0(R);for(;M!==null;)Ae=M,q0(M),M=M.sibling;Ae=R,hc=J,pr=ce}Y0(s)}else(R.subtreeFlags&8772)!==0&&M!==null?(M.return=R,Ae=M):Y0(s)}}function Y0(s){for(;Ae!==null;){var a=Ae;if((a.flags&8772)!==0){var m=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:pr||fc(5,a);break;case 1:var S=a.stateNode;if(a.flags&4&&!pr)if(m===null)S.componentDidMount();else{var R=a.elementType===a.type?m.memoizedProps:gn(a.type,m.memoizedProps);S.componentDidUpdate(R,m.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var M=a.updateQueue;M!==null&&Xv(a,M,S);break;case 3:var $=a.updateQueue;if($!==null){if(m=null,a.child!==null)switch(a.child.tag){case 5:m=a.child.stateNode;break;case 1:m=a.child.stateNode}Xv(a,$,m)}break;case 5:var J=a.stateNode;if(m===null&&a.flags&4){m=J;var Z=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Z.autoFocus&&m.focus();break;case"img":Z.src&&(m.src=Z.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ce=a.alternate;if(ce!==null){var ge=ce.memoizedState;if(ge!==null){var xe=ge.dehydrated;xe!==null&&Zo(xe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}pr||a.flags&512&&Nh(a)}catch(me){jt(a,a.return,me)}}if(a===s){Ae=null;break}if(m=a.sibling,m!==null){m.return=a.return,Ae=m;break}Ae=a.return}}function X0(s){for(;Ae!==null;){var a=Ae;if(a===s){Ae=null;break}var m=a.sibling;if(m!==null){m.return=a.return,Ae=m;break}Ae=a.return}}function J0(s){for(;Ae!==null;){var a=Ae;try{switch(a.tag){case 0:case 11:case 15:var m=a.return;try{fc(4,a)}catch(Z){jt(a,m,Z)}break;case 1:var S=a.stateNode;if(typeof S.componentDidMount=="function"){var R=a.return;try{S.componentDidMount()}catch(Z){jt(a,R,Z)}}var M=a.return;try{Nh(a)}catch(Z){jt(a,M,Z)}break;case 5:var $=a.return;try{Nh(a)}catch(Z){jt(a,$,Z)}}}catch(Z){jt(a,a.return,Z)}if(a===s){Ae=null;break}var J=a.sibling;if(J!==null){J.return=a.return,Ae=J;break}Ae=a.return}}var ZE=Math.ceil,pc=j.ReactCurrentDispatcher,Rh=j.ReactCurrentOwner,on=j.ReactCurrentBatchConfig,it=0,Xt=null,Lt=null,ir=0,Kr=0,ro=ks(0),Vt=0,wa=null,fi=0,mc=0,Ah=0,Sa=null,Rr=null,Mh=0,no=1/0,Qn=null,gc=!1,Dh=null,Rs=null,vc=!1,As=null,yc=0,Ca=0,Lh=null,xc=-1,_c=0;function Sr(){return(it&6)!==0?Pt():xc!==-1?xc:xc=Pt()}function Ms(s){return(s.mode&1)===0?1:(it&2)!==0&&ir!==0?ir&-ir:IE.transition!==null?(_c===0&&(_c=Ug()),_c):(s=ut,s!==0||(s=window.event,s=s===void 0?16:Zg(s.type)),s)}function xn(s,a,m,S){if(50<Ca)throw Ca=0,Lh=null,Error(r(185));qo(s,m,S),((it&2)===0||s!==Xt)&&(s===Xt&&((it&2)===0&&(mc|=m),Vt===4&&Ds(s,ir)),Ar(s,S),m===1&&it===0&&(a.mode&1)===0&&(no=Pt()+500,ql&&Es()))}function Ar(s,a){var m=s.callbackNode;Ij(s,a);var S=Pl(s,s===Xt?ir:0);if(S===0)m!==null&&Hg(m),s.callbackNode=null,s.callbackPriority=0;else if(a=S&-S,s.callbackPriority!==a){if(m!=null&&Hg(m),a===1)s.tag===0?LE(Z0.bind(null,s)):Bv(Z0.bind(null,s)),RE(function(){(it&6)===0&&Es()}),m=null;else{switch(Wg(S)){case 1:m=pd;break;case 4:m=$g;break;case 16:m=kl;break;case 536870912:m=Vg;break;default:m=kl}m=ay(m,Q0.bind(null,s))}s.callbackPriority=a,s.callbackNode=m}}function Q0(s,a){if(xc=-1,_c=0,(it&6)!==0)throw Error(r(327));var m=s.callbackNode;if(so()&&s.callbackNode!==m)return null;var S=Pl(s,s===Xt?ir:0);if(S===0)return null;if((S&30)!==0||(S&s.expiredLanes)!==0||a)a=bc(s,S);else{a=S;var R=it;it|=2;var M=ty();(Xt!==s||ir!==a)&&(Qn=null,no=Pt()+500,mi(s,a));do try{rN();break}catch(J){ey(s,J)}while(!0);Zd(),pc.current=M,it=R,Lt!==null?a=0:(Xt=null,ir=0,a=Vt)}if(a!==0){if(a===2&&(R=md(s),R!==0&&(S=R,a=Ih(s,R))),a===1)throw m=wa,mi(s,0),Ds(s,S),Ar(s,Pt()),m;if(a===6)Ds(s,S);else{if(R=s.current.alternate,(S&30)===0&&!eN(R)&&(a=bc(s,S),a===2&&(M=md(s),M!==0&&(S=M,a=Ih(s,M))),a===1))throw m=wa,mi(s,0),Ds(s,S),Ar(s,Pt()),m;switch(s.finishedWork=R,s.finishedLanes=S,a){case 0:case 1:throw Error(r(345));case 2:gi(s,Rr,Qn);break;case 3:if(Ds(s,S),(S&130023424)===S&&(a=Mh+500-Pt(),10<a)){if(Pl(s,0)!==0)break;if(R=s.suspendedLanes,(R&S)!==S){Sr(),s.pingedLanes|=s.suspendedLanes&R;break}s.timeoutHandle=$d(gi.bind(null,s,Rr,Qn),a);break}gi(s,Rr,Qn);break;case 4:if(Ds(s,S),(S&4194240)===S)break;for(a=s.eventTimes,R=-1;0<S;){var $=31-fn(S);M=1<<$,$=a[$],$>R&&(R=$),S&=~M}if(S=R,S=Pt()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*ZE(S/1960))-S,10<S){s.timeoutHandle=$d(gi.bind(null,s,Rr,Qn),S);break}gi(s,Rr,Qn);break;case 5:gi(s,Rr,Qn);break;default:throw Error(r(329))}}}return Ar(s,Pt()),s.callbackNode===m?Q0.bind(null,s):null}function Ih(s,a){var m=Sa;return s.current.memoizedState.isDehydrated&&(mi(s,a).flags|=256),s=bc(s,a),s!==2&&(a=Rr,Rr=m,a!==null&&Oh(a)),s}function Oh(s){Rr===null?Rr=s:Rr.push.apply(Rr,s)}function eN(s){for(var a=s;;){if(a.flags&16384){var m=a.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var S=0;S<m.length;S++){var R=m[S],M=R.getSnapshot;R=R.value;try{if(!pn(M(),R))return!1}catch{return!1}}}if(m=a.child,a.subtreeFlags&16384&&m!==null)m.return=a,a=m;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ds(s,a){for(a&=~Ah,a&=~mc,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var m=31-fn(a),S=1<<m;s[m]=-1,a&=~S}}function Z0(s){if((it&6)!==0)throw Error(r(327));so();var a=Pl(s,0);if((a&1)===0)return Ar(s,Pt()),null;var m=bc(s,a);if(s.tag!==0&&m===2){var S=md(s);S!==0&&(a=S,m=Ih(s,S))}if(m===1)throw m=wa,mi(s,0),Ds(s,a),Ar(s,Pt()),m;if(m===6)throw Error(r(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,gi(s,Rr,Qn),Ar(s,Pt()),null}function Bh(s,a){var m=it;it|=1;try{return s(a)}finally{it=m,it===0&&(no=Pt()+500,ql&&Es())}}function pi(s){As!==null&&As.tag===0&&(it&6)===0&&so();var a=it;it|=1;var m=on.transition,S=ut;try{if(on.transition=null,ut=1,s)return s()}finally{ut=S,on.transition=m,it=a,(it&6)===0&&Es()}}function Fh(){Kr=ro.current,xt(ro)}function mi(s,a){s.finishedWork=null,s.finishedLanes=0;var m=s.timeoutHandle;if(m!==-1&&(s.timeoutHandle=-1,TE(m)),Lt!==null)for(m=Lt.return;m!==null;){var S=m;switch(qd(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&Kl();break;case 3:Zi(),xt(Nr),xt(dr),ah();break;case 5:ih(S);break;case 4:Zi();break;case 13:xt(St);break;case 19:xt(St);break;case 10:eh(S.type._context);break;case 22:case 23:Fh()}m=m.return}if(Xt=s,Lt=s=Ls(s.current,null),ir=Kr=a,Vt=0,wa=null,Ah=mc=fi=0,Rr=Sa=null,ui!==null){for(a=0;a<ui.length;a++)if(m=ui[a],S=m.interleaved,S!==null){m.interleaved=null;var R=S.next,M=m.pending;if(M!==null){var $=M.next;M.next=R,S.next=$}m.pending=S}ui=null}return s}function ey(s,a){do{var m=Lt;try{if(Zd(),sc.current=lc,ic){for(var S=Ct.memoizedState;S!==null;){var R=S.queue;R!==null&&(R.pending=null),S=S.next}ic=!1}if(hi=0,Yt=$t=Ct=null,ga=!1,va=0,Rh.current=null,m===null||m.return===null){Vt=1,wa=a,Lt=null;break}e:{var M=s,$=m.return,J=m,Z=a;if(a=ir,J.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var ce=Z,ge=J,xe=ge.tag;if((ge.mode&1)===0&&(xe===0||xe===11||xe===15)){var me=ge.alternate;me?(ge.updateQueue=me.updateQueue,ge.memoizedState=me.memoizedState,ge.lanes=me.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var Ne=k0($);if(Ne!==null){Ne.flags&=-257,j0(Ne,$,J,M,a),Ne.mode&1&&C0(M,ce,a),a=Ne,Z=ce;var De=a.updateQueue;if(De===null){var Be=new Set;Be.add(Z),a.updateQueue=Be}else De.add(Z);break e}else{if((a&1)===0){C0(M,ce,a),zh();break e}Z=Error(r(426))}}else if(bt&&J.mode&1){var Tt=k0($);if(Tt!==null){(Tt.flags&65536)===0&&(Tt.flags|=256),j0(Tt,$,J,M,a),Jd(eo(Z,J));break e}}M=Z=eo(Z,J),Vt!==4&&(Vt=2),Sa===null?Sa=[M]:Sa.push(M),M=$;do{switch(M.tag){case 3:M.flags|=65536,a&=-a,M.lanes|=a;var oe=w0(M,Z,a);Yv(M,oe);break e;case 1:J=Z;var te=M.type,le=M.stateNode;if((M.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||le!==null&&typeof le.componentDidCatch=="function"&&(Rs===null||!Rs.has(le)))){M.flags|=65536,a&=-a,M.lanes|=a;var be=S0(M,J,a);Yv(M,be);break e}}M=M.return}while(M!==null)}ny(m)}catch(Fe){a=Fe,Lt===m&&m!==null&&(Lt=m=m.return);continue}break}while(!0)}function ty(){var s=pc.current;return pc.current=lc,s===null?lc:s}function zh(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Xt===null||(fi&268435455)===0&&(mc&268435455)===0||Ds(Xt,ir)}function bc(s,a){var m=it;it|=2;var S=ty();(Xt!==s||ir!==a)&&(Qn=null,mi(s,a));do try{tN();break}catch(R){ey(s,R)}while(!0);if(Zd(),it=m,pc.current=S,Lt!==null)throw Error(r(261));return Xt=null,ir=0,Vt}function tN(){for(;Lt!==null;)ry(Lt)}function rN(){for(;Lt!==null&&!Ej();)ry(Lt)}function ry(s){var a=oy(s.alternate,s,Kr);s.memoizedProps=s.pendingProps,a===null?ny(s):Lt=a,Rh.current=null}function ny(s){var a=s;do{var m=a.alternate;if(s=a.return,(a.flags&32768)===0){if(m=qE(m,a,Kr),m!==null){Lt=m;return}}else{if(m=YE(m,a),m!==null){m.flags&=32767,Lt=m;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Vt=6,Lt=null;return}}if(a=a.sibling,a!==null){Lt=a;return}Lt=a=s}while(a!==null);Vt===0&&(Vt=5)}function gi(s,a,m){var S=ut,R=on.transition;try{on.transition=null,ut=1,nN(s,a,m,S)}finally{on.transition=R,ut=S}return null}function nN(s,a,m,S){do so();while(As!==null);if((it&6)!==0)throw Error(r(327));m=s.finishedWork;var R=s.finishedLanes;if(m===null)return null;if(s.finishedWork=null,s.finishedLanes=0,m===s.current)throw Error(r(177));s.callbackNode=null,s.callbackPriority=0;var M=m.lanes|m.childLanes;if(Oj(s,M),s===Xt&&(Lt=Xt=null,ir=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||vc||(vc=!0,ay(kl,function(){return so(),null})),M=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||M){M=on.transition,on.transition=null;var $=ut;ut=1;var J=it;it|=4,Rh.current=null,JE(s,m),G0(m,s),SE(zd),Al=!!Fd,zd=Fd=null,s.current=m,QE(m),Nj(),it=J,ut=$,on.transition=M}else s.current=m;if(vc&&(vc=!1,As=s,yc=R),M=s.pendingLanes,M===0&&(Rs=null),Rj(m.stateNode),Ar(s,Pt()),a!==null)for(S=s.onRecoverableError,m=0;m<a.length;m++)R=a[m],S(R.value,{componentStack:R.stack,digest:R.digest});if(gc)throw gc=!1,s=Dh,Dh=null,s;return(yc&1)!==0&&s.tag!==0&&so(),M=s.pendingLanes,(M&1)!==0?s===Lh?Ca++:(Ca=0,Lh=s):Ca=0,Es(),null}function so(){if(As!==null){var s=Wg(yc),a=on.transition,m=ut;try{if(on.transition=null,ut=16>s?16:s,As===null)var S=!1;else{if(s=As,As=null,yc=0,(it&6)!==0)throw Error(r(331));var R=it;for(it|=4,Ae=s.current;Ae!==null;){var M=Ae,$=M.child;if((Ae.flags&16)!==0){var J=M.deletions;if(J!==null){for(var Z=0;Z<J.length;Z++){var ce=J[Z];for(Ae=ce;Ae!==null;){var ge=Ae;switch(ge.tag){case 0:case 11:case 15:ba(8,ge,M)}var xe=ge.child;if(xe!==null)xe.return=ge,Ae=xe;else for(;Ae!==null;){ge=Ae;var me=ge.sibling,Ne=ge.return;if($0(ge),ge===ce){Ae=null;break}if(me!==null){me.return=Ne,Ae=me;break}Ae=Ne}}}var De=M.alternate;if(De!==null){var Be=De.child;if(Be!==null){De.child=null;do{var Tt=Be.sibling;Be.sibling=null,Be=Tt}while(Be!==null)}}Ae=M}}if((M.subtreeFlags&2064)!==0&&$!==null)$.return=M,Ae=$;else e:for(;Ae!==null;){if(M=Ae,(M.flags&2048)!==0)switch(M.tag){case 0:case 11:case 15:ba(9,M,M.return)}var oe=M.sibling;if(oe!==null){oe.return=M.return,Ae=oe;break e}Ae=M.return}}var te=s.current;for(Ae=te;Ae!==null;){$=Ae;var le=$.child;if(($.subtreeFlags&2064)!==0&&le!==null)le.return=$,Ae=le;else e:for($=te;Ae!==null;){if(J=Ae,(J.flags&2048)!==0)try{switch(J.tag){case 0:case 11:case 15:fc(9,J)}}catch(Fe){jt(J,J.return,Fe)}if(J===$){Ae=null;break e}var be=J.sibling;if(be!==null){be.return=J.return,Ae=be;break e}Ae=J.return}}if(it=R,Es(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(jl,s)}catch{}S=!0}return S}finally{ut=m,on.transition=a}}return!1}function sy(s,a,m){a=eo(m,a),a=w0(s,a,1),s=Ps(s,a,1),a=Sr(),s!==null&&(qo(s,1,a),Ar(s,a))}function jt(s,a,m){if(s.tag===3)sy(s,s,m);else for(;a!==null;){if(a.tag===3){sy(a,s,m);break}else if(a.tag===1){var S=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(Rs===null||!Rs.has(S))){s=eo(m,s),s=S0(a,s,1),a=Ps(a,s,1),s=Sr(),a!==null&&(qo(a,1,s),Ar(a,s));break}}a=a.return}}function sN(s,a,m){var S=s.pingCache;S!==null&&S.delete(a),a=Sr(),s.pingedLanes|=s.suspendedLanes&m,Xt===s&&(ir&m)===m&&(Vt===4||Vt===3&&(ir&130023424)===ir&&500>Pt()-Mh?mi(s,0):Ah|=m),Ar(s,a)}function iy(s,a){a===0&&((s.mode&1)===0?a=1:(a=Nl,Nl<<=1,(Nl&130023424)===0&&(Nl=4194304)));var m=Sr();s=Yn(s,a),s!==null&&(qo(s,a,m),Ar(s,m))}function iN(s){var a=s.memoizedState,m=0;a!==null&&(m=a.retryLane),iy(s,m)}function oN(s,a){var m=0;switch(s.tag){case 13:var S=s.stateNode,R=s.memoizedState;R!==null&&(m=R.retryLane);break;case 19:S=s.stateNode;break;default:throw Error(r(314))}S!==null&&S.delete(a),iy(s,m)}var oy;oy=function(s,a,m){if(s!==null)if(s.memoizedProps!==a.pendingProps||Nr.current)Tr=!0;else{if((s.lanes&m)===0&&(a.flags&128)===0)return Tr=!1,GE(s,a,m);Tr=(s.flags&131072)!==0}else Tr=!1,bt&&(a.flags&1048576)!==0&&Fv(a,Xl,a.index);switch(a.lanes=0,a.tag){case 2:var S=a.type;dc(s,a),s=a.pendingProps;var R=Ki(a,dr.current);Qi(a,m),R=uh(null,a,S,s,R,m);var M=dh();return a.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Pr(S)?(M=!0,Gl(a)):M=!1,a.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,nh(a),R.updater=cc,a.stateNode=R,R._reactInternals=a,vh(a,S,s,m),a=bh(null,a,S,!0,M,m)):(a.tag=0,bt&&M&&Gd(a),wr(null,a,R,m),a=a.child),a;case 16:S=a.elementType;e:{switch(dc(s,a),s=a.pendingProps,R=S._init,S=R(S._payload),a.type=S,R=a.tag=lN(S),s=gn(S,s),R){case 0:a=_h(null,a,S,s,m);break e;case 1:a=A0(null,a,S,s,m);break e;case 11:a=E0(null,a,S,s,m);break e;case 14:a=N0(null,a,S,gn(S.type,s),m);break e}throw Error(r(306,S,""))}return a;case 0:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:gn(S,R),_h(s,a,S,R,m);case 1:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:gn(S,R),A0(s,a,S,R,m);case 3:e:{if(M0(a),s===null)throw Error(r(387));S=a.pendingProps,M=a.memoizedState,R=M.element,qv(s,a),rc(a,S,null,m);var $=a.memoizedState;if(S=$.element,M.isDehydrated)if(M={element:S,isDehydrated:!1,cache:$.cache,pendingSuspenseBoundaries:$.pendingSuspenseBoundaries,transitions:$.transitions},a.updateQueue.baseState=M,a.memoizedState=M,a.flags&256){R=eo(Error(r(423)),a),a=D0(s,a,S,m,R);break e}else if(S!==R){R=eo(Error(r(424)),a),a=D0(s,a,S,m,R);break e}else for(Wr=Cs(a.stateNode.containerInfo.firstChild),Ur=a,bt=!0,mn=null,m=Kv(a,null,S,m),a.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Yi(),S===R){a=Jn(s,a,m);break e}wr(s,a,S,m)}a=a.child}return a;case 5:return Jv(a),s===null&&Xd(a),S=a.type,R=a.pendingProps,M=s!==null?s.memoizedProps:null,$=R.children,Hd(S,R)?$=null:M!==null&&Hd(S,M)&&(a.flags|=32),R0(s,a),wr(s,a,$,m),a.child;case 6:return s===null&&Xd(a),null;case 13:return L0(s,a,m);case 4:return sh(a,a.stateNode.containerInfo),S=a.pendingProps,s===null?a.child=Xi(a,null,S,m):wr(s,a,S,m),a.child;case 11:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:gn(S,R),E0(s,a,S,R,m);case 7:return wr(s,a,a.pendingProps,m),a.child;case 8:return wr(s,a,a.pendingProps.children,m),a.child;case 12:return wr(s,a,a.pendingProps.children,m),a.child;case 10:e:{if(S=a.type._context,R=a.pendingProps,M=a.memoizedProps,$=R.value,ft(Zl,S._currentValue),S._currentValue=$,M!==null)if(pn(M.value,$)){if(M.children===R.children&&!Nr.current){a=Jn(s,a,m);break e}}else for(M=a.child,M!==null&&(M.return=a);M!==null;){var J=M.dependencies;if(J!==null){$=M.child;for(var Z=J.firstContext;Z!==null;){if(Z.context===S){if(M.tag===1){Z=Xn(-1,m&-m),Z.tag=2;var ce=M.updateQueue;if(ce!==null){ce=ce.shared;var ge=ce.pending;ge===null?Z.next=Z:(Z.next=ge.next,ge.next=Z),ce.pending=Z}}M.lanes|=m,Z=M.alternate,Z!==null&&(Z.lanes|=m),th(M.return,m,a),J.lanes|=m;break}Z=Z.next}}else if(M.tag===10)$=M.type===a.type?null:M.child;else if(M.tag===18){if($=M.return,$===null)throw Error(r(341));$.lanes|=m,J=$.alternate,J!==null&&(J.lanes|=m),th($,m,a),$=M.sibling}else $=M.child;if($!==null)$.return=M;else for($=M;$!==null;){if($===a){$=null;break}if(M=$.sibling,M!==null){M.return=$.return,$=M;break}$=$.return}M=$}wr(s,a,R.children,m),a=a.child}return a;case 9:return R=a.type,S=a.pendingProps.children,Qi(a,m),R=nn(R),S=S(R),a.flags|=1,wr(s,a,S,m),a.child;case 14:return S=a.type,R=gn(S,a.pendingProps),R=gn(S.type,R),N0(s,a,S,R,m);case 15:return P0(s,a,a.type,a.pendingProps,m);case 17:return S=a.type,R=a.pendingProps,R=a.elementType===S?R:gn(S,R),dc(s,a),a.tag=1,Pr(S)?(s=!0,Gl(a)):s=!1,Qi(a,m),_0(a,S,R),vh(a,S,R,m),bh(null,a,S,!0,s,m);case 19:return O0(s,a,m);case 22:return T0(s,a,m)}throw Error(r(156,a.tag))};function ay(s,a){return zg(s,a)}function aN(s,a,m,S){this.tag=s,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(s,a,m,S){return new aN(s,a,m,S)}function Hh(s){return s=s.prototype,!(!s||!s.isReactComponent)}function lN(s){if(typeof s=="function")return Hh(s)?1:0;if(s!=null){if(s=s.$$typeof,s===V)return 11;if(s===K)return 14}return 2}function Ls(s,a){var m=s.alternate;return m===null?(m=an(s.tag,a,s.key,s.mode),m.elementType=s.elementType,m.type=s.type,m.stateNode=s.stateNode,m.alternate=s,s.alternate=m):(m.pendingProps=a,m.type=s.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=s.flags&14680064,m.childLanes=s.childLanes,m.lanes=s.lanes,m.child=s.child,m.memoizedProps=s.memoizedProps,m.memoizedState=s.memoizedState,m.updateQueue=s.updateQueue,a=s.dependencies,m.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},m.sibling=s.sibling,m.index=s.index,m.ref=s.ref,m}function wc(s,a,m,S,R,M){var $=2;if(S=s,typeof s=="function")Hh(s)&&($=1);else if(typeof s=="string")$=5;else e:switch(s){case P:return vi(m.children,R,M,a);case E:$=8,R|=8;break;case L:return s=an(12,m,a,R|2),s.elementType=L,s.lanes=M,s;case U:return s=an(13,m,a,R),s.elementType=U,s.lanes=M,s;case X:return s=an(19,m,a,R),s.elementType=X,s.lanes=M,s;case G:return Sc(m,R,M,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case z:$=10;break e;case F:$=9;break e;case V:$=11;break e;case K:$=14;break e;case q:$=16,S=null;break e}throw Error(r(130,s==null?s:typeof s,""))}return a=an($,m,a,R),a.elementType=s,a.type=S,a.lanes=M,a}function vi(s,a,m,S){return s=an(7,s,S,a),s.lanes=m,s}function Sc(s,a,m,S){return s=an(22,s,S,a),s.elementType=G,s.lanes=m,s.stateNode={isHidden:!1},s}function $h(s,a,m){return s=an(6,s,null,a),s.lanes=m,s}function Vh(s,a,m){return a=an(4,s.children!==null?s.children:[],s.key,a),a.lanes=m,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function cN(s,a,m,S,R){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gd(0),this.expirationTimes=gd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gd(0),this.identifierPrefix=S,this.onRecoverableError=R,this.mutableSourceEagerHydrationData=null}function Uh(s,a,m,S,R,M,$,J,Z){return s=new cN(s,a,m,J,Z),a===1?(a=1,M===!0&&(a|=8)):a=0,M=an(3,null,null,a),s.current=M,M.stateNode=s,M.memoizedState={element:S,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},nh(M),s}function uN(s,a,m){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:T,key:S==null?null:""+S,children:s,containerInfo:a,implementation:m}}function ly(s){if(!s)return js;s=s._reactInternals;e:{if(ii(s)!==s||s.tag!==1)throw Error(r(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Pr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(r(171))}if(s.tag===1){var m=s.type;if(Pr(m))return Iv(s,m,a)}return a}function cy(s,a,m,S,R,M,$,J,Z){return s=Uh(m,S,!0,s,R,M,$,J,Z),s.context=ly(null),m=s.current,S=Sr(),R=Ms(m),M=Xn(S,R),M.callback=a??null,Ps(m,M,R),s.current.lanes=R,qo(s,R,S),Ar(s,S),s}function Cc(s,a,m,S){var R=a.current,M=Sr(),$=Ms(R);return m=ly(m),a.context===null?a.context=m:a.pendingContext=m,a=Xn(M,$),a.payload={element:s},S=S===void 0?null:S,S!==null&&(a.callback=S),s=Ps(R,a,$),s!==null&&(xn(s,R,$,M),tc(s,R,$)),$}function kc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function uy(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var m=s.retryLane;s.retryLane=m!==0&&m<a?m:a}}function Wh(s,a){uy(s,a),(s=s.alternate)&&uy(s,a)}function dN(){return null}var dy=typeof reportError=="function"?reportError:function(s){console.error(s)};function Kh(s){this._internalRoot=s}jc.prototype.render=Kh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(r(409));Cc(s,a,null,null)},jc.prototype.unmount=Kh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;pi(function(){Cc(null,s,null,null)}),a[Wn]=null}};function jc(s){this._internalRoot=s}jc.prototype.unstable_scheduleHydration=function(s){if(s){var a=qg();s={blockedOn:null,target:s,priority:a};for(var m=0;m<bs.length&&a!==0&&a<bs[m].priority;m++);bs.splice(m,0,s),m===0&&Jg(s)}};function Gh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ec(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function hy(){}function hN(s,a,m,S,R){if(R){if(typeof S=="function"){var M=S;S=function(){var ce=kc($);M.call(ce)}}var $=cy(a,S,s,0,null,!1,!1,"",hy);return s._reactRootContainer=$,s[Wn]=$.current,la(s.nodeType===8?s.parentNode:s),pi(),$}for(;R=s.lastChild;)s.removeChild(R);if(typeof S=="function"){var J=S;S=function(){var ce=kc(Z);J.call(ce)}}var Z=Uh(s,0,!1,null,null,!1,!1,"",hy);return s._reactRootContainer=Z,s[Wn]=Z.current,la(s.nodeType===8?s.parentNode:s),pi(function(){Cc(a,Z,m,S)}),Z}function Nc(s,a,m,S,R){var M=m._reactRootContainer;if(M){var $=M;if(typeof R=="function"){var J=R;R=function(){var Z=kc($);J.call(Z)}}Cc(a,$,s,R)}else $=hN(m,a,s,R,S);return kc($)}Kg=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var m=Go(a.pendingLanes);m!==0&&(vd(a,m|1),Ar(a,Pt()),(it&6)===0&&(no=Pt()+500,Es()))}break;case 13:pi(function(){var S=Yn(s,1);if(S!==null){var R=Sr();xn(S,s,1,R)}}),Wh(s,1)}},yd=function(s){if(s.tag===13){var a=Yn(s,134217728);if(a!==null){var m=Sr();xn(a,s,134217728,m)}Wh(s,134217728)}},Gg=function(s){if(s.tag===13){var a=Ms(s),m=Yn(s,a);if(m!==null){var S=Sr();xn(m,s,a,S)}Wh(s,a)}},qg=function(){return ut},Yg=function(s,a){var m=ut;try{return ut=s,a()}finally{ut=m}},Uo=function(s,a,m){switch(a){case"input":if(Te(s,m),a=m.name,m.type==="radio"&&a!=null){for(m=s;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<m.length;a++){var S=m[a];if(S!==s&&S.form===s.form){var R=Wl(S);if(!R)throw Error(r(90));ne(S),Te(S,R)}}}break;case"textarea":br(s,m);break;case"select":a=m.value,a!=null&&Ze(s,!!m.multiple,a,!1)}},Ht=Bh,ur=pi;var fN={usingClientEntryPoint:!1,Events:[da,Ui,Wl,Ge,Nt,Bh]},ka={findFiberByHostInstance:oi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pN={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Bg(s),s===null?null:s.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||dN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{jl=Pc.inject(pN),En=Pc}catch{}}return Mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fN,Mr.createPortal=function(s,a){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Gh(a))throw Error(r(200));return uN(s,a,null,m)},Mr.createRoot=function(s,a){if(!Gh(s))throw Error(r(299));var m=!1,S="",R=dy;return a!=null&&(a.unstable_strictMode===!0&&(m=!0),a.identifierPrefix!==void 0&&(S=a.identifierPrefix),a.onRecoverableError!==void 0&&(R=a.onRecoverableError)),a=Uh(s,1,!1,null,null,m,!1,S,R),s[Wn]=a.current,la(s.nodeType===8?s.parentNode:s),new Kh(a)},Mr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(r(188)):(s=Object.keys(s).join(","),Error(r(268,s)));return s=Bg(a),s=s===null?null:s.stateNode,s},Mr.flushSync=function(s){return pi(s)},Mr.hydrate=function(s,a,m){if(!Ec(a))throw Error(r(200));return Nc(null,s,a,!0,m)},Mr.hydrateRoot=function(s,a,m){if(!Gh(s))throw Error(r(405));var S=m!=null&&m.hydratedSources||null,R=!1,M="",$=dy;if(m!=null&&(m.unstable_strictMode===!0&&(R=!0),m.identifierPrefix!==void 0&&(M=m.identifierPrefix),m.onRecoverableError!==void 0&&($=m.onRecoverableError)),a=cy(a,null,s,1,m??null,R,!1,M,$),s[Wn]=a.current,la(s),S)for(s=0;s<S.length;s++)m=S[s],R=m._getVersion,R=R(m._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[m,R]:a.mutableSourceEagerHydrationData.push(m,R);return new jc(a)},Mr.render=function(s,a,m){if(!Ec(a))throw Error(r(200));return Nc(null,s,a,!1,m)},Mr.unmountComponentAtNode=function(s){if(!Ec(s))throw Error(r(40));return s._reactRootContainer?(pi(function(){Nc(null,null,s,!1,function(){s._reactRootContainer=null,s[Wn]=null})}),!0):!1},Mr.unstable_batchedUpdates=Bh,Mr.unstable_renderSubtreeIntoContainer=function(s,a,m,S){if(!Ec(m))throw Error(r(200));if(s==null||s._reactInternals===void 0)throw Error(r(38));return Nc(s,a,m,!1,S)},Mr.version="18.3.1-next-f1338f8080-20240426",Mr}var _y;function vb(){if(_y)return Xh.exports;_y=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Xh.exports=wN(),Xh.exports}var by;function SN(){if(by)return Tc;by=1;var e=vb();return Tc.createRoot=e.createRoot,Tc.hydrateRoot=e.hydrateRoot,Tc}var CN=SN();const kN=il(CN);var ol=vb();const yb=il(ol);function jN(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}const EN=e=>{switch(e){case"success":return TN;case"info":return AN;case"warning":return RN;case"error":return MN;default:return null}},NN=Array(12).fill(0),PN=({visible:e,className:t})=>we.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},we.createElement("div",{className:"sonner-spinner"},NN.map((r,n)=>we.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),TN=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),RN=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),AN=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),MN=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},we.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),DN=we.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},we.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),we.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),LN=()=>{const[e,t]=we.useState(document.hidden);return we.useEffect(()=>{const r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e};let Wf=1;class IN{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const r=this.subscribers.indexOf(t);this.subscribers.splice(r,1)}),this.publish=t=>{this.subscribers.forEach(r=>r(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var r;const{message:n,...o}=t,d=typeof(t==null?void 0:t.id)=="number"||((r=t.id)==null?void 0:r.length)>0?t.id:Wf++,c=this.toasts.find(u=>u.id===d),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(d)&&this.dismissedToasts.delete(d),c?this.toasts=this.toasts.map(u=>u.id===d?(this.publish({...u,...t,id:d,title:n}),{...u,...t,id:d,dismissible:l,title:n}):u):this.addToast({title:n,...o,dismissible:l,id:d}),d},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:t,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),t),this.message=(t,r)=>this.create({...r,message:t}),this.error=(t,r)=>this.create({...r,message:t,type:"error"}),this.success=(t,r)=>this.create({...r,type:"success",message:t}),this.info=(t,r)=>this.create({...r,type:"info",message:t}),this.warning=(t,r)=>this.create({...r,type:"warning",message:t}),this.loading=(t,r)=>this.create({...r,type:"loading",message:t}),this.promise=(t,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:t,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const o=Promise.resolve(t instanceof Function?t():t);let d=n!==void 0,c;const l=o.then(async f=>{if(c=["resolve",f],we.isValidElement(f))d=!1,this.create({id:n,type:"default",message:f});else if(BN(f)&&!f.ok){d=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${f.status}`):r.error,v=typeof r.description=="function"?await r.description(`HTTP error! status: ${f.status}`):r.description,k=typeof h=="object"&&!we.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:v,...k})}else if(f instanceof Error){d=!1;const h=typeof r.error=="function"?await r.error(f):r.error,v=typeof r.description=="function"?await r.description(f):r.description,k=typeof h=="object"&&!we.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:v,...k})}else if(r.success!==void 0){d=!1;const h=typeof r.success=="function"?await r.success(f):r.success,v=typeof r.description=="function"?await r.description(f):r.description,k=typeof h=="object"&&!we.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:v,...k})}}).catch(async f=>{if(c=["reject",f],r.error!==void 0){d=!1;const p=typeof r.error=="function"?await r.error(f):r.error,h=typeof r.description=="function"?await r.description(f):r.description,_=typeof p=="object"&&!we.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:h,..._})}}).finally(()=>{d&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),u=()=>new Promise((f,p)=>l.then(()=>c[0]==="reject"?p(c[1]):f(c[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(t,r)=>{const n=(r==null?void 0:r.id)||Wf++;return this.create({jsx:t(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Lr=new IN,ON=(e,t)=>{const r=(t==null?void 0:t.id)||Wf++;return Lr.addToast({title:e,...t,id:r}),r},BN=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",FN=ON,zN=()=>Lr.toasts,HN=()=>Lr.getActiveToasts(),ie=Object.assign(FN,{success:Lr.success,info:Lr.info,warning:Lr.warning,error:Lr.error,custom:Lr.custom,message:Lr.message,promise:Lr.promise,dismiss:Lr.dismiss,loading:Lr.loading},{getHistory:zN,getToasts:HN});jN("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Rc(e){return e.label!==void 0}const $N=3,VN="24px",UN="16px",wy=4e3,WN=356,KN=14,GN=45,qN=200;function An(...e){return e.filter(Boolean).join(" ")}function YN(e){const[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}const XN=e=>{var t,r,n,o,d,c,l,u,f;const{invert:p,toast:h,unstyled:v,interacting:_,setHeights:k,visibleToasts:w,heights:y,index:x,toasts:g,expanded:b,removeToast:j,defaultRichColors:N,closeButton:T,style:P,cancelButtonStyle:E,actionButtonStyle:L,className:z="",descriptionClassName:F="",duration:V,position:U,gap:X,expandByDefault:K,classNames:q,icons:G,closeButtonAriaLabel:B="Close toast"}=e,[D,A]=we.useState(null),[I,W]=we.useState(null),[O,re]=we.useState(!1),[ue,he]=we.useState(!1),[Y,H]=we.useState(!1),[se,ee]=we.useState(!1),[Q,ne]=we.useState(!1),[ye,Oe]=we.useState(0),[ze,Xe]=we.useState(0),Te=we.useRef(h.duration||V||wy),Me=we.useRef(null),Re=we.useRef(null),Qe=x===0,Ze=x+1<=w,nt=h.type,st=h.dismissible!==!1,br=h.className||"",Mt=h.descriptionClassName||"",de=we.useMemo(()=>y.findIndex(Ge=>Ge.toastId===h.id)||0,[y,h.id]),ae=we.useMemo(()=>{var Ge;return(Ge=h.closeButton)!=null?Ge:T},[h.closeButton,T]),fe=we.useMemo(()=>h.duration||V||wy,[h.duration,V]),ve=we.useRef(0),Pe=we.useRef(0),at=we.useRef(0),qe=we.useRef(null),[zt,tr]=U.split("-"),jr=we.useMemo(()=>y.reduce((Ge,Nt,Ht)=>Ht>=de?Ge:Ge+Nt.height,0),[y,de]),wt=LN(),Er=h.invert||p,rr=nt==="loading";Pe.current=we.useMemo(()=>de*X+jr,[de,jr]),we.useEffect(()=>{Te.current=fe},[fe]),we.useEffect(()=>{re(!0)},[]),we.useEffect(()=>{const Ge=Re.current;if(Ge){const Nt=Ge.getBoundingClientRect().height;return Xe(Nt),k(Ht=>[{toastId:h.id,height:Nt,position:h.position},...Ht]),()=>k(Ht=>Ht.filter(ur=>ur.toastId!==h.id))}},[k,h.id]),we.useLayoutEffect(()=>{if(!O)return;const Ge=Re.current,Nt=Ge.style.height;Ge.style.height="auto";const Ht=Ge.getBoundingClientRect().height;Ge.style.height=Nt,Xe(Ht),k(ur=>ur.find(Dt=>Dt.toastId===h.id)?ur.map(Dt=>Dt.toastId===h.id?{...Dt,height:Ht}:Dt):[{toastId:h.id,height:Ht,position:h.position},...ur])},[O,h.title,h.description,k,h.id,h.jsx,h.action,h.cancel]);const Zr=we.useCallback(()=>{he(!0),Oe(Pe.current),k(Ge=>Ge.filter(Nt=>Nt.toastId!==h.id)),setTimeout(()=>{j(h)},qN)},[h,j,k,Pe]);we.useEffect(()=>{if(h.promise&&nt==="loading"||h.duration===1/0||h.type==="loading")return;let Ge;return b||_||wt?(()=>{if(at.current<ve.current){const ur=new Date().getTime()-ve.current;Te.current=Te.current-ur}at.current=new Date().getTime()})():(()=>{Te.current!==1/0&&(ve.current=new Date().getTime(),Ge=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),Zr()},Te.current))})(),()=>clearTimeout(Ge)},[b,_,h,nt,wt,Zr]),we.useEffect(()=>{h.delete&&(Zr(),h.onDismiss==null||h.onDismiss.call(h,h))},[Zr,h.delete]);function Uo(){var Ge;if(G!=null&&G.loading){var Nt;return we.createElement("div",{className:An(q==null?void 0:q.loader,h==null||(Nt=h.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":nt==="loading"},G.loading)}return we.createElement(PN,{className:An(q==null?void 0:q.loader,h==null||(Ge=h.classNames)==null?void 0:Ge.loader),visible:nt==="loading"})}const ps=h.icon||(G==null?void 0:G[nt])||EN(nt);var Un,Wo;return we.createElement("li",{tabIndex:0,ref:Re,className:An(z,br,q==null?void 0:q.toast,h==null||(t=h.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[nt],h==null||(r=h.classNames)==null?void 0:r[nt]),"data-sonner-toast":"","data-rich-colors":(Un=h.richColors)!=null?Un:N,"data-styled":!(h.jsx||h.unstyled||v),"data-mounted":O,"data-promise":!!h.promise,"data-swiped":Q,"data-removed":ue,"data-visible":Ze,"data-y-position":zt,"data-x-position":tr,"data-index":x,"data-front":Qe,"data-swiping":Y,"data-dismissible":st,"data-type":nt,"data-invert":Er,"data-swipe-out":se,"data-swipe-direction":I,"data-expanded":!!(b||K&&O),"data-testid":h.testId,style:{"--index":x,"--toasts-before":x,"--z-index":g.length-x,"--offset":`${ue?ye:Pe.current}px`,"--initial-height":K?"auto":`${ze}px`,...P,...h.style},onDragEnd:()=>{H(!1),A(null),qe.current=null},onPointerDown:Ge=>{Ge.button!==2&&(rr||!st||(Me.current=new Date,Oe(Pe.current),Ge.target.setPointerCapture(Ge.pointerId),Ge.target.tagName!=="BUTTON"&&(H(!0),qe.current={x:Ge.clientX,y:Ge.clientY})))},onPointerUp:()=>{var Ge,Nt,Ht;if(se||!st)return;qe.current=null;const ur=Number(((Ge=Re.current)==null?void 0:Ge.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ms=Number(((Nt=Re.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Dt=new Date().getTime()-((Ht=Me.current)==null?void 0:Ht.getTime()),qt=D==="x"?ur:ms,gs=Math.abs(qt)/Dt;if(Math.abs(qt)>=GN||gs>.11){Oe(Pe.current),h.onDismiss==null||h.onDismiss.call(h,h),W(D==="x"?ur>0?"right":"left":ms>0?"down":"up"),Zr(),ee(!0);return}else{var nr,$r;(nr=Re.current)==null||nr.style.setProperty("--swipe-amount-x","0px"),($r=Re.current)==null||$r.style.setProperty("--swipe-amount-y","0px")}ne(!1),H(!1),A(null)},onPointerMove:Ge=>{var Nt,Ht,ur;if(!qe.current||!st||((Nt=window.getSelection())==null?void 0:Nt.toString().length)>0)return;const Dt=Ge.clientY-qe.current.y,qt=Ge.clientX-qe.current.x;var gs;const nr=(gs=e.swipeDirections)!=null?gs:YN(U);!D&&(Math.abs(qt)>1||Math.abs(Dt)>1)&&A(Math.abs(qt)>Math.abs(Dt)?"x":"y");let $r={x:0,y:0};const vs=en=>1/(1.5+Math.abs(en)/20);if(D==="y"){if(nr.includes("top")||nr.includes("bottom"))if(nr.includes("top")&&Dt<0||nr.includes("bottom")&&Dt>0)$r.y=Dt;else{const en=Dt*vs(Dt);$r.y=Math.abs(en)<Math.abs(Dt)?en:Dt}}else if(D==="x"&&(nr.includes("left")||nr.includes("right")))if(nr.includes("left")&&qt<0||nr.includes("right")&&qt>0)$r.x=qt;else{const en=qt*vs(qt);$r.x=Math.abs(en)<Math.abs(qt)?en:qt}(Math.abs($r.x)>0||Math.abs($r.y)>0)&&ne(!0),(Ht=Re.current)==null||Ht.style.setProperty("--swipe-amount-x",`${$r.x}px`),(ur=Re.current)==null||ur.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},ae&&!h.jsx&&nt!=="loading"?we.createElement("button",{"aria-label":B,"data-disabled":rr,"data-close-button":!0,onClick:rr||!st?()=>{}:()=>{Zr(),h.onDismiss==null||h.onDismiss.call(h,h)},className:An(q==null?void 0:q.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(Wo=G==null?void 0:G.close)!=null?Wo:DN):null,(nt||h.icon||h.promise)&&h.icon!==null&&((G==null?void 0:G[nt])!==null||h.icon)?we.createElement("div",{"data-icon":"",className:An(q==null?void 0:q.icon,h==null||(o=h.classNames)==null?void 0:o.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Uo():null,h.type!=="loading"?ps:null):null,we.createElement("div",{"data-content":"",className:An(q==null?void 0:q.content,h==null||(d=h.classNames)==null?void 0:d.content)},we.createElement("div",{"data-title":"",className:An(q==null?void 0:q.title,h==null||(c=h.classNames)==null?void 0:c.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?we.createElement("div",{"data-description":"",className:An(F,Mt,q==null?void 0:q.description,h==null||(l=h.classNames)==null?void 0:l.description)},typeof h.description=="function"?h.description():h.description):null),we.isValidElement(h.cancel)?h.cancel:h.cancel&&Rc(h.cancel)?we.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||E,onClick:Ge=>{Rc(h.cancel)&&st&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ge),Zr())},className:An(q==null?void 0:q.cancelButton,h==null||(u=h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,we.isValidElement(h.action)?h.action:h.action&&Rc(h.action)?we.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||L,onClick:Ge=>{Rc(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ge),!Ge.defaultPrevented&&Zr())},className:An(q==null?void 0:q.actionButton,h==null||(f=h.classNames)==null?void 0:f.actionButton)},h.action.label):null)};function Sy(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function JN(e,t){const r={};return[e,t].forEach((n,o)=>{const d=o===1,c=d?"--mobile-offset":"--offset",l=d?UN:VN;function u(f){["top","right","bottom","left"].forEach(p=>{r[`${c}-${p}`]=typeof f=="number"?`${f}px`:f})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(f=>{n[f]===void 0?r[`${c}-${f}`]=l:r[`${c}-${f}`]=typeof n[f]=="number"?`${n[f]}px`:n[f]}):u(l)}),r}const QN=we.forwardRef(function(t,r){const{id:n,invert:o,position:d="bottom-right",hotkey:c=["altKey","KeyT"],expand:l,closeButton:u,className:f,offset:p,mobileOffset:h,theme:v="light",richColors:_,duration:k,style:w,visibleToasts:y=$N,toastOptions:x,dir:g=Sy(),gap:b=KN,icons:j,containerAriaLabel:N="Notifications"}=t,[T,P]=we.useState([]),E=we.useMemo(()=>n?T.filter(O=>O.toasterId===n):T.filter(O=>!O.toasterId),[T,n]),L=we.useMemo(()=>Array.from(new Set([d].concat(E.filter(O=>O.position).map(O=>O.position)))),[E,d]),[z,F]=we.useState([]),[V,U]=we.useState(!1),[X,K]=we.useState(!1),[q,G]=we.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),B=we.useRef(null),D=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=we.useRef(null),I=we.useRef(!1),W=we.useCallback(O=>{P(re=>{var ue;return(ue=re.find(he=>he.id===O.id))!=null&&ue.delete||Lr.dismiss(O.id),re.filter(({id:he})=>he!==O.id)})},[]);return we.useEffect(()=>Lr.subscribe(O=>{if(O.dismiss){requestAnimationFrame(()=>{P(re=>re.map(ue=>ue.id===O.id?{...ue,delete:!0}:ue))});return}setTimeout(()=>{yb.flushSync(()=>{P(re=>{const ue=re.findIndex(he=>he.id===O.id);return ue!==-1?[...re.slice(0,ue),{...re[ue],...O},...re.slice(ue+1)]:[O,...re]})})})}),[T]),we.useEffect(()=>{if(v!=="system"){G(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?G("dark"):G("light")),typeof window>"u")return;const O=window.matchMedia("(prefers-color-scheme: dark)");try{O.addEventListener("change",({matches:re})=>{G(re?"dark":"light")})}catch{O.addListener(({matches:ue})=>{try{G(ue?"dark":"light")}catch(he){console.error(he)}})}},[v]),we.useEffect(()=>{T.length<=1&&U(!1)},[T]),we.useEffect(()=>{const O=re=>{var ue;if(c.every(H=>re[H]||re.code===H)){var Y;U(!0),(Y=B.current)==null||Y.focus()}re.code==="Escape"&&(document.activeElement===B.current||(ue=B.current)!=null&&ue.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",O),()=>document.removeEventListener("keydown",O)},[c]),we.useEffect(()=>{if(B.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,I.current=!1)}},[B.current]),we.createElement("section",{ref:r,"aria-label":`${N} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((O,re)=>{var ue;const[he,Y]=O.split("-");return E.length?we.createElement("ol",{key:O,dir:g==="auto"?Sy():g,tabIndex:-1,ref:B,className:f,"data-sonner-toaster":!0,"data-sonner-theme":q,"data-y-position":he,"data-x-position":Y,style:{"--front-toast-height":`${((ue=z[0])==null?void 0:ue.height)||0}px`,"--width":`${WN}px`,"--gap":`${b}px`,...w,...JN(p,h)},onBlur:H=>{I.current&&!H.currentTarget.contains(H.relatedTarget)&&(I.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||I.current||(I.current=!0,A.current=H.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{X||U(!1)},onDragEnd:()=>U(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||K(!0)},onPointerUp:()=>K(!1)},E.filter(H=>!H.position&&re===0||H.position===O).map((H,se)=>{var ee,Q;return we.createElement(XN,{key:H.id,icons:j,index:se,toast:H,defaultRichColors:_,duration:(ee=x==null?void 0:x.duration)!=null?ee:k,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:o,visibleToasts:y,closeButton:(Q=x==null?void 0:x.closeButton)!=null?Q:u,interacting:X,position:O,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,closeButtonAriaLabel:x==null?void 0:x.closeButtonAriaLabel,removeToast:W,toasts:E.filter(ne=>ne.position==H.position),heights:z.filter(ne=>ne.position==H.position),setHeights:F,expandByDefault:l,gap:b,expanded:V,swipeDirections:t.swipeDirections})})):null}))}),zp=C.createContext({});function Hp(e){const t=C.useRef(null);return t.current===null&&(t.current=e()),t.current}const Pu=C.createContext(null),$p=C.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class ZN extends C.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function eP({children:e,isPresent:t}){const r=C.useId(),n=C.useRef(null),o=C.useRef({width:0,height:0,top:0,left:0}),{nonce:d}=C.useContext($p);return C.useInsertionEffect(()=>{const{width:c,height:l,top:u,left:f}=o.current;if(t||!n.current||!c||!l)return;n.current.dataset.motionPopId=r;const p=document.createElement("style");return d&&(p.nonce=d),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${l}px !important;
            top: ${u}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),i.jsx(ZN,{isPresent:t,childRef:n,sizeRef:o,children:C.cloneElement(e,{ref:n})})}const tP=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:d,mode:c})=>{const l=Hp(rP),u=C.useId(),f=C.useCallback(h=>{l.set(h,!0);for(const v of l.values())if(!v)return;n&&n()},[l,n]),p=C.useMemo(()=>({id:u,initial:t,isPresent:r,custom:o,onExitComplete:f,register:h=>(l.set(h,!1),()=>l.delete(h))}),d?[Math.random(),f]:[r,f]);return C.useMemo(()=>{l.forEach((h,v)=>l.set(v,!1))},[r]),C.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),c==="popLayout"&&(e=i.jsx(eP,{isPresent:r,children:e})),i.jsx(Pu.Provider,{value:p,children:e})};function rP(){return new Map}function xb(e=!0){const t=C.useContext(Pu);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=t,d=C.useId();C.useEffect(()=>{e&&o(d)},[e]);const c=C.useCallback(()=>e&&n&&n(d),[d,n,e]);return!r&&n?[!1,c]:[!0]}const Ac=e=>e.key||"";function Cy(e){const t=[];return C.Children.forEach(e,r=>{C.isValidElement(r)&&t.push(r)}),t}const Vp=typeof window<"u",_b=Vp?C.useLayoutEffect:C.useEffect,Up=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:d="sync",propagate:c=!1})=>{const[l,u]=xb(c),f=C.useMemo(()=>Cy(e),[e]),p=c&&!l?[]:f.map(Ac),h=C.useRef(!0),v=C.useRef(f),_=Hp(()=>new Map),[k,w]=C.useState(f),[y,x]=C.useState(f);_b(()=>{h.current=!1,v.current=f;for(let j=0;j<y.length;j++){const N=Ac(y[j]);p.includes(N)?_.delete(N):_.get(N)!==!0&&_.set(N,!1)}},[y,p.length,p.join("-")]);const g=[];if(f!==k){let j=[...f];for(let N=0;N<y.length;N++){const T=y[N],P=Ac(T);p.includes(P)||(j.splice(N,0,T),g.push(T))}d==="wait"&&g.length&&(j=g),x(Cy(j)),w(f);return}const{forceRender:b}=C.useContext(zp);return i.jsx(i.Fragment,{children:y.map(j=>{const N=Ac(j),T=c&&!l?!1:f===y||p.includes(N),P=()=>{if(_.has(N))_.set(N,!0);else return;let E=!0;_.forEach(L=>{L||(E=!1)}),E&&(b==null||b(),x(v.current),c&&(u==null||u()),n&&n())};return i.jsx(tP,{isPresent:T,initial:!h.current||r?void 0:!1,custom:T?void 0:t,presenceAffectsLayout:o,mode:d,onExitComplete:T?void 0:P,children:j},N)})})},Xr=e=>e;let bb=Xr;function Wp(e){let t;return()=>(t===void 0&&(t=e()),t)}const wo=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},rs=e=>e*1e3,ns=e=>e/1e3,nP={useManualTiming:!1};function sP(e){let t=new Set,r=new Set,n=!1,o=!1;const d=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function l(f){d.has(f)&&(u.schedule(f),e()),f(c)}const u={schedule:(f,p=!1,h=!1)=>{const _=h&&n?t:r;return p&&d.add(f),_.has(f)||_.add(f),f},cancel:f=>{r.delete(f),d.delete(f)},process:f=>{if(c=f,n){o=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,o&&(o=!1,u.process(f))}};return u}const Mc=["read","resolveKeyframes","update","preRender","render","postRender"],iP=40;function wb(e,t){let r=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},d=()=>r=!0,c=Mc.reduce((x,g)=>(x[g]=sP(d),x),{}),{read:l,resolveKeyframes:u,update:f,preRender:p,render:h,postRender:v}=c,_=()=>{const x=performance.now();r=!1,o.delta=n?1e3/60:Math.max(Math.min(x-o.timestamp,iP),1),o.timestamp=x,o.isProcessing=!0,l.process(o),u.process(o),f.process(o),p.process(o),h.process(o),v.process(o),o.isProcessing=!1,r&&t&&(n=!1,e(_))},k=()=>{r=!0,n=!0,o.isProcessing||e(_)};return{schedule:Mc.reduce((x,g)=>{const b=c[g];return x[g]=(j,N=!1,T=!1)=>(r||k(),b.schedule(j,N,T)),x},{}),cancel:x=>{for(let g=0;g<Mc.length;g++)c[Mc[g]].cancel(x)},state:o,steps:c}}const{schedule:_t,cancel:Us,state:or,steps:Zh}=wb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Xr,!0),Sb=C.createContext({strict:!1}),ky={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},So={};for(const e in ky)So[e]={isEnabled:t=>ky[e].some(r=>!!t[r])};function oP(e){for(const t in e)So[t]={...So[t],...e[t]}}const aP=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ru(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||aP.has(e)}let Cb=e=>!ru(e);function lP(e){e&&(Cb=t=>t.startsWith("on")?!ru(t):e(t))}try{lP(require("@emotion/is-prop-valid").default)}catch{}function cP(e,t,r){const n={};for(const o in e)o==="values"&&typeof e.values=="object"||(Cb(o)||r===!0&&ru(o)||!t&&!ru(o)||e.draggable&&o.startsWith("onDrag"))&&(n[o]=e[o]);return n}function uP(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const Tu=C.createContext({});function Wa(e){return typeof e=="string"||Array.isArray(e)}function Ru(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Kp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gp=["initial",...Kp];function Au(e){return Ru(e.animate)||Gp.some(t=>Wa(e[t]))}function kb(e){return!!(Au(e)||e.variants)}function dP(e,t){if(Au(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Wa(r)?r:void 0,animate:Wa(n)?n:void 0}}return e.inherit!==!1?t:{}}function hP(e){const{initial:t,animate:r}=dP(e,C.useContext(Tu));return C.useMemo(()=>({initial:t,animate:r}),[jy(t),jy(r)])}function jy(e){return Array.isArray(e)?e.join(" "):e}const fP=Symbol.for("motionComponentSymbol");function ho(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function pP(e,t,r){return C.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ho(r)&&(r.current=n))},[t])}const qp=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mP="framerAppearId",jb="data-"+qp(mP),{schedule:Yp}=wb(queueMicrotask,!1),Eb=C.createContext({});function gP(e,t,r,n,o){var d,c;const{visualElement:l}=C.useContext(Tu),u=C.useContext(Sb),f=C.useContext(Pu),p=C.useContext($p).reducedMotion,h=C.useRef(null);n=n||u.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:p}));const v=h.current,_=C.useContext(Eb);v&&!v.projection&&o&&(v.type==="html"||v.type==="svg")&&vP(h.current,r,o,_);const k=C.useRef(!1);C.useInsertionEffect(()=>{v&&k.current&&v.update(r,f)});const w=r[jb],y=C.useRef(!!w&&!(!((d=window.MotionHandoffIsComplete)===null||d===void 0)&&d.call(window,w))&&((c=window.MotionHasOptimisedAnimation)===null||c===void 0?void 0:c.call(window,w)));return _b(()=>{v&&(k.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),Yp.render(v.render),y.current&&v.animationState&&v.animationState.animateChanges())}),C.useEffect(()=>{v&&(!y.current&&v.animationState&&v.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)===null||x===void 0||x.call(window,w)}),y.current=!1))}),v}function vP(e,t,r,n){const{layoutId:o,layout:d,drag:c,dragConstraints:l,layoutScroll:u,layoutRoot:f}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Nb(e.parent)),e.projection.setOptions({layoutId:o,layout:d,alwaysMeasureLayout:!!c||l&&ho(l),visualElement:e,animationType:typeof d=="string"?d:"both",initialPromotionConfig:n,layoutScroll:u,layoutRoot:f})}function Nb(e){if(e)return e.options.allowProjection!==!1?e.projection:Nb(e.parent)}function yP({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:o}){var d,c;e&&oP(e);function l(f,p){let h;const v={...C.useContext($p),...f,layoutId:xP(f)},{isStatic:_}=v,k=hP(f),w=n(f,_);if(!_&&Vp){_P();const y=bP(v);h=y.MeasureLayout,k.visualElement=gP(o,w,v,t,y.ProjectionNode)}return i.jsxs(Tu.Provider,{value:k,children:[h&&k.visualElement?i.jsx(h,{visualElement:k.visualElement,...v}):null,r(o,f,pP(w,k.visualElement,p),w,_,k.visualElement)]})}l.displayName=`motion.${typeof o=="string"?o:`create(${(c=(d=o.displayName)!==null&&d!==void 0?d:o.name)!==null&&c!==void 0?c:""})`}`;const u=C.forwardRef(l);return u[fP]=o,u}function xP({layoutId:e}){const t=C.useContext(zp).id;return t&&e!==void 0?t+"-"+e:e}function _P(e,t){C.useContext(Sb).strict}function bP(e){const{drag:t,layout:r}=So;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const wP=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Xp(e){return typeof e!="string"||e.includes("-")?!1:!!(wP.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ey(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Jp(e,t,r,n){if(typeof t=="function"){const[o,d]=Ey(n);t=t(r!==void 0?r:e.custom,o,d)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,d]=Ey(n);t=t(r!==void 0?r:e.custom,o,d)}return t}const Kf=e=>Array.isArray(e),SP=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),CP=e=>Kf(e)?e[e.length-1]||0:e,vr=e=>!!(e&&e.getVelocity);function Gc(e){const t=vr(e)?e.get():e;return SP(t)?t.toValue():t}function kP({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,o,d){const c={latestValues:jP(n,o,d,e),renderState:t()};return r&&(c.onMount=l=>r({props:n,current:l,...c}),c.onUpdate=l=>r(l)),c}const Pb=e=>(t,r)=>{const n=C.useContext(Tu),o=C.useContext(Pu),d=()=>kP(e,t,n,o);return r?d():Hp(d)};function jP(e,t,r,n){const o={},d=n(e,{});for(const v in d)o[v]=Gc(d[v]);let{initial:c,animate:l}=e;const u=Au(e),f=kb(e);t&&f&&!u&&e.inherit!==!1&&(c===void 0&&(c=t.initial),l===void 0&&(l=t.animate));let p=r?r.initial===!1:!1;p=p||c===!1;const h=p?l:c;if(h&&typeof h!="boolean"&&!Ru(h)){const v=Array.isArray(h)?h:[h];for(let _=0;_<v.length;_++){const k=Jp(e,v[_]);if(k){const{transitionEnd:w,transition:y,...x}=k;for(const g in x){let b=x[g];if(Array.isArray(b)){const j=p?b.length-1:0;b=b[j]}b!==null&&(o[g]=b)}for(const g in w)o[g]=w[g]}}}return o}const Ro=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ai=new Set(Ro),Tb=e=>t=>typeof t=="string"&&t.startsWith(e),Rb=Tb("--"),EP=Tb("var(--"),Qp=e=>EP(e)?NP.test(e.split("/*")[0].trim()):!1,NP=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ab=(e,t)=>t&&typeof e=="number"?t.transform(e):e,os=(e,t,r)=>r>t?t:r<e?e:r,Ao={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ka={...Ao,transform:e=>os(0,1,e)},Dc={...Ao,default:1},al=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Fs=al("deg"),On=al("%"),Ue=al("px"),PP=al("vh"),TP=al("vw"),Ny={...On,parse:e=>On.parse(e)/100,transform:e=>On.transform(e*100)},RP={borderWidth:Ue,borderTopWidth:Ue,borderRightWidth:Ue,borderBottomWidth:Ue,borderLeftWidth:Ue,borderRadius:Ue,radius:Ue,borderTopLeftRadius:Ue,borderTopRightRadius:Ue,borderBottomRightRadius:Ue,borderBottomLeftRadius:Ue,width:Ue,maxWidth:Ue,height:Ue,maxHeight:Ue,top:Ue,right:Ue,bottom:Ue,left:Ue,padding:Ue,paddingTop:Ue,paddingRight:Ue,paddingBottom:Ue,paddingLeft:Ue,margin:Ue,marginTop:Ue,marginRight:Ue,marginBottom:Ue,marginLeft:Ue,backgroundPositionX:Ue,backgroundPositionY:Ue},AP={rotate:Fs,rotateX:Fs,rotateY:Fs,rotateZ:Fs,scale:Dc,scaleX:Dc,scaleY:Dc,scaleZ:Dc,skew:Fs,skewX:Fs,skewY:Fs,distance:Ue,translateX:Ue,translateY:Ue,translateZ:Ue,x:Ue,y:Ue,z:Ue,perspective:Ue,transformPerspective:Ue,opacity:Ka,originX:Ny,originY:Ny,originZ:Ue},Py={...Ao,transform:Math.round},Zp={...RP,...AP,zIndex:Py,size:Ue,fillOpacity:Ka,strokeOpacity:Ka,numOctaves:Py},MP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DP=Ro.length;function LP(e,t,r){let n="",o=!0;for(let d=0;d<DP;d++){const c=Ro[d],l=e[c];if(l===void 0)continue;let u=!0;if(typeof l=="number"?u=l===(c.startsWith("scale")?1:0):u=parseFloat(l)===0,!u||r){const f=Ab(l,Zp[c]);if(!u){o=!1;const p=MP[c]||c;n+=`${p}(${f}) `}r&&(t[c]=f)}}return n=n.trim(),r?n=r(t,o?"":n):o&&(n="none"),n}function em(e,t,r){const{style:n,vars:o,transformOrigin:d}=e;let c=!1,l=!1;for(const u in t){const f=t[u];if(Ai.has(u)){c=!0;continue}else if(Rb(u)){o[u]=f;continue}else{const p=Ab(f,Zp[u]);u.startsWith("origin")?(l=!0,d[u]=p):n[u]=p}}if(t.transform||(c||r?n.transform=LP(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:u="50%",originY:f="50%",originZ:p=0}=d;n.transformOrigin=`${u} ${f} ${p}`}}const IP={offset:"stroke-dashoffset",array:"stroke-dasharray"},OP={offset:"strokeDashoffset",array:"strokeDasharray"};function BP(e,t,r=1,n=0,o=!0){e.pathLength=1;const d=o?IP:OP;e[d.offset]=Ue.transform(-n);const c=Ue.transform(t),l=Ue.transform(r);e[d.array]=`${c} ${l}`}function Ty(e,t,r){return typeof e=="string"?e:Ue.transform(t+r*e)}function FP(e,t,r){const n=Ty(t,e.x,e.width),o=Ty(r,e.y,e.height);return`${n} ${o}`}function tm(e,{attrX:t,attrY:r,attrScale:n,originX:o,originY:d,pathLength:c,pathSpacing:l=1,pathOffset:u=0,...f},p,h){if(em(e,f,h),p){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:_,dimensions:k}=e;v.transform&&(k&&(_.transform=v.transform),delete v.transform),k&&(o!==void 0||d!==void 0||_.transform)&&(_.transformOrigin=FP(k,o!==void 0?o:.5,d!==void 0?d:.5)),t!==void 0&&(v.x=t),r!==void 0&&(v.y=r),n!==void 0&&(v.scale=n),c!==void 0&&BP(v,c,l,u,!1)}const rm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Mb=()=>({...rm(),attrs:{}}),nm=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Db(e,{style:t,vars:r},n,o){Object.assign(e.style,t,o&&o.getProjectionStyles(n));for(const d in r)e.style.setProperty(d,r[d])}const Lb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ib(e,t,r,n){Db(e,t,void 0,n);for(const o in t.attrs)e.setAttribute(Lb.has(o)?o:qp(o),t.attrs[o])}const nu={};function zP(e){Object.assign(nu,e)}function Ob(e,{layout:t,layoutId:r}){return Ai.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!nu[e]||e==="opacity")}function sm(e,t,r){var n;const{style:o}=e,d={};for(const c in o)(vr(o[c])||t.style&&vr(t.style[c])||Ob(c,e)||((n=r==null?void 0:r.getValue(c))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(d[c]=o[c]);return d}function Bb(e,t,r){const n=sm(e,t,r);for(const o in e)if(vr(e[o])||vr(t[o])){const d=Ro.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[d]=e[o]}return n}function HP(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Ry=["x","y","width","height","cx","cy","r"],$P={useVisualState:Pb({scrapeMotionValuesFromProps:Bb,createRenderState:Mb,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:o})=>{if(!r)return;let d=!!e.drag;if(!d){for(const l in o)if(Ai.has(l)){d=!0;break}}if(!d)return;let c=!t;if(t)for(let l=0;l<Ry.length;l++){const u=Ry[l];e[u]!==t[u]&&(c=!0)}c&&_t.read(()=>{HP(r,n),_t.render(()=>{tm(n,o,nm(r.tagName),e.transformTemplate),Ib(r,n)})})}})},VP={useVisualState:Pb({scrapeMotionValuesFromProps:sm,createRenderState:rm})};function Fb(e,t,r){for(const n in t)!vr(t[n])&&!Ob(n,r)&&(e[n]=t[n])}function UP({transformTemplate:e},t){return C.useMemo(()=>{const r=rm();return em(r,t,e),Object.assign({},r.vars,r.style)},[t])}function WP(e,t){const r=e.style||{},n={};return Fb(n,r,e),Object.assign(n,UP(e,t)),n}function KP(e,t){const r={},n=WP(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function GP(e,t,r,n){const o=C.useMemo(()=>{const d=Mb();return tm(d,t,nm(n),e.transformTemplate),{...d.attrs,style:{...d.style}}},[t]);if(e.style){const d={};Fb(d,e.style,e),o.style={...d,...o.style}}return o}function qP(e=!1){return(r,n,o,{latestValues:d},c)=>{const u=(Xp(r)?GP:KP)(n,d,c,r),f=cP(n,typeof r=="string",e),p=r!==C.Fragment?{...f,...u,ref:o}:{},{children:h}=n,v=C.useMemo(()=>vr(h)?h.get():h,[h]);return C.createElement(r,{...p,children:v})}}function YP(e,t){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const c={...Xp(n)?$P:VP,preloadedFeatures:e,useRender:qP(o),createVisualElement:t,Component:n};return yP(c)}}function zb(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Mu(e,t,r){const n=e.getProps();return Jp(n,t,r!==void 0?r:n.custom,e)}const XP=Wp(()=>window.ScrollTimeline!==void 0);class JP{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(o=>{if(XP()&&o.attachTimeline)return o.attachTimeline(t);if(typeof r=="function")return r(o)});return()=>{n.forEach((o,d)=>{o&&o(),this.animations[d].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class QP extends JP{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function im(e,t){return e?e[t]||e.default||e:void 0}const Gf=2e4;function Hb(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Gf;)t+=r,n=e.next(t);return t>=Gf?1/0:t}function om(e){return typeof e=="function"}function Ay(e,t){e.timeline=t,e.onfinish=null}const am=e=>Array.isArray(e)&&typeof e[0]=="number",ZP={linearEasing:void 0};function eT(e,t){const r=Wp(e);return()=>{var n;return(n=ZP[t])!==null&&n!==void 0?n:r()}}const su=eT(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$b=(e,t,r=10)=>{let n="";const o=Math.max(Math.round(t/r),2);for(let d=0;d<o;d++)n+=e(wo(0,o-1,d))+", ";return`linear(${n.substring(0,n.length-2)})`};function Vb(e){return!!(typeof e=="function"&&su()||!e||typeof e=="string"&&(e in qf||su())||am(e)||Array.isArray(e)&&e.every(Vb))}const Ma=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,qf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ma([0,.65,.55,1]),circOut:Ma([.55,0,1,.45]),backIn:Ma([.31,.01,.66,-.59]),backOut:Ma([.33,1.53,.69,.99])};function Ub(e,t){if(e)return typeof e=="function"&&su()?$b(e,t):am(e)?Ma(e):Array.isArray(e)?e.map(r=>Ub(r,t)||qf.easeOut):qf[e]}const _n={x:!1,y:!1};function Wb(){return _n.x||_n.y}function tT(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const d=(n=void 0)!==null&&n!==void 0?n:o.querySelectorAll(e);return d?Array.from(d):[]}return Array.from(e)}function Kb(e,t){const r=tT(e),n=new AbortController,o={passive:!0,...t,signal:n.signal};return[r,o,()=>n.abort()]}function My(e){return t=>{t.pointerType==="touch"||Wb()||e(t)}}function rT(e,t,r={}){const[n,o,d]=Kb(e,r),c=My(l=>{const{target:u}=l,f=t(l);if(typeof f!="function"||!u)return;const p=My(h=>{f(h),u.removeEventListener("pointerleave",p)});u.addEventListener("pointerleave",p,o)});return n.forEach(l=>{l.addEventListener("pointerenter",c,o)}),d}const Gb=(e,t)=>t?e===t?!0:Gb(e,t.parentElement):!1,lm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,nT=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sT(e){return nT.has(e.tagName)||e.tabIndex!==-1}const Da=new WeakSet;function Dy(e){return t=>{t.key==="Enter"&&e(t)}}function ef(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const iT=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Dy(()=>{if(Da.has(r))return;ef(r,"down");const o=Dy(()=>{ef(r,"up")}),d=()=>ef(r,"cancel");r.addEventListener("keyup",o,t),r.addEventListener("blur",d,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Ly(e){return lm(e)&&!Wb()}function oT(e,t,r={}){const[n,o,d]=Kb(e,r),c=l=>{const u=l.currentTarget;if(!Ly(l)||Da.has(u))return;Da.add(u);const f=t(l),p=(_,k)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",v),!(!Ly(_)||!Da.has(u))&&(Da.delete(u),typeof f=="function"&&f(_,{success:k}))},h=_=>{p(_,r.useGlobalTarget||Gb(u,_.target))},v=_=>{p(_,!1)};window.addEventListener("pointerup",h,o),window.addEventListener("pointercancel",v,o)};return n.forEach(l=>{!sT(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",c,o),l.addEventListener("focus",f=>iT(f,o),o)}),d}function aT(e){return e==="x"||e==="y"?_n[e]?null:(_n[e]=!0,()=>{_n[e]=!1}):_n.x||_n.y?null:(_n.x=_n.y=!0,()=>{_n.x=_n.y=!1})}const qb=new Set(["width","height","top","left","right","bottom",...Ro]);let qc;function lT(){qc=void 0}const Bn={now:()=>(qc===void 0&&Bn.set(or.isProcessing||nP.useManualTiming?or.timestamp:performance.now()),qc),set:e=>{qc=e,queueMicrotask(lT)}};function cm(e,t){e.indexOf(t)===-1&&e.push(t)}function um(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class dm{constructor(){this.subscriptions=[]}add(t){return cm(this.subscriptions,t),()=>um(this.subscriptions,t)}notify(t,r,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,r,n);else for(let d=0;d<o;d++){const c=this.subscriptions[d];c&&c(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Yb(e,t){return t?e*(1e3/t):0}const Iy=30,cT=e=>!isNaN(parseFloat(e));class uT{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const d=Bn.now();this.updatedAt!==d&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Bn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cT(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new dm);const n=this.events[t].add(r);return t==="change"?()=>{n(),_t.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Iy)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Iy);return Yb(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ga(e,t){return new uT(e,t)}function dT(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ga(r))}function hT(e,t){const r=Mu(e,t);let{transitionEnd:n={},transition:o={},...d}=r||{};d={...d,...n};for(const c in d){const l=CP(d[c]);dT(e,c,l)}}function fT(e){return!!(vr(e)&&e.add)}function Yf(e,t){const r=e.getValue("willChange");if(fT(r))return r.add(t)}function Xb(e){return e.props[jb]}const Jb=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,pT=1e-7,mT=12;function gT(e,t,r,n,o){let d,c,l=0;do c=t+(r-t)/2,d=Jb(c,n,o)-e,d>0?r=c:t=c;while(Math.abs(d)>pT&&++l<mT);return c}function ll(e,t,r,n){if(e===t&&r===n)return Xr;const o=d=>gT(d,0,1,e,r);return d=>d===0||d===1?d:Jb(o(d),t,n)}const Qb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Zb=e=>t=>1-e(1-t),ew=ll(.33,1.53,.69,.99),hm=Zb(ew),tw=Qb(hm),rw=e=>(e*=2)<1?.5*hm(e):.5*(2-Math.pow(2,-10*(e-1))),fm=e=>1-Math.sin(Math.acos(e)),nw=Zb(fm),sw=Qb(fm),iw=e=>/^0[^.\s]+$/u.test(e);function vT(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||iw(e):!0}const Ba=e=>Math.round(e*1e5)/1e5,pm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yT(e){return e==null}const xT=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mm=(e,t)=>r=>!!(typeof r=="string"&&xT.test(r)&&r.startsWith(e)||t&&!yT(r)&&Object.prototype.hasOwnProperty.call(r,t)),ow=(e,t,r)=>n=>{if(typeof n!="string")return n;const[o,d,c,l]=n.match(pm);return{[e]:parseFloat(o),[t]:parseFloat(d),[r]:parseFloat(c),alpha:l!==void 0?parseFloat(l):1}},_T=e=>os(0,255,e),tf={...Ao,transform:e=>Math.round(_T(e))},wi={test:mm("rgb","red"),parse:ow("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+tf.transform(e)+", "+tf.transform(t)+", "+tf.transform(r)+", "+Ba(Ka.transform(n))+")"};function bT(e){let t="",r="",n="",o="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),o=e.substring(4,5),t+=t,r+=r,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const Xf={test:mm("#"),parse:bT,transform:wi.transform},fo={test:mm("hsl","hue"),parse:ow("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+On.transform(Ba(t))+", "+On.transform(Ba(r))+", "+Ba(Ka.transform(n))+")"},mr={test:e=>wi.test(e)||Xf.test(e)||fo.test(e),parse:e=>wi.test(e)?wi.parse(e):fo.test(e)?fo.parse(e):Xf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?wi.transform(e):fo.transform(e)},wT=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ST(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(pm))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(wT))===null||r===void 0?void 0:r.length)||0)>0}const aw="number",lw="color",CT="var",kT="var(",Oy="${}",jT=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qa(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},o=[];let d=0;const l=t.replace(jT,u=>(mr.test(u)?(n.color.push(d),o.push(lw),r.push(mr.parse(u))):u.startsWith(kT)?(n.var.push(d),o.push(CT),r.push(u)):(n.number.push(d),o.push(aw),r.push(parseFloat(u))),++d,Oy)).split(Oy);return{values:r,split:l,indexes:n,types:o}}function cw(e){return qa(e).values}function uw(e){const{split:t,types:r}=qa(e),n=t.length;return o=>{let d="";for(let c=0;c<n;c++)if(d+=t[c],o[c]!==void 0){const l=r[c];l===aw?d+=Ba(o[c]):l===lw?d+=mr.transform(o[c]):d+=o[c]}return d}}const ET=e=>typeof e=="number"?0:e;function NT(e){const t=cw(e);return uw(e)(t.map(ET))}const Ws={test:ST,parse:cw,createTransformer:uw,getAnimatableNone:NT},PT=new Set(["brightness","contrast","saturate","opacity"]);function TT(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(pm)||[];if(!n)return e;const o=r.replace(n,"");let d=PT.has(t)?1:0;return n!==r&&(d*=100),t+"("+d+o+")"}const RT=/\b([a-z-]*)\(.*?\)/gu,Jf={...Ws,getAnimatableNone:e=>{const t=e.match(RT);return t?t.map(TT).join(" "):e}},AT={...Zp,color:mr,backgroundColor:mr,outlineColor:mr,fill:mr,stroke:mr,borderColor:mr,borderTopColor:mr,borderRightColor:mr,borderBottomColor:mr,borderLeftColor:mr,filter:Jf,WebkitFilter:Jf},gm=e=>AT[e];function dw(e,t){let r=gm(e);return r!==Jf&&(r=Ws),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const MT=new Set(["auto","none","0"]);function DT(e,t,r){let n=0,o;for(;n<e.length&&!o;){const d=e[n];typeof d=="string"&&!MT.has(d)&&qa(d).values.length&&(o=e[n]),n++}if(o&&r)for(const d of t)e[d]=dw(r,o)}const By=e=>e===Ao||e===Ue,Fy=(e,t)=>parseFloat(e.split(", ")[t]),zy=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/u);if(o)return Fy(o[1],t);{const d=n.match(/^matrix\((.+)\)$/u);return d?Fy(d[1],e):0}},LT=new Set(["x","y","z"]),IT=Ro.filter(e=>!LT.has(e));function OT(e){const t=[];return IT.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Co={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:zy(4,13),y:zy(5,14)};Co.translateX=Co.x;Co.translateY=Co.y;const Si=new Set;let Qf=!1,Zf=!1;function hw(){if(Zf){const e=Array.from(Si).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const o=OT(n);o.length&&(r.set(n,o),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const o=r.get(n);o&&o.forEach(([d,c])=>{var l;(l=n.getValue(d))===null||l===void 0||l.set(c)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Zf=!1,Qf=!1,Si.forEach(e=>e.complete()),Si.clear()}function fw(){Si.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Zf=!0)})}function BT(){fw(),hw()}class vm{constructor(t,r,n,o,d,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=o,this.element=d,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Si.add(this),Qf||(Qf=!0,_t.read(fw),_t.resolveKeyframes(hw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:o}=this;for(let d=0;d<t.length;d++)if(t[d]===null)if(d===0){const c=o==null?void 0:o.get(),l=t[t.length-1];if(c!==void 0)t[0]=c;else if(n&&r){const u=n.readValue(r,l);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=l),o&&c===void 0&&o.set(t[0])}else t[d]=t[d-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Si.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Si.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const pw=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),FT=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function zT(e){const t=FT.exec(e);if(!t)return[,];const[,r,n,o]=t;return[`--${r??n}`,o]}function mw(e,t,r=1){const[n,o]=zT(e);if(!n)return;const d=window.getComputedStyle(t).getPropertyValue(n);if(d){const c=d.trim();return pw(c)?parseFloat(c):c}return Qp(o)?mw(o,t,r+1):o}const gw=e=>t=>t.test(e),HT={test:e=>e==="auto",parse:e=>e},vw=[Ao,Ue,On,Fs,TP,PP,HT],Hy=e=>vw.find(gw(e));class yw extends vm{constructor(t,r,n,o,d){super(t,r,n,o,d,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let f=t[u];if(typeof f=="string"&&(f=f.trim(),Qp(f))){const p=mw(f,r.current);p!==void 0&&(t[u]=p),u===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!qb.has(n)||t.length!==2)return;const[o,d]=t,c=Hy(o),l=Hy(d);if(c!==l)if(By(c)&&By(l))for(let u=0;u<t.length;u++){const f=t[u];typeof f=="string"&&(t[u]=parseFloat(f))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let o=0;o<t.length;o++)vT(t[o])&&n.push(o);n.length&&DT(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Co[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const o=r[r.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:o}=this;if(!r||!r.current)return;const d=r.getValue(n);d&&d.jump(this.measuredOrigin,!1);const c=o.length-1,l=o[c];o[c]=Co[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,f])=>{r.getValue(u).set(f)}),this.resolveNoneKeyframes()}}const $y=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ws.test(e)||e==="0")&&!e.startsWith("url("));function $T(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function VT(e,t,r,n){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const d=e[e.length-1],c=$y(o,t),l=$y(d,t);return!c||!l?!1:$T(e)||(r==="spring"||om(r))&&n}const UT=e=>e!==null;function Du(e,{repeat:t,repeatType:r="loop"},n){const o=e.filter(UT),d=t&&r!=="loop"&&t%2===1?0:o.length-1;return!d||n===void 0?o[d]:n}const WT=40;class xw{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:o=0,repeatDelay:d=0,repeatType:c="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Bn.now(),this.options={autoplay:t,delay:r,type:n,repeat:o,repeatDelay:d,repeatType:c,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>WT?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&BT(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=Bn.now(),this.hasAttemptedResolve=!0;const{name:n,type:o,velocity:d,delay:c,onComplete:l,onUpdate:u,isGenerator:f}=this.options;if(!f&&!VT(t,n,o,d))if(c)this.options.duration=0;else{u&&u(Du(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const p=this.initPlayback(t,r);p!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...p},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const kt=(e,t,r)=>e+(t-e)*r;function rf(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function KT({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let o=0,d=0,c=0;if(!t)o=d=c=r;else{const l=r<.5?r*(1+t):r+t-r*t,u=2*r-l;o=rf(u,l,e+1/3),d=rf(u,l,e),c=rf(u,l,e-1/3)}return{red:Math.round(o*255),green:Math.round(d*255),blue:Math.round(c*255),alpha:n}}function iu(e,t){return r=>r>0?t:e}const nf=(e,t,r)=>{const n=e*e,o=r*(t*t-n)+n;return o<0?0:Math.sqrt(o)},GT=[Xf,wi,fo],qT=e=>GT.find(t=>t.test(e));function Vy(e){const t=qT(e);if(!t)return!1;let r=t.parse(e);return t===fo&&(r=KT(r)),r}const Uy=(e,t)=>{const r=Vy(e),n=Vy(t);if(!r||!n)return iu(e,t);const o={...r};return d=>(o.red=nf(r.red,n.red,d),o.green=nf(r.green,n.green,d),o.blue=nf(r.blue,n.blue,d),o.alpha=kt(r.alpha,n.alpha,d),wi.transform(o))},YT=(e,t)=>r=>t(e(r)),cl=(...e)=>e.reduce(YT),ep=new Set(["none","hidden"]);function XT(e,t){return ep.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function JT(e,t){return r=>kt(e,t,r)}function ym(e){return typeof e=="number"?JT:typeof e=="string"?Qp(e)?iu:mr.test(e)?Uy:eR:Array.isArray(e)?_w:typeof e=="object"?mr.test(e)?Uy:QT:iu}function _w(e,t){const r=[...e],n=r.length,o=e.map((d,c)=>ym(d)(d,t[c]));return d=>{for(let c=0;c<n;c++)r[c]=o[c](d);return r}}function QT(e,t){const r={...e,...t},n={};for(const o in r)e[o]!==void 0&&t[o]!==void 0&&(n[o]=ym(e[o])(e[o],t[o]));return o=>{for(const d in n)r[d]=n[d](o);return r}}function ZT(e,t){var r;const n=[],o={color:0,var:0,number:0};for(let d=0;d<t.values.length;d++){const c=t.types[d],l=e.indexes[c][o[c]],u=(r=e.values[l])!==null&&r!==void 0?r:0;n[d]=u,o[c]++}return n}const eR=(e,t)=>{const r=Ws.createTransformer(t),n=qa(e),o=qa(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?ep.has(e)&&!o.values.length||ep.has(t)&&!n.values.length?XT(e,t):cl(_w(ZT(n,o),o.values),r):iu(e,t)};function bw(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?kt(e,t,r):ym(e)(e,t)}const tR=5;function ww(e,t,r){const n=Math.max(t-tR,0);return Yb(r-e(n),t-n)}const Et={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sf=.001;function rR({duration:e=Et.duration,bounce:t=Et.bounce,velocity:r=Et.velocity,mass:n=Et.mass}){let o,d,c=1-t;c=os(Et.minDamping,Et.maxDamping,c),e=os(Et.minDuration,Et.maxDuration,ns(e)),c<1?(o=f=>{const p=f*c,h=p*e,v=p-r,_=tp(f,c),k=Math.exp(-h);return sf-v/_*k},d=f=>{const h=f*c*e,v=h*r+r,_=Math.pow(c,2)*Math.pow(f,2)*e,k=Math.exp(-h),w=tp(Math.pow(f,2),c);return(-o(f)+sf>0?-1:1)*((v-_)*k)/w}):(o=f=>{const p=Math.exp(-f*e),h=(f-r)*e+1;return-sf+p*h},d=f=>{const p=Math.exp(-f*e),h=(r-f)*(e*e);return p*h});const l=5/e,u=sR(o,d,l);if(e=rs(e),isNaN(u))return{stiffness:Et.stiffness,damping:Et.damping,duration:e};{const f=Math.pow(u,2)*n;return{stiffness:f,damping:c*2*Math.sqrt(n*f),duration:e}}}const nR=12;function sR(e,t,r){let n=r;for(let o=1;o<nR;o++)n=n-e(n)/t(n);return n}function tp(e,t){return e*Math.sqrt(1-t*t)}const iR=["duration","bounce"],oR=["stiffness","damping","mass"];function Wy(e,t){return t.some(r=>e[r]!==void 0)}function aR(e){let t={velocity:Et.velocity,stiffness:Et.stiffness,damping:Et.damping,mass:Et.mass,isResolvedFromDuration:!1,...e};if(!Wy(e,oR)&&Wy(e,iR))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),o=n*n,d=2*os(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Et.mass,stiffness:o,damping:d}}else{const r=rR(e);t={...t,...r,mass:Et.mass},t.isResolvedFromDuration=!0}return t}function Sw(e=Et.visualDuration,t=Et.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:o}=r;const d=r.keyframes[0],c=r.keyframes[r.keyframes.length-1],l={done:!1,value:d},{stiffness:u,damping:f,mass:p,duration:h,velocity:v,isResolvedFromDuration:_}=aR({...r,velocity:-ns(r.velocity||0)}),k=v||0,w=f/(2*Math.sqrt(u*p)),y=c-d,x=ns(Math.sqrt(u/p)),g=Math.abs(y)<5;n||(n=g?Et.restSpeed.granular:Et.restSpeed.default),o||(o=g?Et.restDelta.granular:Et.restDelta.default);let b;if(w<1){const N=tp(x,w);b=T=>{const P=Math.exp(-w*x*T);return c-P*((k+w*x*y)/N*Math.sin(N*T)+y*Math.cos(N*T))}}else if(w===1)b=N=>c-Math.exp(-x*N)*(y+(k+x*y)*N);else{const N=x*Math.sqrt(w*w-1);b=T=>{const P=Math.exp(-w*x*T),E=Math.min(N*T,300);return c-P*((k+w*x*y)*Math.sinh(E)+N*y*Math.cosh(E))/N}}const j={calculatedDuration:_&&h||null,next:N=>{const T=b(N);if(_)l.done=N>=h;else{let P=0;w<1&&(P=N===0?rs(k):ww(b,N,T));const E=Math.abs(P)<=n,L=Math.abs(c-T)<=o;l.done=E&&L}return l.value=l.done?c:T,l},toString:()=>{const N=Math.min(Hb(j),Gf),T=$b(P=>j.next(N*P).value,N,30);return N+"ms "+T}};return j}function Ky({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:d=500,modifyTarget:c,min:l,max:u,restDelta:f=.5,restSpeed:p}){const h=e[0],v={done:!1,value:h},_=E=>l!==void 0&&E<l||u!==void 0&&E>u,k=E=>l===void 0?u:u===void 0||Math.abs(l-E)<Math.abs(u-E)?l:u;let w=r*t;const y=h+w,x=c===void 0?y:c(y);x!==y&&(w=x-h);const g=E=>-w*Math.exp(-E/n),b=E=>x+g(E),j=E=>{const L=g(E),z=b(E);v.done=Math.abs(L)<=f,v.value=v.done?x:z};let N,T;const P=E=>{_(v.value)&&(N=E,T=Sw({keyframes:[v.value,k(v.value)],velocity:ww(b,E,v.value),damping:o,stiffness:d,restDelta:f,restSpeed:p}))};return P(0),{calculatedDuration:null,next:E=>{let L=!1;return!T&&N===void 0&&(L=!0,j(E),P(E)),N!==void 0&&E>=N?T.next(E-N):(!L&&j(E),v)}}}const lR=ll(.42,0,1,1),cR=ll(0,0,.58,1),Cw=ll(.42,0,.58,1),uR=e=>Array.isArray(e)&&typeof e[0]!="number",dR={linear:Xr,easeIn:lR,easeInOut:Cw,easeOut:cR,circIn:fm,circInOut:sw,circOut:nw,backIn:hm,backInOut:tw,backOut:ew,anticipate:rw},Gy=e=>{if(am(e)){bb(e.length===4);const[t,r,n,o]=e;return ll(t,r,n,o)}else if(typeof e=="string")return dR[e];return e};function hR(e,t,r){const n=[],o=r||bw,d=e.length-1;for(let c=0;c<d;c++){let l=o(e[c],e[c+1]);if(t){const u=Array.isArray(t)?t[c]||Xr:t;l=cl(u,l)}n.push(l)}return n}function fR(e,t,{clamp:r=!0,ease:n,mixer:o}={}){const d=e.length;if(bb(d===t.length),d===1)return()=>t[0];if(d===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[d-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=hR(t,n,o),u=l.length,f=p=>{if(c&&p<e[0])return t[0];let h=0;if(u>1)for(;h<e.length-2&&!(p<e[h+1]);h++);const v=wo(e[h],e[h+1],p);return l[h](v)};return r?p=>f(os(e[0],e[d-1],p)):f}function pR(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const o=wo(0,t,n);e.push(kt(r,1,o))}}function mR(e){const t=[0];return pR(t,e.length-1),t}function gR(e,t){return e.map(r=>r*t)}function vR(e,t){return e.map(()=>t||Cw).splice(0,e.length-1)}function ou({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const o=uR(n)?n.map(Gy):Gy(n),d={done:!1,value:t[0]},c=gR(r&&r.length===t.length?r:mR(t),e),l=fR(c,t,{ease:Array.isArray(o)?o:vR(t,o)});return{calculatedDuration:e,next:u=>(d.value=l(u),d.done=u>=e,d)}}const yR=e=>{const t=({timestamp:r})=>e(r);return{start:()=>_t.update(t,!0),stop:()=>Us(t),now:()=>or.isProcessing?or.timestamp:Bn.now()}},xR={decay:Ky,inertia:Ky,tween:ou,keyframes:ou,spring:Sw},_R=e=>e/100;class xm extends xw{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:r,motionValue:n,element:o,keyframes:d}=this.options,c=(o==null?void 0:o.KeyframeResolver)||vm,l=(u,f)=>this.onKeyframesResolved(u,f);this.resolver=new c(d,l,r,n,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:d,velocity:c=0}=this.options,l=om(r)?r:xR[r]||ou;let u,f;l!==ou&&typeof t[0]!="number"&&(u=cl(_R,bw(t[0],t[1])),t=[0,100]);const p=l({...this.options,keyframes:t});d==="mirror"&&(f=l({...this.options,keyframes:[...t].reverse(),velocity:-c})),p.calculatedDuration===null&&(p.calculatedDuration=Hb(p));const{calculatedDuration:h}=p,v=h+o,_=v*(n+1)-o;return{generator:p,mirroredGenerator:f,mapPercentToKeyframes:u,calculatedDuration:h,resolvedDuration:v,totalDuration:_}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:E}=this.options;return{done:!0,value:E[E.length-1]}}const{finalKeyframe:o,generator:d,mirroredGenerator:c,mapPercentToKeyframes:l,keyframes:u,calculatedDuration:f,totalDuration:p,resolvedDuration:h}=n;if(this.startTime===null)return d.next(0);const{delay:v,repeat:_,repeatType:k,repeatDelay:w,onUpdate:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-p/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const x=this.currentTime-v*(this.speed>=0?1:-1),g=this.speed>=0?x<0:x>p;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=p);let b=this.currentTime,j=d;if(_){const E=Math.min(this.currentTime,p)/h;let L=Math.floor(E),z=E%1;!z&&E>=1&&(z=1),z===1&&L--,L=Math.min(L,_+1),!!(L%2)&&(k==="reverse"?(z=1-z,w&&(z-=w/h)):k==="mirror"&&(j=c)),b=os(0,1,z)*h}const N=g?{done:!1,value:u[0]}:j.next(b);l&&(N.value=l(N.value));let{done:T}=N;!g&&f!==null&&(T=this.speed>=0?this.currentTime>=p:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return P&&o!==void 0&&(N.value=Du(u,this.options,o)),y&&y(N.value),P&&this.finish(),N}get duration(){const{resolved:t}=this;return t?ns(t.calculatedDuration):0}get time(){return ns(this.currentTime)}set time(t){t=rs(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=ns(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=yR,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(d=>this.tick(d))),r&&r();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const bR=new Set(["opacity","clipPath","filter","transform"]);function wR(e,t,r,{delay:n=0,duration:o=300,repeat:d=0,repeatType:c="loop",ease:l="easeInOut",times:u}={}){const f={[t]:r};u&&(f.offset=u);const p=Ub(l,o);return Array.isArray(p)&&(f.easing=p),e.animate(f,{delay:n,duration:o,easing:Array.isArray(p)?"linear":p,fill:"both",iterations:d+1,direction:c==="reverse"?"alternate":"normal"})}const SR=Wp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),au=10,CR=2e4;function kR(e){return om(e.type)||e.type==="spring"||!Vb(e.ease)}function jR(e,t){const r=new xm({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const o=[];let d=0;for(;!n.done&&d<CR;)n=r.sample(d),o.push(n.value),d+=au;return{times:void 0,keyframes:o,duration:d-au,ease:"linear"}}const kw={anticipate:rw,backInOut:tw,circInOut:sw};function ER(e){return e in kw}class qy extends xw{constructor(t){super(t);const{name:r,motionValue:n,element:o,keyframes:d}=this.options;this.resolver=new yw(d,(c,l)=>this.onKeyframesResolved(c,l),r,n,o),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:o,ease:d,type:c,motionValue:l,name:u,startTime:f}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof d=="string"&&su()&&ER(d)&&(d=kw[d]),kR(this.options)){const{onComplete:h,onUpdate:v,motionValue:_,element:k,...w}=this.options,y=jR(t,w);t=y.keyframes,t.length===1&&(t[1]=t[0]),n=y.duration,o=y.times,d=y.ease,c="keyframes"}const p=wR(l.owner.current,u,t,{...this.options,duration:n,times:o,ease:d});return p.startTime=f??this.calcStartTime(),this.pendingTimeline?(Ay(p,this.pendingTimeline),this.pendingTimeline=void 0):p.onfinish=()=>{const{onComplete:h}=this.options;l.set(Du(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:p,duration:n,times:o,type:c,ease:d,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return ns(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return ns(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=rs(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return Xr;const{animation:n}=r;Ay(n,t)}return Xr}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:o,type:d,ease:c,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:f,onUpdate:p,onComplete:h,element:v,..._}=this.options,k=new xm({..._,keyframes:n,duration:o,type:d,ease:c,times:l,isGenerator:!0}),w=rs(this.time);f.setWithVelocity(k.sample(w-au).value,k.sample(w).value,au)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:o,repeatType:d,damping:c,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:f}=r.owner.getProps();return SR()&&n&&bR.has(n)&&!u&&!f&&!o&&d!=="mirror"&&c!==0&&l!=="inertia"}}const NR={type:"spring",stiffness:500,damping:25,restSpeed:10},PR=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),TR={type:"keyframes",duration:.8},RR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},AR=(e,{keyframes:t})=>t.length>2?TR:Ai.has(e)?e.startsWith("scale")?PR(t[1]):NR:RR;function MR({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:o,repeat:d,repeatType:c,repeatDelay:l,from:u,elapsed:f,...p}){return!!Object.keys(p).length}const _m=(e,t,r,n={},o,d)=>c=>{const l=im(n,e)||{},u=l.delay||n.delay||0;let{elapsed:f=0}=n;f=f-rs(u);let p={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-f,onUpdate:v=>{t.set(v),l.onUpdate&&l.onUpdate(v)},onComplete:()=>{c(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:d?void 0:o};MR(l)||(p={...p,...AR(e,p)}),p.duration&&(p.duration=rs(p.duration)),p.repeatDelay&&(p.repeatDelay=rs(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let h=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(p.duration=0,p.delay===0&&(h=!0)),h&&!d&&t.get()!==void 0){const v=Du(p.keyframes,l);if(v!==void 0)return _t.update(()=>{p.onUpdate(v),p.onComplete()}),new QP([])}return!d&&qy.supports(p)?new qy(p):new xm(p)};function DR({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function jw(e,t,{delay:r=0,transitionOverride:n,type:o}={}){var d;let{transition:c=e.getDefaultTransition(),transitionEnd:l,...u}=t;n&&(c=n);const f=[],p=o&&e.animationState&&e.animationState.getState()[o];for(const h in u){const v=e.getValue(h,(d=e.latestValues[h])!==null&&d!==void 0?d:null),_=u[h];if(_===void 0||p&&DR(p,h))continue;const k={delay:r,...im(c||{},h)};let w=!1;if(window.MotionHandoffAnimation){const x=Xb(e);if(x){const g=window.MotionHandoffAnimation(x,h,_t);g!==null&&(k.startTime=g,w=!0)}}Yf(e,h),v.start(_m(h,v,_,e.shouldReduceMotion&&qb.has(h)?{type:!1}:k,e,w));const y=v.animation;y&&f.push(y)}return l&&Promise.all(f).then(()=>{_t.update(()=>{l&&hT(e,l)})}),f}function rp(e,t,r={}){var n;const o=Mu(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:d=e.getDefaultTransition()||{}}=o||{};r.transitionOverride&&(d=r.transitionOverride);const c=o?()=>Promise.all(jw(e,o,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:p=0,staggerChildren:h,staggerDirection:v}=d;return LR(e,t,p+f,h,v,r)}:()=>Promise.resolve(),{when:u}=d;if(u){const[f,p]=u==="beforeChildren"?[c,l]:[l,c];return f().then(()=>p())}else return Promise.all([c(),l(r.delay)])}function LR(e,t,r=0,n=0,o=1,d){const c=[],l=(e.variantChildren.size-1)*n,u=o===1?(f=0)=>f*n:(f=0)=>l-f*n;return Array.from(e.variantChildren).sort(IR).forEach((f,p)=>{f.notify("AnimationStart",t),c.push(rp(f,t,{...d,delay:r+u(p)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(c)}function IR(e,t){return e.sortNodePosition(t)}function OR(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(d=>rp(e,d,r));n=Promise.all(o)}else if(typeof t=="string")n=rp(e,t,r);else{const o=typeof t=="function"?Mu(e,t,r.custom):t;n=Promise.all(jw(e,o,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const BR=Gp.length;function Ew(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Ew(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<BR;r++){const n=Gp[r],o=e.props[n];(Wa(o)||o===!1)&&(t[n]=o)}return t}const FR=[...Kp].reverse(),zR=Kp.length;function HR(e){return t=>Promise.all(t.map(({animation:r,options:n})=>OR(e,r,n)))}function $R(e){let t=HR(e),r=Yy(),n=!0;const o=u=>(f,p)=>{var h;const v=Mu(e,p,u==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(v){const{transition:_,transitionEnd:k,...w}=v;f={...f,...w,...k}}return f};function d(u){t=u(e)}function c(u){const{props:f}=e,p=Ew(e.parent)||{},h=[],v=new Set;let _={},k=1/0;for(let y=0;y<zR;y++){const x=FR[y],g=r[x],b=f[x]!==void 0?f[x]:p[x],j=Wa(b),N=x===u?g.isActive:null;N===!1&&(k=y);let T=b===p[x]&&b!==f[x]&&j;if(T&&n&&e.manuallyAnimateOnMount&&(T=!1),g.protectedKeys={..._},!g.isActive&&N===null||!b&&!g.prevProp||Ru(b)||typeof b=="boolean")continue;const P=VR(g.prevProp,b);let E=P||x===u&&g.isActive&&!T&&j||y>k&&j,L=!1;const z=Array.isArray(b)?b:[b];let F=z.reduce(o(x),{});N===!1&&(F={});const{prevResolvedValues:V={}}=g,U={...V,...F},X=G=>{E=!0,v.has(G)&&(L=!0,v.delete(G)),g.needsAnimating[G]=!0;const B=e.getValue(G);B&&(B.liveStyle=!1)};for(const G in U){const B=F[G],D=V[G];if(_.hasOwnProperty(G))continue;let A=!1;Kf(B)&&Kf(D)?A=!zb(B,D):A=B!==D,A?B!=null?X(G):v.add(G):B!==void 0&&v.has(G)?X(G):g.protectedKeys[G]=!0}g.prevProp=b,g.prevResolvedValues=F,g.isActive&&(_={..._,...F}),n&&e.blockInitialAnimation&&(E=!1),E&&(!(T&&P)||L)&&h.push(...z.map(G=>({animation:G,options:{type:x}})))}if(v.size){const y={};v.forEach(x=>{const g=e.getBaseTarget(x),b=e.getValue(x);b&&(b.liveStyle=!0),y[x]=g??null}),h.push({animation:y})}let w=!!h.length;return n&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),n=!1,w?t(h):Promise.resolve()}function l(u,f){var p;if(r[u].isActive===f)return Promise.resolve();(p=e.variantChildren)===null||p===void 0||p.forEach(v=>{var _;return(_=v.animationState)===null||_===void 0?void 0:_.setActive(u,f)}),r[u].isActive=f;const h=c(u);for(const v in r)r[v].protectedKeys={};return h}return{animateChanges:c,setActive:l,setAnimateFunction:d,getState:()=>r,reset:()=>{r=Yy(),n=!0}}}function VR(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zb(t,e):!1}function yi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Yy(){return{animate:yi(!0),whileInView:yi(),whileHover:yi(),whileTap:yi(),whileDrag:yi(),whileFocus:yi(),exit:yi()}}class Qs{constructor(t){this.isMounted=!1,this.node=t}update(){}}class UR extends Qs{constructor(t){super(t),t.animationState||(t.animationState=$R(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Ru(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let WR=0;class KR extends Qs{constructor(){super(...arguments),this.id=WR++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);r&&!t&&o.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const GR={animation:{Feature:UR},exit:{Feature:KR}};function Ya(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function ul(e){return{point:{x:e.pageX,y:e.pageY}}}const qR=e=>t=>lm(t)&&e(t,ul(t));function Fa(e,t,r,n){return Ya(e,t,qR(r),n)}const Xy=(e,t)=>Math.abs(e-t);function YR(e,t){const r=Xy(e.x,t.x),n=Xy(e.y,t.y);return Math.sqrt(r**2+n**2)}class Nw{constructor(t,r,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:d=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=af(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=YR(h.offset,{x:0,y:0})>=3;if(!v&&!_)return;const{point:k}=h,{timestamp:w}=or;this.history.push({...k,timestamp:w});const{onStart:y,onMove:x}=this.handlers;v||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,v)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=of(v,this.transformPagePoint),_t.update(this.updatePoint,!0)},this.handlePointerUp=(h,v)=>{this.end();const{onEnd:_,onSessionEnd:k,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=af(h.type==="pointercancel"?this.lastMoveEventInfo:of(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(h,y),k&&k(h,y)},!lm(t))return;this.dragSnapToOrigin=d,this.handlers=r,this.transformPagePoint=n,this.contextWindow=o||window;const c=ul(t),l=of(c,this.transformPagePoint),{point:u}=l,{timestamp:f}=or;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=r;p&&p(t,af(l,this.history)),this.removeListeners=cl(Fa(this.contextWindow,"pointermove",this.handlePointerMove),Fa(this.contextWindow,"pointerup",this.handlePointerUp),Fa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Us(this.updatePoint)}}function of(e,t){return t?{point:t(e.point)}:e}function Jy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function af({point:e},t){return{point:e,delta:Jy(e,Pw(t)),offset:Jy(e,XR(t)),velocity:JR(t,.1)}}function XR(e){return e[0]}function Pw(e){return e[e.length-1]}function JR(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const o=Pw(e);for(;r>=0&&(n=e[r],!(o.timestamp-n.timestamp>rs(t)));)r--;if(!n)return{x:0,y:0};const d=ns(o.timestamp-n.timestamp);if(d===0)return{x:0,y:0};const c={x:(o.x-n.x)/d,y:(o.y-n.y)/d};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}const Tw=1e-4,QR=1-Tw,ZR=1+Tw,Rw=.01,eA=0-Rw,tA=0+Rw;function Qr(e){return e.max-e.min}function rA(e,t,r){return Math.abs(e-t)<=r}function Qy(e,t,r,n=.5){e.origin=n,e.originPoint=kt(t.min,t.max,e.origin),e.scale=Qr(r)/Qr(t),e.translate=kt(r.min,r.max,e.origin)-e.originPoint,(e.scale>=QR&&e.scale<=ZR||isNaN(e.scale))&&(e.scale=1),(e.translate>=eA&&e.translate<=tA||isNaN(e.translate))&&(e.translate=0)}function za(e,t,r,n){Qy(e.x,t.x,r.x,n?n.originX:void 0),Qy(e.y,t.y,r.y,n?n.originY:void 0)}function Zy(e,t,r){e.min=r.min+t.min,e.max=e.min+Qr(t)}function nA(e,t,r){Zy(e.x,t.x,r.x),Zy(e.y,t.y,r.y)}function ex(e,t,r){e.min=t.min-r.min,e.max=e.min+Qr(t)}function Ha(e,t,r){ex(e.x,t.x,r.x),ex(e.y,t.y,r.y)}function sA(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?kt(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?kt(r,e,n.max):Math.min(e,r)),e}function tx(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function iA(e,{top:t,left:r,bottom:n,right:o}){return{x:tx(e.x,r,o),y:tx(e.y,t,n)}}function rx(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function oA(e,t){return{x:rx(e.x,t.x),y:rx(e.y,t.y)}}function aA(e,t){let r=.5;const n=Qr(e),o=Qr(t);return o>n?r=wo(t.min,t.max-n,e.min):n>o&&(r=wo(e.min,e.max-o,t.min)),os(0,1,r)}function lA(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const np=.35;function cA(e=np){return e===!1?e=0:e===!0&&(e=np),{x:nx(e,"left","right"),y:nx(e,"top","bottom")}}function nx(e,t,r){return{min:sx(e,t),max:sx(e,r)}}function sx(e,t){return typeof e=="number"?e:e[t]||0}const ix=()=>({translate:0,scale:1,origin:0,originPoint:0}),po=()=>({x:ix(),y:ix()}),ox=()=>({min:0,max:0}),Rt=()=>({x:ox(),y:ox()});function cn(e){return[e("x"),e("y")]}function Aw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function uA({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function dA(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function lf(e){return e===void 0||e===1}function sp({scale:e,scaleX:t,scaleY:r}){return!lf(e)||!lf(t)||!lf(r)}function _i(e){return sp(e)||Mw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Mw(e){return ax(e.x)||ax(e.y)}function ax(e){return e&&e!=="0%"}function lu(e,t,r){const n=e-r,o=t*n;return r+o}function lx(e,t,r,n,o){return o!==void 0&&(e=lu(e,o,n)),lu(e,r,n)+t}function ip(e,t=0,r=1,n,o){e.min=lx(e.min,t,r,n,o),e.max=lx(e.max,t,r,n,o)}function Dw(e,{x:t,y:r}){ip(e.x,t.translate,t.scale,t.originPoint),ip(e.y,r.translate,r.scale,r.originPoint)}const cx=.999999999999,ux=1.0000000000001;function hA(e,t,r,n=!1){const o=r.length;if(!o)return;t.x=t.y=1;let d,c;for(let l=0;l<o;l++){d=r[l],c=d.projectionDelta;const{visualElement:u}=d.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&d.options.layoutScroll&&d.scroll&&d!==d.root&&go(e,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,Dw(e,c)),n&&_i(d.latestValues)&&go(e,d.latestValues))}t.x<ux&&t.x>cx&&(t.x=1),t.y<ux&&t.y>cx&&(t.y=1)}function mo(e,t){e.min=e.min+t,e.max=e.max+t}function dx(e,t,r,n,o=.5){const d=kt(e.min,e.max,o);ip(e,t,r,d,n)}function go(e,t){dx(e.x,t.x,t.scaleX,t.scale,t.originX),dx(e.y,t.y,t.scaleY,t.scale,t.originY)}function Lw(e,t){return Aw(dA(e.getBoundingClientRect(),t))}function fA(e,t,r){const n=Lw(e,r),{scroll:o}=t;return o&&(mo(n.x,o.offset.x),mo(n.y,o.offset.y)),n}const Iw=({current:e})=>e?e.ownerDocument.defaultView:null,pA=new WeakMap;class mA{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Rt(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=p=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ul(p).point)},d=(p,h)=>{const{drag:v,dragPropagation:_,onDragStart:k}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=aT(v),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),cn(y=>{let x=this.getAxisMotionValue(y).get()||0;if(On.test(x)){const{projection:g}=this.visualElement;if(g&&g.layout){const b=g.layout.layoutBox[y];b&&(x=Qr(b)*(parseFloat(x)/100))}}this.originPoint[y]=x}),k&&_t.postRender(()=>k(p,h)),Yf(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},c=(p,h)=>{const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:k,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:y}=h;if(_&&this.currentDirection===null){this.currentDirection=gA(y),this.currentDirection!==null&&k&&k(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),w&&w(p,h)},l=(p,h)=>this.stop(p,h),u=()=>cn(p=>{var h;return this.getAnimationState(p)==="paused"&&((h=this.getAxisMotionValue(p).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new Nw(t,{onSessionStart:o,onStart:d,onMove:c,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:Iw(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:d}=this.getProps();d&&_t.postRender(()=>d(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:o}=this.getProps();if(!n||!Lc(t,o,this.currentDirection))return;const d=this.getAxisMotionValue(t);let c=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(c=sA(c,this.constraints[t],this.elastic[t])),d.set(c)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,d=this.constraints;r&&ho(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&o?this.constraints=iA(o.layoutBox,r):this.constraints=!1,this.elastic=cA(n),d!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&cn(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=lA(o.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ho(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const d=fA(n,o.root,this.visualElement.getTransformPagePoint());let c=oA(o.layout.layoutBox,d);if(r){const l=r(uA(c));this.hasMutatedConstraints=!!l,l&&(c=Aw(l))}return c}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:o,dragTransition:d,dragSnapToOrigin:c,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},f=cn(p=>{if(!Lc(p,r,this.currentDirection))return;let h=u&&u[p]||{};c&&(h={min:0,max:0});const v=o?200:1e6,_=o?40:1e7,k={type:"inertia",velocity:n?t[p]:0,bounceStiffness:v,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...d,...h};return this.startAxisValueAnimation(p,k)});return Promise.all(f).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Yf(this.visualElement,t),n.start(_m(t,n,0,r,this.visualElement,!1))}stopAnimation(){cn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){cn(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[r];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){cn(r=>{const{drag:n}=this.getProps();if(!Lc(r,n,this.currentDirection))return;const{projection:o}=this.visualElement,d=this.getAxisMotionValue(r);if(o&&o.layout){const{min:c,max:l}=o.layout.layoutBox[r];d.set(t[r]-kt(c,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ho(r)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};cn(c=>{const l=this.getAxisMotionValue(c);if(l&&this.constraints!==!1){const u=l.get();o[c]=aA({min:u,max:u},this.constraints[c])}});const{transformTemplate:d}=this.visualElement.getProps();this.visualElement.current.style.transform=d?d({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),cn(c=>{if(!Lc(c,t,null))return;const l=this.getAxisMotionValue(c),{min:u,max:f}=this.constraints[c];l.set(kt(u,f,o[c]))})}addListeners(){if(!this.visualElement.current)return;pA.set(this.visualElement,this);const t=this.visualElement.current,r=Fa(t,"pointerdown",u=>{const{drag:f,dragListener:p=!0}=this.getProps();f&&p&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();ho(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,d=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),_t.read(n);const c=Ya(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:f})=>{this.isDragging&&f&&(cn(p=>{const h=this.getAxisMotionValue(p);h&&(this.originPoint[p]+=u[p].translate,h.set(h.get()+u[p].translate))}),this.visualElement.render())}));return()=>{c(),r(),d(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:d=!1,dragElastic:c=np,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:o,dragConstraints:d,dragElastic:c,dragMomentum:l}}}function Lc(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function gA(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class vA extends Qs{constructor(t){super(t),this.removeGroupControls=Xr,this.removeListeners=Xr,this.controls=new mA(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Xr}unmount(){this.removeGroupControls(),this.removeListeners()}}const hx=e=>(t,r)=>{e&&_t.postRender(()=>e(t,r))};class yA extends Qs{constructor(){super(...arguments),this.removePointerDownListener=Xr}onPointerDown(t){this.session=new Nw(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Iw(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:hx(t),onStart:hx(r),onMove:n,onEnd:(d,c)=>{delete this.session,o&&_t.postRender(()=>o(d,c))}}}mount(){this.removePointerDownListener=Fa(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Yc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fx(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ea={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ue.test(e))e=parseFloat(e);else return e;const r=fx(e,t.target.x),n=fx(e,t.target.y);return`${r}% ${n}%`}},xA={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,o=Ws.parse(e);if(o.length>5)return n;const d=Ws.createTransformer(e),c=typeof o[0]!="number"?1:0,l=r.x.scale*t.x,u=r.y.scale*t.y;o[0+c]/=l,o[1+c]/=u;const f=kt(l,u,.5);return typeof o[2+c]=="number"&&(o[2+c]/=f),typeof o[3+c]=="number"&&(o[3+c]/=f),d(o)}};class _A extends C.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:o}=this.props,{projection:d}=t;zP(bA),d&&(r.group&&r.group.add(d),n&&n.register&&o&&n.register(d),d.root.didUpdate(),d.addEventListener("animationComplete",()=>{this.safeToRemove()}),d.setOptions({...d.options,onExitComplete:()=>this.safeToRemove()})),Yc.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:o,isPresent:d}=this.props,c=n.projection;return c&&(c.isPresent=d,o||t.layoutDependency!==r||r===void 0?c.willUpdate():this.safeToRemove(),t.isPresent!==d&&(d?c.promote():c.relegate()||_t.postRender(()=>{const l=c.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Yp.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ow(e){const[t,r]=xb(),n=C.useContext(zp);return i.jsx(_A,{...e,layoutGroup:n,switchLayoutGroup:C.useContext(Eb),isPresent:t,safeToRemove:r})}const bA={borderRadius:{...Ea,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ea,borderTopRightRadius:Ea,borderBottomLeftRadius:Ea,borderBottomRightRadius:Ea,boxShadow:xA};function wA(e,t,r){const n=vr(e)?e:Ga(e);return n.start(_m("",n,t,r)),n.animation}function SA(e){return e instanceof SVGElement&&e.tagName!=="svg"}const CA=(e,t)=>e.depth-t.depth;class kA{constructor(){this.children=[],this.isDirty=!1}add(t){cm(this.children,t),this.isDirty=!0}remove(t){um(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(CA),this.isDirty=!1,this.children.forEach(t)}}function jA(e,t){const r=Bn.now(),n=({timestamp:o})=>{const d=o-r;d>=t&&(Us(n),e(d-t))};return _t.read(n,!0),()=>Us(n)}const Bw=["TopLeft","TopRight","BottomLeft","BottomRight"],EA=Bw.length,px=e=>typeof e=="string"?parseFloat(e):e,mx=e=>typeof e=="number"||Ue.test(e);function NA(e,t,r,n,o,d){o?(e.opacity=kt(0,r.opacity!==void 0?r.opacity:1,PA(n)),e.opacityExit=kt(t.opacity!==void 0?t.opacity:1,0,TA(n))):d&&(e.opacity=kt(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let c=0;c<EA;c++){const l=`border${Bw[c]}Radius`;let u=gx(t,l),f=gx(r,l);if(u===void 0&&f===void 0)continue;u||(u=0),f||(f=0),u===0||f===0||mx(u)===mx(f)?(e[l]=Math.max(kt(px(u),px(f),n),0),(On.test(f)||On.test(u))&&(e[l]+="%")):e[l]=f}(t.rotate||r.rotate)&&(e.rotate=kt(t.rotate||0,r.rotate||0,n))}function gx(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const PA=Fw(0,.5,nw),TA=Fw(.5,.95,Xr);function Fw(e,t,r){return n=>n<e?0:n>t?1:r(wo(e,t,n))}function vx(e,t){e.min=t.min,e.max=t.max}function ln(e,t){vx(e.x,t.x),vx(e.y,t.y)}function yx(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function xx(e,t,r,n,o){return e-=t,e=lu(e,1/r,n),o!==void 0&&(e=lu(e,1/o,n)),e}function RA(e,t=0,r=1,n=.5,o,d=e,c=e){if(On.test(t)&&(t=parseFloat(t),t=kt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let l=kt(d.min,d.max,n);e===d&&(l-=t),e.min=xx(e.min,t,r,l,o),e.max=xx(e.max,t,r,l,o)}function _x(e,t,[r,n,o],d,c){RA(e,t[r],t[n],t[o],t.scale,d,c)}const AA=["x","scaleX","originX"],MA=["y","scaleY","originY"];function bx(e,t,r,n){_x(e.x,t,AA,r?r.x:void 0,n?n.x:void 0),_x(e.y,t,MA,r?r.y:void 0,n?n.y:void 0)}function wx(e){return e.translate===0&&e.scale===1}function zw(e){return wx(e.x)&&wx(e.y)}function Sx(e,t){return e.min===t.min&&e.max===t.max}function DA(e,t){return Sx(e.x,t.x)&&Sx(e.y,t.y)}function Cx(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Hw(e,t){return Cx(e.x,t.x)&&Cx(e.y,t.y)}function kx(e){return Qr(e.x)/Qr(e.y)}function jx(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class LA{constructor(){this.members=[]}add(t){cm(this.members,t),t.scheduleRender()}remove(t){if(um(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(o=>t===o);if(r===0)return!1;let n;for(let o=r;o>=0;o--){const d=this.members[o];if(d.isPresent!==!1){n=d;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IA(e,t,r){let n="";const o=e.x.translate/t.x,d=e.y.translate/t.y,c=(r==null?void 0:r.z)||0;if((o||d||c)&&(n=`translate3d(${o}px, ${d}px, ${c}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:f,rotate:p,rotateX:h,rotateY:v,skewX:_,skewY:k}=r;f&&(n=`perspective(${f}px) ${n}`),p&&(n+=`rotate(${p}deg) `),h&&(n+=`rotateX(${h}deg) `),v&&(n+=`rotateY(${v}deg) `),_&&(n+=`skewX(${_}deg) `),k&&(n+=`skewY(${k}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(n+=`scale(${l}, ${u})`),n||"none"}const bi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},La=typeof window<"u"&&window.MotionDebug!==void 0,cf=["","X","Y","Z"],OA={visibility:"hidden"},Ex=1e3;let BA=0;function uf(e,t,r,n){const{latestValues:o}=t;o[e]&&(r[e]=o[e],t.setStaticValue(e,0),n&&(n[e]=0))}function $w(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Xb(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:o,layoutId:d}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",_t,!(o||d))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&$w(n)}function Vw({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(c={},l=t==null?void 0:t()){this.id=BA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,La&&(bi.totalNodes=bi.resolvedTargetDeltas=bi.recalculatedProjection=0),this.nodes.forEach(HA),this.nodes.forEach(KA),this.nodes.forEach(GA),this.nodes.forEach($A),La&&window.MotionDebug.record(bi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new kA)}addEventListener(c,l){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dm),this.eventHandlers.get(c).add(l)}notifyListeners(c,...l){const u=this.eventHandlers.get(c);u&&u.notify(...l)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SA(c),this.instance=c;const{layoutId:u,layout:f,visualElement:p}=this.options;if(p&&!p.current&&p.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||u)&&(this.isLayoutDirty=!0),e){let h;const v=()=>this.root.updateBlockedByResize=!1;e(c,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=jA(v,250),Yc.hasAnimatedSinceResize&&(Yc.hasAnimatedSinceResize=!1,this.nodes.forEach(Px))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&p&&(u||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:v,hasRelativeTargetChanged:_,layout:k})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||p.getDefaultTransition()||QA,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=p.getProps(),g=!this.targetLayout||!Hw(this.targetLayout,k)||_,b=!v&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||v&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,b);const j={...im(w,"layout"),onPlay:y,onComplete:x};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j)}else v||Px(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=k})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qA),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$w(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const h=this.path[p];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nx);return}this.isUpdating||this.nodes.forEach(UA),this.isUpdating=!1,this.nodes.forEach(WA),this.nodes.forEach(FA),this.nodes.forEach(zA),this.clearAllSnapshots();const l=Bn.now();or.delta=os(0,1e3/60,l-or.timestamp),or.timestamp=l,or.isProcessing=!0,Zh.update.process(or),Zh.preRender.process(or),Zh.render.process(or),or.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VA),this.sharedNodes.forEach(YA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(l=!1),l){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:u,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!o)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!zw(this.projectionDelta),u=this.getTransformTemplate(),f=u?u(this.latestValues,""):void 0,p=f!==this.prevTransformTemplateValue;c&&(l||_i(this.latestValues)||p)&&(o(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return c&&(u=this.removeTransform(u)),ZA(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:l}=this.options;if(!l)return Rt();const u=l.measureViewportBox();if(!(((c=this.scroll)===null||c===void 0?void 0:c.wasRoot)||this.path.some(e4))){const{scroll:p}=this.root;p&&(mo(u.x,p.offset.x),mo(u.y,p.offset.y))}return u}removeElementScroll(c){var l;const u=Rt();if(ln(u,c),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return u;for(let f=0;f<this.path.length;f++){const p=this.path[f],{scroll:h,options:v}=p;p!==this.root&&h&&v.layoutScroll&&(h.wasRoot&&ln(u,c),mo(u.x,h.offset.x),mo(u.y,h.offset.y))}return u}applyTransform(c,l=!1){const u=Rt();ln(u,c);for(let f=0;f<this.path.length;f++){const p=this.path[f];!l&&p.options.layoutScroll&&p.scroll&&p!==p.root&&go(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),_i(p.latestValues)&&go(u,p.latestValues)}return _i(this.latestValues)&&go(u,this.latestValues),u}removeTransform(c){const l=Rt();ln(l,c);for(let u=0;u<this.path.length;u++){const f=this.path[u];if(!f.instance||!_i(f.latestValues))continue;sp(f.latestValues)&&f.updateSnapshot();const p=Rt(),h=f.measurePageBox();ln(p,h),bx(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,p)}return _i(this.latestValues)&&bx(l,this.latestValues),l}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==or.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var l;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==u;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:v}=this.options;if(!(!this.layout||!(h||v))){if(this.resolvedRelativeTargetAt=or.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Ha(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Rt(),this.targetWithTransforms=Rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),nA(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ln(this.target,this.layout.layoutBox),Dw(this.target,this.targetDelta)):ln(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Rt(),this.relativeTargetOrigin=Rt(),Ha(this.relativeTargetOrigin,this.target,_.target),ln(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}La&&bi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sp(this.parent.latestValues)||Mw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var c;const l=this.getLead(),u=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty)&&(f=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===or.timestamp&&(f=!1),f)return;const{layout:p,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||h))return;ln(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,_=this.treeScale.y;hA(this.layoutCorrected,this.treeScale,this.path,u),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Rt());const{target:k}=l;if(!k){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(yx(this.prevProjectionDelta.x,this.projectionDelta.x),yx(this.prevProjectionDelta.y,this.projectionDelta.y)),za(this.projectionDelta,this.layoutCorrected,k,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==_||!jx(this.projectionDelta.x,this.prevProjectionDelta.x)||!jx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",k)),La&&bi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),c){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=po(),this.projectionDelta=po(),this.projectionDeltaWithTransform=po()}setAnimationOrigin(c,l=!1){const u=this.snapshot,f=u?u.latestValues:{},p={...this.latestValues},h=po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const v=Rt(),_=u?u.source:void 0,k=this.layout?this.layout.source:void 0,w=_!==k,y=this.getStack(),x=!y||y.members.length<=1,g=!!(w&&!x&&this.options.crossfade===!0&&!this.path.some(JA));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const N=j/1e3;Tx(h.x,c.x,N),Tx(h.y,c.y,N),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ha(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XA(this.relativeTarget,this.relativeTargetOrigin,v,N),b&&DA(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Rt()),ln(b,this.relativeTarget)),w&&(this.animationValues=p,NA(p,f,this.latestValues,N,g,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_t.update(()=>{Yc.hasAnimatedSinceResize=!0,this.currentAnimation=wA(0,Ex,{...c,onUpdate:l=>{this.mixTargetDelta(l),c.onUpdate&&c.onUpdate(l)},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ex),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:l,target:u,layout:f,latestValues:p}=c;if(!(!l||!u||!f)){if(this!==c&&this.layout&&f&&Uw(this.options.animationType,this.layout.layoutBox,f.layoutBox)){u=this.target||Rt();const h=Qr(this.layout.layoutBox.x);u.x.min=c.target.x.min,u.x.max=u.x.min+h;const v=Qr(this.layout.layoutBox.y);u.y.min=c.target.y.min,u.y.max=u.y.min+v}ln(l,u),go(l,p),za(this.projectionDeltaWithTransform,this.layoutCorrected,l,p)}}registerSharedNode(c,l){this.sharedNodes.has(c)||this.sharedNodes.set(c,new LA),this.sharedNodes.get(c).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var c;const{layoutId:l}=this.options;return l?((c=this.getStack())===null||c===void 0?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:l}=this.options;return l?(c=this.getStack())===null||c===void 0?void 0:c.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:l,preserveFollowOpacity:u}={}){const f=this.getStack();f&&f.promote(this,u),c&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let l=!1;const{latestValues:u}=c;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const f={};u.z&&uf("z",c,f,this.animationValues);for(let p=0;p<cf.length;p++)uf(`rotate${cf[p]}`,c,f,this.animationValues),uf(`skew${cf[p]}`,c,f,this.animationValues);c.render();for(const p in f)c.setStaticValue(p,f[p]),this.animationValues&&(this.animationValues[p]=f[p]);c.scheduleRender()}getProjectionStyles(c){var l,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return OA;const f={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=Gc(c==null?void 0:c.pointerEvents)||"",f.transform=p?p(this.latestValues,""):"none",f;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=Gc(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_i(this.latestValues)&&(w.transform=p?p({},""):"none",this.hasProjected=!1),w}const v=h.animationValues||h.latestValues;this.applyTransformsToTarget(),f.transform=IA(this.projectionDeltaWithTransform,this.treeScale,v),p&&(f.transform=p(v,f.transform));const{x:_,y:k}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${k.origin*100}% 0`,h.animationValues?f.opacity=h===this?(u=(l=v.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=h===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const w in nu){if(v[w]===void 0)continue;const{correct:y,applyTo:x}=nu[w],g=f.transform==="none"?v[w]:y(v[w],h);if(x){const b=x.length;for(let j=0;j<b;j++)f[x[j]]=g}else f[w]=g}return this.options.layoutId&&(f.pointerEvents=h===this?Gc(c==null?void 0:c.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var l;return(l=c.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(Nx),this.root.sharedNodes.clear()}}}function FA(e){e.updateLayout()}function zA(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=e.layout,{animationType:d}=e.options,c=r.source!==e.layout.source;d==="size"?cn(h=>{const v=c?r.measuredBox[h]:r.layoutBox[h],_=Qr(v);v.min=n[h].min,v.max=v.min+_}):Uw(d,r.layoutBox,n)&&cn(h=>{const v=c?r.measuredBox[h]:r.layoutBox[h],_=Qr(n[h]);v.max=v.min+_,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+_)});const l=po();za(l,n,r.layoutBox);const u=po();c?za(u,e.applyTransform(o,!0),r.measuredBox):za(u,n,r.layoutBox);const f=!zw(l);let p=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:v,layout:_}=h;if(v&&_){const k=Rt();Ha(k,r.layoutBox,v.layoutBox);const w=Rt();Ha(w,n,_.layoutBox),Hw(k,w)||(p=!0),h.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=k,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:p})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function HA(e){La&&bi.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function $A(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function VA(e){e.clearSnapshot()}function Nx(e){e.clearMeasurements()}function UA(e){e.isLayoutDirty=!1}function WA(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Px(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function KA(e){e.resolveTargetDelta()}function GA(e){e.calcProjection()}function qA(e){e.resetSkewAndRotation()}function YA(e){e.removeLeadSnapshot()}function Tx(e,t,r){e.translate=kt(t.translate,0,r),e.scale=kt(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Rx(e,t,r,n){e.min=kt(t.min,r.min,n),e.max=kt(t.max,r.max,n)}function XA(e,t,r,n){Rx(e.x,t.x,r.x,n),Rx(e.y,t.y,r.y,n)}function JA(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const QA={duration:.45,ease:[.4,0,.1,1]},Ax=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Mx=Ax("applewebkit/")&&!Ax("chrome/")?Math.round:Xr;function Dx(e){e.min=Mx(e.min),e.max=Mx(e.max)}function ZA(e){Dx(e.x),Dx(e.y)}function Uw(e,t,r){return e==="position"||e==="preserve-aspect"&&!rA(kx(t),kx(r),.2)}function e4(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const t4=Vw({attachResizeListener:(e,t)=>Ya(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),df={current:void 0},Ww=Vw({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!df.current){const e=new t4({});e.mount(window),e.setOptions({layoutScroll:!0}),df.current=e}return df.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),r4={pan:{Feature:yA},drag:{Feature:vA,ProjectionNode:Ww,MeasureLayout:Ow}};function Lx(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const o="onHover"+r,d=n[o];d&&_t.postRender(()=>d(t,ul(t)))}class n4 extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=rT(t,r=>(Lx(this.node,r,"Start"),n=>Lx(this.node,n,"End"))))}unmount(){}}class s4 extends Qs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cl(Ya(this.node.current,"focus",()=>this.onFocus()),Ya(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Ix(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const o="onTap"+(r==="End"?"":r),d=n[o];d&&_t.postRender(()=>d(t,ul(t)))}class i4 extends Qs{mount(){const{current:t}=this.node;t&&(this.unmount=oT(t,r=>(Ix(this.node,r,"Start"),(n,{success:o})=>Ix(this.node,n,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const op=new WeakMap,hf=new WeakMap,o4=e=>{const t=op.get(e.target);t&&t(e)},a4=e=>{e.forEach(o4)};function l4({root:e,...t}){const r=e||document;hf.has(r)||hf.set(r,{});const n=hf.get(r),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(a4,{root:e,...t})),n[o]}function c4(e,t,r){const n=l4(t);return op.set(e,r),n.observe(e),()=>{op.delete(e),n.unobserve(e)}}const u4={some:0,all:1};class d4 extends Qs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:o="some",once:d}=t,c={root:r?r.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:u4[o]},l=u=>{const{isIntersecting:f}=u;if(this.isInView===f||(this.isInView=f,d&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:p,onViewportLeave:h}=this.node.getProps(),v=f?p:h;v&&v(u)};return c4(this.node.current,c,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(h4(t,r))&&this.startObserver()}unmount(){}}function h4({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const f4={inView:{Feature:d4},tap:{Feature:i4},focus:{Feature:s4},hover:{Feature:n4}},p4={layout:{ProjectionNode:Ww,MeasureLayout:Ow}},ap={current:null},Kw={current:!1};function m4(){if(Kw.current=!0,!!Vp)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ap.current=e.matches;e.addListener(t),t()}else ap.current=!1}const g4=[...vw,mr,Ws],v4=e=>g4.find(gw(e)),Ox=new WeakMap;function y4(e,t,r){for(const n in t){const o=t[n],d=r[n];if(vr(o))e.addValue(n,o);else if(vr(d))e.addValue(n,Ga(o,{owner:e}));else if(d!==o)if(e.hasValue(n)){const c=e.getValue(n);c.liveStyle===!0?c.jump(o):c.hasAnimated||c.set(o)}else{const c=e.getStaticValue(n);e.addValue(n,Ga(c!==void 0?c:o,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Bx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class x4{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:d,visualState:c},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const _=Bn.now();this.renderScheduledAt<_&&(this.renderScheduledAt=_,_t.render(this.render,!1,!0))};const{latestValues:u,renderState:f,onUpdate:p}=c;this.onUpdate=p,this.latestValues=u,this.baseTarget={...u},this.initialValues=r.initial?{...u}:{},this.renderState=f,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=l,this.blockInitialAnimation=!!d,this.isControllingVariants=Au(r),this.isVariantNode=kb(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...v}=this.scrapeMotionValuesFromProps(r,{},this);for(const _ in v){const k=v[_];u[_]!==void 0&&vr(k)&&k.set(u[_],!1)}}mount(t){this.current=t,Ox.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Kw.current||m4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ap.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ox.delete(this.current),this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ai.has(t),o=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&_t.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),d=r.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{o(),d(),c&&c(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in So){const r=So[t];if(!r)continue;const{isEnabled:n,Feature:o}=r;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){const d=this.features[t];d.isMounted?d.update():(d.mount(),d.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Bx.length;n++){const o=Bx[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const d="on"+o,c=t[d];c&&(this.propEventSubscriptions[o]=this.on(o,c))}this.prevMotionValues=y4(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ga(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(pw(o)||iw(o))?o=parseFloat(o):!v4(o)&&Ws.test(r)&&(o=dw(t,r)),this.setBaseTarget(t,vr(o)?o.get():o)),vr(o)?o.get():o}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const c=Jp(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);c&&(o=c[t])}if(n&&o!==void 0)return o;const d=this.getBaseTargetFromProps(this.props,t);return d!==void 0&&!vr(d)?d:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new dm),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Gw extends x4{constructor(){super(...arguments),this.KeyframeResolver=yw}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;vr(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function _4(e){return window.getComputedStyle(e)}class b4 extends Gw{constructor(){super(...arguments),this.type="html",this.renderInstance=Db}readValueFromInstance(t,r){if(Ai.has(r)){const n=gm(r);return n&&n.default||0}else{const n=_4(t),o=(Rb(r)?n.getPropertyValue(r):n[r])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Lw(t,r)}build(t,r,n){em(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return sm(t,r,n)}}class w4 extends Gw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Rt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Ai.has(r)){const n=gm(r);return n&&n.default||0}return r=Lb.has(r)?r:qp(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Bb(t,r,n)}build(t,r,n){tm(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,o){Ib(t,r,n,o)}mount(t){this.isSVGTag=nm(t.tagName),super.mount(t)}}const S4=(e,t)=>Xp(e)?new w4(t):new b4(t,{allowProjection:e!==C.Fragment}),C4=YP({...GR,...f4,...r4,...p4},S4),ss=uP(C4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=C.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:o="",children:d,iconNode:c,...l},u)=>C.createElement("svg",{ref:u,...j4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:qw("lucide",o),...l},[...c.map(([f,p])=>C.createElement(f,p)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=(e,t)=>{const r=C.forwardRef(({className:n,...o},d)=>C.createElement(E4,{ref:d,iconNode:t,className:qw(`lucide-${k4(e)}`,n),...o}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],P4=Ee("ArrowLeftRight",N4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Yw=Ee("ArrowRight",T4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ci=Ee("BookOpen",R4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],M4=Ee("Bot",A4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],ko=Ee("Brain",D4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Xw=Ee("Building2",L4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kr=Ee("Check",I4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],hs=Ee("ChevronDown",O4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mo=Ee("ChevronRight",B4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],z4=Ee("ChevronUp",F4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xa=Ee("CircleAlert",H4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bm=Ee("CircleHelp",$4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U4=Ee("Circle",V4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],K4=Ee("Clipboard",W4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ff=Ee("Clock",G4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]],Y4=Ee("Code",q4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Ja=Ee("Copy",X4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],Q4=Ee("Cpu",J4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Lu=Ee("Download",Z4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Jw=Ee("EllipsisVertical",eM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Xc=Ee("ExternalLink",tM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Qw=Ee("EyeOff",rM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Zw=Ee("Eye",nM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]],Iu=Ee("FileCode",sM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]],wm=Ee("FilePen",iM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Or=Ee("FileText",oM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],lp=Ee("File",aM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],e1=Ee("Filter",lM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Ks=Ee("FolderOpen",cM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],t1=Ee("FolderPlus",uM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],ar=Ee("Folder",dM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],r1=Ee("GitBranch",hM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],pM=Ee("Github",fM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],jo=Ee("Globe",mM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Fx=Ee("History",gM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Sm=Ee("House",vM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],n1=Ee("Info",yM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xM=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],_M=Ee("Keyboard",xM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],s1=Ee("Layers",bM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],gt=Ee("LoaderCircle",wM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],i1=Ee("Monitor",SM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],zx=Ee("Moon",CM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],o1=Ee("Move",kM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ki=Ee("Package",jM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],NM=Ee("Palette",EM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Do=Ee("PanelsTopLeft",PM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Cm=Ee("PenLine",TM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],a1=Ee("Pencil",RM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],cu=Ee("Plug",AM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ft=Ee("Plus",MM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],Eo=Ee("Puzzle",DM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],yr=Ee("RefreshCw",LM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],OM=Ee("Rocket",IM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Lo=Ee("Save",BM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],dl=Ee("Search",FM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],ji=Ee("Server",zM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],$M=Ee("Settings2",HM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ei=Ee("Settings",VM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hl=Ee("Shield",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],gr=Ee("Sparkles",WM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],GM=Ee("Star",KM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],pf=Ee("Store",qM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Hx=Ee("Sun",YM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]],At=Ee("Terminal",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Gs=Ee("Trash2",JM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ou=Ee("TriangleAlert",QM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],cp=Ee("Upload",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],es=Ee("WandSparkles",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],l1=Ee("Wrench",tD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],km=Ee("X",rD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],c1=Ee("Zap",nD),sD="/api";async function Se(e,t={}){const r=`${sD}${e}`,n={headers:{"Content-Type":"application/json"},...t};t.body&&typeof t.body=="object"&&(n.body=JSON.stringify(t.body));const o=await fetch(r,n);if(!o.ok){const d=await o.json().catch(()=>({error:"Request failed"}));throw new Error(d.error||`HTTP ${o.status}`)}return o.json()}const Ce={async getProject(){return Se("/project")},async getSubprojects(e){return Se(`/subprojects?dir=${encodeURIComponent(e)}`)},async addManualSubproject(e,t){return Se("/subprojects/add",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async removeManualSubproject(e,t){return Se("/subprojects/remove",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async hideSubproject(e,t){return Se("/subprojects/hide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async unhideSubproject(e,t){return Se("/subprojects/unhide",{method:"POST",body:{projectDir:e,subprojectDir:t}})},async getHiddenSubprojects(e){return Se(`/subprojects/hidden?dir=${encodeURIComponent(e)}`)},async detectTemplate(e){return Se(`/detect-template?dir=${encodeURIComponent(e)}`)},async switchProject(e){return Se("/switch-project",{method:"POST",body:{dir:e}})},async getProjects(){return Se("/projects")},async addProject(e,t=null){return Se("/projects",{method:"POST",body:{path:e,name:t}})},async removeProject(e){return Se(`/projects/${e}`,{method:"DELETE"})},async setActiveProject(e){return Se("/projects/active",{method:"PUT",body:{id:e}})},async getConfigs(){return Se("/configs")},async updateConfig(e,t){return Se("/config",{method:"PUT",body:{dir:e,config:t}})},async getRegistry(){return Se("/registry")},async updateRegistry(e){return Se("/registry",{method:"PUT",body:e})},async getRules(){return Se("/rules")},async getRule(e){return Se(`/rule?path=${encodeURIComponent(e)}`)},async saveRule(e,t){return Se("/rule",{method:"PUT",body:{path:e,content:t}})},async createRule(e,t,r=""){return Se("/rule",{method:"POST",body:{dir:e,name:t,content:r}})},async deleteRule(e){return Se(`/rule?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getCommands(){return Se("/commands")},async getCommand(e){return Se(`/command?path=${encodeURIComponent(e)}`)},async saveCommand(e,t){return Se("/command",{method:"PUT",body:{path:e,content:t}})},async createCommand(e,t,r=""){return Se("/command",{method:"POST",body:{dir:e,name:t,content:r}})},async deleteCommand(e){return Se(`/command?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async getTemplates(){return Se("/templates")},async applyTemplate(e,t){return Se("/apply-template",{method:"POST",body:{template:e,dir:t}})},async applyConfig(e){return Se("/apply",{method:"POST",body:{dir:e}})},async getEnv(e){return Se(`/env?dir=${encodeURIComponent(e)}`)},async saveEnv(e,t){return Se("/env",{method:"PUT",body:{dir:e,content:t}})},async getFileHashes(){return Se("/file-hashes")},async checkVersion(){return Se("/version-check")},async performUpdate(e){return Se("/update",{method:"POST",body:e})},async reload(){return Se("/reload",{method:"POST"})},async searchGithub(e){return Se(`/search/github?q=${encodeURIComponent(e)}`)},async searchNpm(e){return Se(`/search/npm?q=${encodeURIComponent(e)}`)},async getMcpTools(e){const t=e?`?dir=${encodeURIComponent(e)}`:"";return Se(`/mcp-tools${t}`)},async getClaudeFolders(){return Se("/claude-folders")},async getIntermediatePaths(){return Se("/intermediate-paths")},async getClaudeFile(e){return Se(`/claude-file?path=${encodeURIComponent(e)}`)},async saveClaudeFile(e,t){return Se("/claude-file",{method:"PUT",body:{path:e,content:t}})},async deleteClaudeFile(e){return Se(`/claude-file?path=${encodeURIComponent(e)}`,{method:"DELETE"})},async createClaudeFile(e,t,r,n=""){return Se("/claude-file",{method:"POST",body:{dir:e,name:t,type:r,content:n}})},async initClaudeFolder(e){return Se("/init-claude-folder",{method:"POST",body:{dir:e}})},async deleteClaudeFolder(e){return Se("/delete-claude-folder",{method:"POST",body:{dir:e}})},async initClaudeFolderBatch(e){return Se("/init-claude-folder-batch",{method:"POST",body:{dirs:e}})},async applyTemplateToProjects(e,t){return Se("/apply-template-batch",{method:"POST",body:{templateId:e,dirs:t}})},async getSyncPreview(e,t="claude",r="antigravity"){return Se("/sync/preview",{method:"POST",body:{dir:e,source:t,target:r}})},async syncRules(e,t="claude",r="antigravity",n=null){return Se("/sync/rules",{method:"POST",body:{dir:e,source:t,target:r,files:n}})},async moveClaudeItem(e,t,r="copy",n=!1){return Se("/claude-move",{method:"POST",body:{sourcePath:e,targetDir:t,mode:r,merge:n}})},async renameClaudeFile(e,t){return Se("/claude-rename",{method:"POST",body:{oldPath:e,newName:t}})},async getMemory(){return Se("/memory")},async getMemoryFile(e){return Se(`/memory/file?path=${encodeURIComponent(e)}`)},async saveMemoryFile(e,t){return Se("/memory/file",{method:"PUT",body:{path:e,content:t}})},async addMemoryEntry(e,t,r="global"){return Se("/memory/entry",{method:"POST",body:{type:e,content:t,scope:r}})},async initProjectMemory(e){return Se("/memory/init",{method:"POST",body:{dir:e}})},async searchMemory(e){return Se(`/memory/search?q=${encodeURIComponent(e)}`)},async getSyncState(){return Se("/memory/sync")},async getClaudeSettings(){return Se("/claude-settings")},async saveClaudeSettings(e){return Se("/claude-settings",{method:"PUT",body:{settings:e}})},async getGeminiSettings(){return Se("/gemini-settings")},async saveGeminiSettings(e){return Se("/gemini-settings",{method:"PUT",body:e})},async getConfig(){return Se("/preferences")},async saveConfig(e){return Se("/preferences",{method:"PUT",body:e})},async browse(e,t="directory"){return Se("/browse",{method:"POST",body:{path:e,type:t}})},async markTemplateApplied(e,t){return Se("/mark-template",{method:"POST",body:{template:e,dir:t}})},async getVersion(){return Se("/version")},async getChangelog(){return Se("/changelog")},async restartServer(){return Se("/restart",{method:"POST"})},async getPlugins(){return Se("/plugins")},async installPlugin(e,t,r="user",n=null){return Se("/plugins/install",{method:"POST",body:{pluginId:e,marketplace:t,scope:r,projectDir:n}})},async uninstallPlugin(e){return Se("/plugins/uninstall",{method:"POST",body:{pluginId:e}})},async getMarketplaces(){return Se("/plugins/marketplaces")},async addMarketplace(e,t){return Se("/plugins/marketplaces",{method:"POST",body:{name:e,repo:t}})},async refreshMarketplace(e){return Se("/plugins/marketplaces/refresh",{method:"POST",body:{name:e}})}};function u1(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(r=u1(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function d1(){for(var e,t,r=0,n="",o=arguments.length;r<o;r++)(e=arguments[r])&&(t=u1(e))&&(n&&(n+=" "),n+=t);return n}const iD=(e,t)=>{const r=new Array(e.length+t.length);for(let n=0;n<e.length;n++)r[n]=e[n];for(let n=0;n<t.length;n++)r[e.length+n]=t[n];return r},oD=(e,t)=>({classGroupId:e,validator:t}),h1=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),uu="-",$x=[],aD="arbitrary..",lD=e=>{const t=uD(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return cD(c);const l=c.split(uu),u=l[0]===""&&l.length>1?1:0;return f1(l,u,t)},getConflictingClassGroupIds:(c,l)=>{if(l){const u=n[c],f=r[c];return u?f?iD(f,u):u:f||$x}return r[c]||$x}}},f1=(e,t,r)=>{if(e.length-t===0)return r.classGroupId;const o=e[t],d=r.nextPart.get(o);if(d){const f=f1(e,t+1,d);if(f)return f}const c=r.validators;if(c===null)return;const l=t===0?e.join(uu):e.slice(t).join(uu),u=c.length;for(let f=0;f<u;f++){const p=c[f];if(p.validator(l))return p.classGroupId}},cD=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),r=t.indexOf(":"),n=t.slice(0,r);return n?aD+n:void 0})(),uD=e=>{const{theme:t,classGroups:r}=e;return dD(r,t)},dD=(e,t)=>{const r=h1();for(const n in e){const o=e[n];jm(o,r,n,t)}return r},jm=(e,t,r,n)=>{const o=e.length;for(let d=0;d<o;d++){const c=e[d];hD(c,t,r,n)}},hD=(e,t,r,n)=>{if(typeof e=="string"){fD(e,t,r);return}if(typeof e=="function"){pD(e,t,r,n);return}mD(e,t,r,n)},fD=(e,t,r)=>{const n=e===""?t:p1(t,e);n.classGroupId=r},pD=(e,t,r,n)=>{if(gD(e)){jm(e(n),t,r,n);return}t.validators===null&&(t.validators=[]),t.validators.push(oD(r,e))},mD=(e,t,r,n)=>{const o=Object.entries(e),d=o.length;for(let c=0;c<d;c++){const[l,u]=o[c];jm(u,p1(t,l),r,n)}},p1=(e,t)=>{let r=e;const n=t.split(uu),o=n.length;for(let d=0;d<o;d++){const c=n[d];let l=r.nextPart.get(c);l||(l=h1(),r.nextPart.set(c,l)),r=l}return r},gD=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,vD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null);const o=(d,c)=>{r[d]=c,t++,t>e&&(t=0,n=r,r=Object.create(null))};return{get(d){let c=r[d];if(c!==void 0)return c;if((c=n[d])!==void 0)return o(d,c),c},set(d,c){d in r?r[d]=c:o(d,c)}}},up="!",Vx=":",yD=[],Ux=(e,t,r,n,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:o}),xD=e=>{const{prefix:t,experimentalParseClassName:r}=e;let n=o=>{const d=[];let c=0,l=0,u=0,f;const p=o.length;for(let w=0;w<p;w++){const y=o[w];if(c===0&&l===0){if(y===Vx){d.push(o.slice(u,w)),u=w+1;continue}if(y==="/"){f=w;continue}}y==="["?c++:y==="]"?c--:y==="("?l++:y===")"&&l--}const h=d.length===0?o:o.slice(u);let v=h,_=!1;h.endsWith(up)?(v=h.slice(0,-1),_=!0):h.startsWith(up)&&(v=h.slice(1),_=!0);const k=f&&f>u?f-u:void 0;return Ux(d,_,v,k)};if(t){const o=t+Vx,d=n;n=c=>c.startsWith(o)?d(c.slice(o.length)):Ux(yD,!1,c,void 0,!0)}if(r){const o=n;n=d=>r({className:d,parseClassName:o})}return n},_D=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((r,n)=>{t.set(r,1e6+n)}),r=>{const n=[];let o=[];for(let d=0;d<r.length;d++){const c=r[d],l=c[0]==="[",u=t.has(c);l||u?(o.length>0&&(o.sort(),n.push(...o),o=[]),n.push(c)):o.push(c)}return o.length>0&&(o.sort(),n.push(...o)),n}},bD=e=>({cache:vD(e.cacheSize),parseClassName:xD(e),sortModifiers:_D(e),...lD(e)}),wD=/\s+/,SD=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:o,sortModifiers:d}=t,c=[],l=e.trim().split(wD);let u="";for(let f=l.length-1;f>=0;f-=1){const p=l[f],{isExternal:h,modifiers:v,hasImportantModifier:_,baseClassName:k,maybePostfixModifierPosition:w}=r(p);if(h){u=p+(u.length>0?" "+u:u);continue}let y=!!w,x=n(y?k.substring(0,w):k);if(!x){if(!y){u=p+(u.length>0?" "+u:u);continue}if(x=n(k),!x){u=p+(u.length>0?" "+u:u);continue}y=!1}const g=v.length===0?"":v.length===1?v[0]:d(v).join(":"),b=_?g+up:g,j=b+x;if(c.indexOf(j)>-1)continue;c.push(j);const N=o(x,y);for(let T=0;T<N.length;++T){const P=N[T];c.push(b+P)}u=p+(u.length>0?" "+u:u)}return u},CD=(...e)=>{let t=0,r,n,o="";for(;t<e.length;)(r=e[t++])&&(n=m1(r))&&(o&&(o+=" "),o+=n);return o},m1=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=m1(e[n]))&&(r&&(r+=" "),r+=t);return r},kD=(e,...t)=>{let r,n,o,d;const c=u=>{const f=t.reduce((p,h)=>h(p),e());return r=bD(f),n=r.cache.get,o=r.cache.set,d=l,l(u)},l=u=>{const f=n(u);if(f)return f;const p=SD(u,r);return o(u,p),p};return d=c,(...u)=>d(CD(...u))},jD=[],Ut=e=>{const t=r=>r[e]||jD;return t.isThemeGetter=!0,t},g1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,v1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ED=/^\d+\/\d+$/,ND=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,PD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,RD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,AD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,io=e=>ED.test(e),et=e=>!!e&&!Number.isNaN(Number(e)),Os=e=>!!e&&Number.isInteger(Number(e)),mf=e=>e.endsWith("%")&&et(e.slice(0,-1)),Zn=e=>ND.test(e),MD=()=>!0,DD=e=>PD.test(e)&&!TD.test(e),y1=()=>!1,LD=e=>RD.test(e),ID=e=>AD.test(e),OD=e=>!Le(e)&&!Ie(e),BD=e=>Io(e,b1,y1),Le=e=>g1.test(e),xi=e=>Io(e,w1,DD),gf=e=>Io(e,VD,et),Wx=e=>Io(e,x1,y1),FD=e=>Io(e,_1,ID),Ic=e=>Io(e,S1,LD),Ie=e=>v1.test(e),Na=e=>Oo(e,w1),zD=e=>Oo(e,UD),Kx=e=>Oo(e,x1),HD=e=>Oo(e,b1),$D=e=>Oo(e,_1),Oc=e=>Oo(e,S1,!0),Io=(e,t,r)=>{const n=g1.exec(e);return n?n[1]?t(n[1]):r(n[2]):!1},Oo=(e,t,r=!1)=>{const n=v1.exec(e);return n?n[1]?t(n[1]):r:!1},x1=e=>e==="position"||e==="percentage",_1=e=>e==="image"||e==="url",b1=e=>e==="length"||e==="size"||e==="bg-size",w1=e=>e==="length",VD=e=>e==="number",UD=e=>e==="family-name",S1=e=>e==="shadow",WD=()=>{const e=Ut("color"),t=Ut("font"),r=Ut("text"),n=Ut("font-weight"),o=Ut("tracking"),d=Ut("leading"),c=Ut("breakpoint"),l=Ut("container"),u=Ut("spacing"),f=Ut("radius"),p=Ut("shadow"),h=Ut("inset-shadow"),v=Ut("text-shadow"),_=Ut("drop-shadow"),k=Ut("blur"),w=Ut("perspective"),y=Ut("aspect"),x=Ut("ease"),g=Ut("animate"),b=()=>["auto","avoid","all","avoid-page","page","left","right","column"],j=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],N=()=>[...j(),Ie,Le],T=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto","contain","none"],E=()=>[Ie,Le,u],L=()=>[io,"full","auto",...E()],z=()=>[Os,"none","subgrid",Ie,Le],F=()=>["auto",{span:["full",Os,Ie,Le]},Os,Ie,Le],V=()=>[Os,"auto",Ie,Le],U=()=>["auto","min","max","fr",Ie,Le],X=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],K=()=>["start","end","center","stretch","center-safe","end-safe"],q=()=>["auto",...E()],G=()=>[io,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...E()],B=()=>[e,Ie,Le],D=()=>[...j(),Kx,Wx,{position:[Ie,Le]}],A=()=>["no-repeat",{repeat:["","x","y","space","round"]}],I=()=>["auto","cover","contain",HD,BD,{size:[Ie,Le]}],W=()=>[mf,Na,xi],O=()=>["","none","full",f,Ie,Le],re=()=>["",et,Na,xi],ue=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[et,mf,Kx,Wx],H=()=>["","none",k,Ie,Le],se=()=>["none",et,Ie,Le],ee=()=>["none",et,Ie,Le],Q=()=>[et,Ie,Le],ne=()=>[io,"full",...E()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zn],breakpoint:[Zn],color:[MD],container:[Zn],"drop-shadow":[Zn],ease:["in","out","in-out"],font:[OD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zn],shadow:[Zn],spacing:["px",et],text:[Zn],"text-shadow":[Zn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",io,Le,Ie,y]}],container:["container"],columns:[{columns:[et,Le,Ie,l]}],"break-after":[{"break-after":b()}],"break-before":[{"break-before":b()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:N()}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:L()}],"inset-x":[{"inset-x":L()}],"inset-y":[{"inset-y":L()}],start:[{start:L()}],end:[{end:L()}],top:[{top:L()}],right:[{right:L()}],bottom:[{bottom:L()}],left:[{left:L()}],visibility:["visible","invisible","collapse"],z:[{z:[Os,"auto",Ie,Le]}],basis:[{basis:[io,"full","auto",l,...E()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[et,io,"auto","initial","none",Le]}],grow:[{grow:["",et,Ie,Le]}],shrink:[{shrink:["",et,Ie,Le]}],order:[{order:[Os,"first","last","none",Ie,Le]}],"grid-cols":[{"grid-cols":z()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":z()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":U()}],"auto-rows":[{"auto-rows":U()}],gap:[{gap:E()}],"gap-x":[{"gap-x":E()}],"gap-y":[{"gap-y":E()}],"justify-content":[{justify:[...X(),"normal"]}],"justify-items":[{"justify-items":[...K(),"normal"]}],"justify-self":[{"justify-self":["auto",...K()]}],"align-content":[{content:["normal",...X()]}],"align-items":[{items:[...K(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...K(),{baseline:["","last"]}]}],"place-content":[{"place-content":X()}],"place-items":[{"place-items":[...K(),"baseline"]}],"place-self":[{"place-self":["auto",...K()]}],p:[{p:E()}],px:[{px:E()}],py:[{py:E()}],ps:[{ps:E()}],pe:[{pe:E()}],pt:[{pt:E()}],pr:[{pr:E()}],pb:[{pb:E()}],pl:[{pl:E()}],m:[{m:q()}],mx:[{mx:q()}],my:[{my:q()}],ms:[{ms:q()}],me:[{me:q()}],mt:[{mt:q()}],mr:[{mr:q()}],mb:[{mb:q()}],ml:[{ml:q()}],"space-x":[{"space-x":E()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":E()}],"space-y-reverse":["space-y-reverse"],size:[{size:G()}],w:[{w:[l,"screen",...G()]}],"min-w":[{"min-w":[l,"screen","none",...G()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[c]},...G()]}],h:[{h:["screen","lh",...G()]}],"min-h":[{"min-h":["screen","lh","none",...G()]}],"max-h":[{"max-h":["screen","lh",...G()]}],"font-size":[{text:["base",r,Na,xi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,Ie,gf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",mf,Le]}],"font-family":[{font:[zD,Le,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ie,Le]}],"line-clamp":[{"line-clamp":[et,"none",Ie,gf]}],leading:[{leading:[d,...E()]}],"list-image":[{"list-image":["none",Ie,Le]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ie,Le]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[et,"from-font","auto",Ie,xi]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[et,"auto",Ie,Le]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie,Le]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie,Le]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:D()}],"bg-repeat":[{bg:A()}],"bg-size":[{bg:I()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Os,Ie,Le],radial:["",Ie,Le],conic:[Os,Ie,Le]},$D,FD]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:O()}],"rounded-s":[{"rounded-s":O()}],"rounded-e":[{"rounded-e":O()}],"rounded-t":[{"rounded-t":O()}],"rounded-r":[{"rounded-r":O()}],"rounded-b":[{"rounded-b":O()}],"rounded-l":[{"rounded-l":O()}],"rounded-ss":[{"rounded-ss":O()}],"rounded-se":[{"rounded-se":O()}],"rounded-ee":[{"rounded-ee":O()}],"rounded-es":[{"rounded-es":O()}],"rounded-tl":[{"rounded-tl":O()}],"rounded-tr":[{"rounded-tr":O()}],"rounded-br":[{"rounded-br":O()}],"rounded-bl":[{"rounded-bl":O()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[et,Ie,Le]}],"outline-w":[{outline:["",et,Na,xi]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",p,Oc,Ic]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",h,Oc,Ic]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[et,xi]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",v,Oc,Ic]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[et,Ie,Le]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[et]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Ie,Le]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":j()}],"mask-image-conic-pos":[{"mask-conic":[et]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:D()}],"mask-repeat":[{mask:A()}],"mask-size":[{mask:I()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ie,Le]}],filter:[{filter:["","none",Ie,Le]}],blur:[{blur:H()}],brightness:[{brightness:[et,Ie,Le]}],contrast:[{contrast:[et,Ie,Le]}],"drop-shadow":[{"drop-shadow":["","none",_,Oc,Ic]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",et,Ie,Le]}],"hue-rotate":[{"hue-rotate":[et,Ie,Le]}],invert:[{invert:["",et,Ie,Le]}],saturate:[{saturate:[et,Ie,Le]}],sepia:[{sepia:["",et,Ie,Le]}],"backdrop-filter":[{"backdrop-filter":["","none",Ie,Le]}],"backdrop-blur":[{"backdrop-blur":H()}],"backdrop-brightness":[{"backdrop-brightness":[et,Ie,Le]}],"backdrop-contrast":[{"backdrop-contrast":[et,Ie,Le]}],"backdrop-grayscale":[{"backdrop-grayscale":["",et,Ie,Le]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[et,Ie,Le]}],"backdrop-invert":[{"backdrop-invert":["",et,Ie,Le]}],"backdrop-opacity":[{"backdrop-opacity":[et,Ie,Le]}],"backdrop-saturate":[{"backdrop-saturate":[et,Ie,Le]}],"backdrop-sepia":[{"backdrop-sepia":["",et,Ie,Le]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":E()}],"border-spacing-x":[{"border-spacing-x":E()}],"border-spacing-y":[{"border-spacing-y":E()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ie,Le]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[et,"initial",Ie,Le]}],ease:[{ease:["linear","initial",x,Ie,Le]}],delay:[{delay:[et,Ie,Le]}],animate:[{animate:["none",g,Ie,Le]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,Ie,Le]}],"perspective-origin":[{"perspective-origin":N()}],rotate:[{rotate:se()}],"rotate-x":[{"rotate-x":se()}],"rotate-y":[{"rotate-y":se()}],"rotate-z":[{"rotate-z":se()}],scale:[{scale:ee()}],"scale-x":[{"scale-x":ee()}],"scale-y":[{"scale-y":ee()}],"scale-z":[{"scale-z":ee()}],"scale-3d":["scale-3d"],skew:[{skew:Q()}],"skew-x":[{"skew-x":Q()}],"skew-y":[{"skew-y":Q()}],transform:[{transform:[Ie,Le,"","none","gpu","cpu"]}],"transform-origin":[{origin:N()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ne()}],"translate-x":[{"translate-x":ne()}],"translate-y":[{"translate-y":ne()}],"translate-z":[{"translate-z":ne()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie,Le]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie,Le]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[et,Na,xi,gf]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},KD=kD(WD);function je(...e){return KD(d1(e))}function Gx(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function fs(...e){return t=>{let r=!1;const n=e.map(o=>{const d=Gx(o,t);return!r&&typeof d=="function"&&(r=!0),d});if(r)return()=>{for(let o=0;o<n.length;o++){const d=n[o];typeof d=="function"?d():Gx(e[o],null)}}}}function Ye(...e){return C.useCallback(fs(...e),e)}var GD=Symbol.for("react.lazy"),du=Fp[" use ".trim().toString()];function qD(e){return typeof e=="object"&&e!==null&&"then"in e}function C1(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===GD&&"_payload"in e&&qD(e._payload)}function Em(e){const t=XD(e),r=C.forwardRef((n,o)=>{let{children:d,...c}=n;C1(d)&&typeof du=="function"&&(d=du(d._payload));const l=C.Children.toArray(d),u=l.find(QD);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}var YD=Em("Slot");function XD(e){const t=C.forwardRef((r,n)=>{let{children:o,...d}=r;if(C1(o)&&typeof du=="function"&&(o=du(o._payload)),C.isValidElement(o)){const c=e5(o),l=ZD(d,o.props);return o.type!==C.Fragment&&(l.ref=n?fs(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var JD=Symbol("radix.slottable");function QD(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===JD}function ZD(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function e5(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const qx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Yx=d1,Bu=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return Yx(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:o,defaultVariants:d}=t,c=Object.keys(o).map(f=>{const p=r==null?void 0:r[f],h=d==null?void 0:d[f];if(p===null)return null;const v=qx(p)||qx(h);return o[f][v]}),l=r&&Object.entries(r).reduce((f,p)=>{let[h,v]=p;return v===void 0||(f[h]=v),f},{}),u=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((f,p)=>{let{class:h,className:v,..._}=p;return Object.entries(_).every(k=>{let[w,y]=k;return Array.isArray(y)?y.includes({...d,...l}[w]):{...d,...l}[w]===y})?[...f,h,v]:f},[]);return Yx(e,c,u,r==null?void 0:r.class,r==null?void 0:r.className)},Nm=Bu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pe=C.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...o},d)=>{const c=n?YD:"button";return i.jsx(c,{className:je(Nm({variant:t,size:r,className:e})),ref:d,...o})});pe.displayName="Button";const ot=C.forwardRef(({className:e,type:t,...r},n)=>i.jsx("input",{type:t,className:je("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));ot.displayName="Input";const mt=C.forwardRef(({className:e,...t},r)=>i.jsx("textarea",{className:je("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...t}));mt.displayName="Textarea";var t5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],r5=t5.reduce((e,t)=>{const r=Em(`Primitive.${t}`),n=C.forwardRef((o,d)=>{const{asChild:c,...l}=o,u=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:d})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),n5="Label",k1=C.forwardRef((e,t)=>i.jsx(r5.label,{...e,ref:t,onMouseDown:r=>{var o;r.target.closest("button, input, select, textarea")||((o=e.onMouseDown)==null||o.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));k1.displayName=n5;var j1=k1;const s5=Bu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ot=C.forwardRef(({className:e,...t},r)=>i.jsx(j1,{ref:r,className:je(s5(),e),...t}));Ot.displayName=j1.displayName;const i5=Bu("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function rt({className:e,variant:t,...r}){return i.jsx("div",{className:je(i5({variant:t}),e),...r})}function ke(e,t,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e==null||e(o),r===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function o5(e,t){const r=C.createContext(t),n=d=>{const{children:c,...l}=d,u=C.useMemo(()=>l,Object.values(l));return i.jsx(r.Provider,{value:u,children:c})};n.displayName=e+"Provider";function o(d){const c=C.useContext(r);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[n,o]}function zr(e,t=[]){let r=[];function n(d,c){const l=C.createContext(c),u=r.length;r=[...r,c];const f=h=>{var x;const{scope:v,children:_,...k}=h,w=((x=v==null?void 0:v[e])==null?void 0:x[u])||l,y=C.useMemo(()=>k,Object.values(k));return i.jsx(w.Provider,{value:y,children:_})};f.displayName=d+"Provider";function p(h,v){var w;const _=((w=v==null?void 0:v[e])==null?void 0:w[u])||l,k=C.useContext(_);if(k)return k;if(c!==void 0)return c;throw new Error(`\`${h}\` must be used within \`${d}\``)}return[f,p]}const o=()=>{const d=r.map(c=>C.createContext(c));return function(l){const u=(l==null?void 0:l[e])||d;return C.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return o.scopeName=e,[n,a5(o,...t)]}function a5(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(d){const c=n.reduce((l,{useScope:u,scopeName:f})=>{const h=u(d)[`__scope${f}`];return{...l,...h}},{});return C.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return r.scopeName=t.scopeName,r}var er=globalThis!=null&&globalThis.document?C.useLayoutEffect:()=>{},l5=Fp[" useInsertionEffect ".trim().toString()]||er;function Sn({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[o,d,c]=c5({defaultProp:t,onChange:r}),l=e!==void 0,u=l?e:o;{const p=C.useRef(e!==void 0);C.useEffect(()=>{const h=p.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=l},[l,n])}const f=C.useCallback(p=>{var h;if(l){const v=u5(p)?p(e):p;v!==e&&((h=c.current)==null||h.call(c,v))}else d(p)},[l,e,d,c]);return[u,f]}function c5({defaultProp:e,onChange:t}){const[r,n]=C.useState(e),o=C.useRef(r),d=C.useRef(t);return l5(()=>{d.current=t},[t]),C.useEffect(()=>{var c;o.current!==r&&((c=d.current)==null||c.call(d,r),o.current=r)},[r,o]),[r,n,d]}function u5(e){return typeof e=="function"}function Pm(e){const t=C.useRef({value:e,previous:e});return C.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Tm(e){const[t,r]=C.useState(void 0);return er(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const d=o[0];let c,l;if("borderBoxSize"in d){const u=d.borderBoxSize,f=Array.isArray(u)?u[0]:u;c=f.inlineSize,l=f.blockSize}else c=e.offsetWidth,l=e.offsetHeight;r({width:c,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}function d5(e){const t=h5(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(p5);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function h5(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=g5(o),l=m5(d,o.props);return o.type!==C.Fragment&&(l.ref=n?fs(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var f5=Symbol("radix.slottable");function p5(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===f5}function m5(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function g5(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var v5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ve=v5.reduce((e,t)=>{const r=d5(`Primitive.${t}`),n=C.forwardRef((o,d)=>{const{asChild:c,...l}=o,u=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:d})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function E1(e,t){e&&ol.flushSync(()=>e.dispatchEvent(t))}var Fu="Switch",[y5]=zr(Fu),[x5,_5]=y5(Fu),N1=C.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:o,defaultChecked:d,required:c,disabled:l,value:u="on",onCheckedChange:f,form:p,...h}=e,[v,_]=C.useState(null),k=Ye(t,b=>_(b)),w=C.useRef(!1),y=v?p||!!v.closest("form"):!0,[x,g]=Sn({prop:o,defaultProp:d??!1,onChange:f,caller:Fu});return i.jsxs(x5,{scope:r,checked:x,disabled:l,children:[i.jsx(Ve.button,{type:"button",role:"switch","aria-checked":x,"aria-required":c,"data-state":A1(x),"data-disabled":l?"":void 0,disabled:l,value:u,...h,ref:k,onClick:ke(e.onClick,b=>{g(j=>!j),y&&(w.current=b.isPropagationStopped(),w.current||b.stopPropagation())})}),y&&i.jsx(R1,{control:v,bubbles:!w.current,name:n,value:u,checked:x,required:c,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});N1.displayName=Fu;var P1="SwitchThumb",T1=C.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,o=_5(P1,r);return i.jsx(Ve.span,{"data-state":A1(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:t})});T1.displayName=P1;var b5="SwitchBubbleInput",R1=C.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...o},d)=>{const c=C.useRef(null),l=Ye(c,d),u=Pm(r),f=Tm(t);return C.useEffect(()=>{const p=c.current;if(!p)return;const h=window.HTMLInputElement.prototype,_=Object.getOwnPropertyDescriptor(h,"checked").set;if(u!==r&&_){const k=new Event("click",{bubbles:n});_.call(p,r),p.dispatchEvent(k)}},[u,r,n]),i.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...o,tabIndex:-1,ref:l,style:{...o.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});R1.displayName=b5;function A1(e){return e?"checked":"unchecked"}var M1=N1,w5=T1;const dt=C.forwardRef(({className:e,...t},r)=>i.jsx(M1,{className:je("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:i.jsx(w5,{className:je("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));dt.displayName=M1.displayName;function Xx(e){const t=S5(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(k5);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function S5(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=E5(o),l=j5(d,o.props);return o.type!==C.Fragment&&(l.ref=n?fs(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var C5=Symbol("radix.slottable");function k5(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===C5}function j5(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function E5(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Rm(e){const t=e+"CollectionProvider",[r,n]=zr(t),[o,d]=r(t,{collectionRef:{current:null},itemMap:new Map}),c=w=>{const{scope:y,children:x}=w,g=we.useRef(null),b=we.useRef(new Map).current;return i.jsx(o,{scope:y,itemMap:b,collectionRef:g,children:x})};c.displayName=t;const l=e+"CollectionSlot",u=Xx(l),f=we.forwardRef((w,y)=>{const{scope:x,children:g}=w,b=d(l,x),j=Ye(y,b.collectionRef);return i.jsx(u,{ref:j,children:g})});f.displayName=l;const p=e+"CollectionItemSlot",h="data-radix-collection-item",v=Xx(p),_=we.forwardRef((w,y)=>{const{scope:x,children:g,...b}=w,j=we.useRef(null),N=Ye(y,j),T=d(p,x);return we.useEffect(()=>(T.itemMap.set(j,{ref:j,...b}),()=>void T.itemMap.delete(j))),i.jsx(v,{[h]:"",ref:N,children:g})});_.displayName=p;function k(w){const y=d(e+"CollectionConsumer",w);return we.useCallback(()=>{const g=y.collectionRef.current;if(!g)return[];const b=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(y.itemMap.values()).sort((T,P)=>b.indexOf(T.ref.current)-b.indexOf(P.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:c,Slot:f,ItemSlot:_},k,n]}var N5=Fp[" useId ".trim().toString()]||(()=>{}),P5=0;function Br(e){const[t,r]=C.useState(N5());return er(()=>{r(n=>n??String(P5++))},[e]),t?`radix-${t}`:""}function Qt(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}var T5=C.createContext(void 0);function fl(e){const t=C.useContext(T5);return e||t||"ltr"}var vf="rovingFocusGroup.onEntryFocus",R5={bubbles:!1,cancelable:!0},pl="RovingFocusGroup",[dp,D1,A5]=Rm(pl),[M5,zu]=zr(pl,[A5]),[D5,L5]=M5(pl),L1=C.forwardRef((e,t)=>i.jsx(dp.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(dp.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(I5,{...e,ref:t})})}));L1.displayName=pl;var I5=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:o=!1,dir:d,currentTabStopId:c,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...h}=e,v=C.useRef(null),_=Ye(t,v),k=fl(d),[w,y]=Sn({prop:c,defaultProp:l??null,onChange:u,caller:pl}),[x,g]=C.useState(!1),b=Qt(f),j=D1(r),N=C.useRef(!1),[T,P]=C.useState(0);return C.useEffect(()=>{const E=v.current;if(E)return E.addEventListener(vf,b),()=>E.removeEventListener(vf,b)},[b]),i.jsx(D5,{scope:r,orientation:n,dir:k,loop:o,currentTabStopId:w,onItemFocus:C.useCallback(E=>y(E),[y]),onItemShiftTab:C.useCallback(()=>g(!0),[]),onFocusableItemAdd:C.useCallback(()=>P(E=>E+1),[]),onFocusableItemRemove:C.useCallback(()=>P(E=>E-1),[]),children:i.jsx(Ve.div,{tabIndex:x||T===0?-1:0,"data-orientation":n,...h,ref:_,style:{outline:"none",...e.style},onMouseDown:ke(e.onMouseDown,()=>{N.current=!0}),onFocus:ke(e.onFocus,E=>{const L=!N.current;if(E.target===E.currentTarget&&L&&!x){const z=new CustomEvent(vf,R5);if(E.currentTarget.dispatchEvent(z),!z.defaultPrevented){const F=j().filter(q=>q.focusable),V=F.find(q=>q.active),U=F.find(q=>q.id===w),K=[V,U,...F].filter(Boolean).map(q=>q.ref.current);B1(K,p)}}N.current=!1}),onBlur:ke(e.onBlur,()=>g(!1))})})}),I1="RovingFocusGroupItem",O1=C.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:o=!1,tabStopId:d,children:c,...l}=e,u=Br(),f=d||u,p=L5(I1,r),h=p.currentTabStopId===f,v=D1(r),{onFocusableItemAdd:_,onFocusableItemRemove:k,currentTabStopId:w}=p;return C.useEffect(()=>{if(n)return _(),()=>k()},[n,_,k]),i.jsx(dp.ItemSlot,{scope:r,id:f,focusable:n,active:o,children:i.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":p.orientation,...l,ref:t,onMouseDown:ke(e.onMouseDown,y=>{n?p.onItemFocus(f):y.preventDefault()}),onFocus:ke(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:ke(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){p.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const x=F5(y,p.orientation,p.dir);if(x!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let b=v().filter(j=>j.focusable).map(j=>j.ref.current);if(x==="last")b.reverse();else if(x==="prev"||x==="next"){x==="prev"&&b.reverse();const j=b.indexOf(y.currentTarget);b=p.loop?z5(b,j+1):b.slice(j+1)}setTimeout(()=>B1(b))}}),children:typeof c=="function"?c({isCurrentTabStop:h,hasTabStop:w!=null}):c})})});O1.displayName=I1;var O5={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function B5(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function F5(e,t,r){const n=B5(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return O5[n]}function B1(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function z5(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var F1=L1,z1=O1;function H5(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var cr=e=>{const{present:t,children:r}=e,n=$5(t),o=typeof r=="function"?r({present:n.isPresent}):C.Children.only(r),d=Ye(n.ref,V5(o));return typeof r=="function"||n.isPresent?C.cloneElement(o,{ref:d}):null};cr.displayName="Presence";function $5(e){const[t,r]=C.useState(),n=C.useRef(null),o=C.useRef(e),d=C.useRef("none"),c=e?"mounted":"unmounted",[l,u]=H5(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return C.useEffect(()=>{const f=Bc(n.current);d.current=l==="mounted"?f:"none"},[l]),er(()=>{const f=n.current,p=o.current;if(p!==e){const v=d.current,_=Bc(f);e?u("MOUNT"):_==="none"||(f==null?void 0:f.display)==="none"?u("UNMOUNT"):u(p&&v!==_?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),er(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,h=_=>{const w=Bc(n.current).includes(CSS.escape(_.animationName));if(_.target===t&&w&&(u("ANIMATION_END"),!o.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},v=_=>{_.target===t&&(d.current=Bc(n.current))};return t.addEventListener("animationstart",v),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",v),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:C.useCallback(f=>{n.current=f?getComputedStyle(f):null,r(f)},[])}}function Bc(e){return(e==null?void 0:e.animationName)||"none"}function V5(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Hu="Tabs",[U5]=zr(Hu,[zu]),H1=zu(),[W5,Am]=U5(Hu),$1=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:o,defaultValue:d,orientation:c="horizontal",dir:l,activationMode:u="automatic",...f}=e,p=fl(l),[h,v]=Sn({prop:n,onChange:o,defaultProp:d??"",caller:Hu});return i.jsx(W5,{scope:r,baseId:Br(),value:h,onValueChange:v,orientation:c,dir:p,activationMode:u,children:i.jsx(Ve.div,{dir:p,"data-orientation":c,...f,ref:t})})});$1.displayName=Hu;var V1="TabsList",U1=C.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...o}=e,d=Am(V1,r),c=H1(r);return i.jsx(F1,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:n,children:i.jsx(Ve.div,{role:"tablist","aria-orientation":d.orientation,...o,ref:t})})});U1.displayName=V1;var W1="TabsTrigger",K1=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:o=!1,...d}=e,c=Am(W1,r),l=H1(r),u=Y1(c.baseId,n),f=X1(c.baseId,n),p=n===c.value;return i.jsx(z1,{asChild:!0,...l,focusable:!o,active:p,children:i.jsx(Ve.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...d,ref:t,onMouseDown:ke(e.onMouseDown,h=>{!o&&h.button===0&&h.ctrlKey===!1?c.onValueChange(n):h.preventDefault()}),onKeyDown:ke(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&c.onValueChange(n)}),onFocus:ke(e.onFocus,()=>{const h=c.activationMode!=="manual";!p&&!o&&h&&c.onValueChange(n)})})})});K1.displayName=W1;var G1="TabsContent",q1=C.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:o,children:d,...c}=e,l=Am(G1,r),u=Y1(l.baseId,n),f=X1(l.baseId,n),p=n===l.value,h=C.useRef(p);return C.useEffect(()=>{const v=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(v)},[]),i.jsx(cr,{present:o||p,children:({present:v})=>i.jsx(Ve.div,{"data-state":p?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!v,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:v&&d})})});q1.displayName=G1;function Y1(e,t){return`${e}-trigger-${t}`}function X1(e,t){return`${e}-content-${t}`}var K5=$1,J1=U1,Q1=K1,Z1=q1;const $u=K5,ml=C.forwardRef(({className:e,...t},r)=>i.jsx(J1,{ref:r,className:je("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));ml.displayName=J1.displayName;const wn=C.forwardRef(({className:e,...t},r)=>i.jsx(Q1,{ref:r,className:je("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));wn.displayName=Q1.displayName;const ts=C.forwardRef(({className:e,...t},r)=>i.jsx(Z1,{ref:r,className:je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));ts.displayName=Z1.displayName;function hp(e,[t,r]){return Math.min(r,Math.max(t,e))}function G5(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e);C.useEffect(()=>{const n=o=>{o.key==="Escape"&&r(o)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var q5="DismissableLayer",fp="dismissableLayer.update",Y5="dismissableLayer.pointerDownOutside",X5="dismissableLayer.focusOutside",Jx,eS=C.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gl=C.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:o,onFocusOutside:d,onInteractOutside:c,onDismiss:l,...u}=e,f=C.useContext(eS),[p,h]=C.useState(null),v=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,_]=C.useState({}),k=Ye(t,P=>h(P)),w=Array.from(f.layers),[y]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),x=w.indexOf(y),g=p?w.indexOf(p):-1,b=f.layersWithOutsidePointerEventsDisabled.size>0,j=g>=x,N=Z5(P=>{const E=P.target,L=[...f.branches].some(z=>z.contains(E));!j||L||(o==null||o(P),c==null||c(P),P.defaultPrevented||l==null||l())},v),T=eL(P=>{const E=P.target;[...f.branches].some(z=>z.contains(E))||(d==null||d(P),c==null||c(P),P.defaultPrevented||l==null||l())},v);return G5(P=>{g===f.layers.size-1&&(n==null||n(P),!P.defaultPrevented&&l&&(P.preventDefault(),l()))},v),C.useEffect(()=>{if(p)return r&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(Jx=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),Qx(),()=>{r&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=Jx)}},[p,v,r,f]),C.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),Qx())},[p,f]),C.useEffect(()=>{const P=()=>_({});return document.addEventListener(fp,P),()=>document.removeEventListener(fp,P)},[]),i.jsx(Ve.div,{...u,ref:k,style:{pointerEvents:b?j?"auto":"none":void 0,...e.style},onFocusCapture:ke(e.onFocusCapture,T.onFocusCapture),onBlurCapture:ke(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:ke(e.onPointerDownCapture,N.onPointerDownCapture)})});gl.displayName=q5;var J5="DismissableLayerBranch",Q5=C.forwardRef((e,t)=>{const r=C.useContext(eS),n=C.useRef(null),o=Ye(t,n);return C.useEffect(()=>{const d=n.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),i.jsx(Ve.div,{...e,ref:o})});Q5.displayName=J5;function Z5(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=C.useRef(!1),o=C.useRef(()=>{});return C.useEffect(()=>{const d=l=>{if(l.target&&!n.current){let u=function(){tS(Y5,r,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);n.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",d),t.removeEventListener("click",o.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function eL(e,t=globalThis==null?void 0:globalThis.document){const r=Qt(e),n=C.useRef(!1);return C.useEffect(()=>{const o=d=>{d.target&&!n.current&&tS(X5,r,{originalEvent:d},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Qx(){const e=new CustomEvent(fp);document.dispatchEvent(e)}function tS(e,t,r,{discrete:n}){const o=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&o.addEventListener(e,t,{once:!0}),n?E1(o,d):o.dispatchEvent(d)}var yf=0;function Mm(){C.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Zx()),document.body.insertAdjacentElement("beforeend",e[1]??Zx()),yf++,()=>{yf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),yf--}},[])}function Zx(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var xf="focusScope.autoFocusOnMount",_f="focusScope.autoFocusOnUnmount",e_={bubbles:!1,cancelable:!0},tL="FocusScope",Vu=C.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:o,onUnmountAutoFocus:d,...c}=e,[l,u]=C.useState(null),f=Qt(o),p=Qt(d),h=C.useRef(null),v=Ye(t,w=>u(w)),_=C.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;C.useEffect(()=>{if(n){let w=function(b){if(_.paused||!l)return;const j=b.target;l.contains(j)?h.current=j:zs(h.current,{select:!0})},y=function(b){if(_.paused||!l)return;const j=b.relatedTarget;j!==null&&(l.contains(j)||zs(h.current,{select:!0}))},x=function(b){if(document.activeElement===document.body)for(const N of b)N.removedNodes.length>0&&zs(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",y);const g=new MutationObserver(x);return l&&g.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",y),g.disconnect()}}},[n,l,_.paused]),C.useEffect(()=>{if(l){r_.add(_);const w=document.activeElement;if(!l.contains(w)){const x=new CustomEvent(xf,e_);l.addEventListener(xf,f),l.dispatchEvent(x),x.defaultPrevented||(rL(aL(rS(l)),{select:!0}),document.activeElement===w&&zs(l))}return()=>{l.removeEventListener(xf,f),setTimeout(()=>{const x=new CustomEvent(_f,e_);l.addEventListener(_f,p),l.dispatchEvent(x),x.defaultPrevented||zs(w??document.body,{select:!0}),l.removeEventListener(_f,p),r_.remove(_)},0)}}},[l,f,p,_]);const k=C.useCallback(w=>{if(!r&&!n||_.paused)return;const y=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,x=document.activeElement;if(y&&x){const g=w.currentTarget,[b,j]=nL(g);b&&j?!w.shiftKey&&x===j?(w.preventDefault(),r&&zs(b,{select:!0})):w.shiftKey&&x===b&&(w.preventDefault(),r&&zs(j,{select:!0})):x===g&&w.preventDefault()}},[r,n,_.paused]);return i.jsx(Ve.div,{tabIndex:-1,...c,ref:v,onKeyDown:k})});Vu.displayName=tL;function rL(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(zs(n,{select:t}),document.activeElement!==r)return}function nL(e){const t=rS(e),r=t_(t,e),n=t_(t.reverse(),e);return[r,n]}function rS(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const o=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||o?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function t_(e,t){for(const r of e)if(!sL(r,{upTo:t}))return r}function sL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iL(e){return e instanceof HTMLInputElement&&"select"in e}function zs(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&iL(e)&&t&&e.select()}}var r_=oL();function oL(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=n_(e,t),e.unshift(t)},remove(t){var r;e=n_(e,t),(r=e[0])==null||r.resume()}}}function n_(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function aL(e){return e.filter(t=>t.tagName!=="A")}const lL=["top","right","bottom","left"],qs=Math.min,qr=Math.max,hu=Math.round,Fc=Math.floor,Fn=e=>({x:e,y:e}),cL={left:"right",right:"left",bottom:"top",top:"bottom"},uL={start:"end",end:"start"};function pp(e,t,r){return qr(e,qs(t,r))}function as(e,t){return typeof e=="function"?e(t):e}function ls(e){return e.split("-")[0]}function Bo(e){return e.split("-")[1]}function Dm(e){return e==="x"?"y":"x"}function Lm(e){return e==="y"?"height":"width"}const dL=new Set(["top","bottom"]);function In(e){return dL.has(ls(e))?"y":"x"}function Im(e){return Dm(In(e))}function hL(e,t,r){r===void 0&&(r=!1);const n=Bo(e),o=Im(e),d=Lm(o);let c=o==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[d]>t.floating[d]&&(c=fu(c)),[c,fu(c)]}function fL(e){const t=fu(e);return[mp(e),t,mp(t)]}function mp(e){return e.replace(/start|end/g,t=>uL[t])}const s_=["left","right"],i_=["right","left"],pL=["top","bottom"],mL=["bottom","top"];function gL(e,t,r){switch(e){case"top":case"bottom":return r?t?i_:s_:t?s_:i_;case"left":case"right":return t?pL:mL;default:return[]}}function vL(e,t,r,n){const o=Bo(e);let d=gL(ls(e),r==="start",n);return o&&(d=d.map(c=>c+"-"+o),t&&(d=d.concat(d.map(mp)))),d}function fu(e){return e.replace(/left|right|bottom|top/g,t=>cL[t])}function yL(e){return{top:0,right:0,bottom:0,left:0,...e}}function nS(e){return typeof e!="number"?yL(e):{top:e,right:e,bottom:e,left:e}}function pu(e){const{x:t,y:r,width:n,height:o}=e;return{width:n,height:o,top:r,left:t,right:t+n,bottom:r+o,x:t,y:r}}function o_(e,t,r){let{reference:n,floating:o}=e;const d=In(t),c=Im(t),l=Lm(c),u=ls(t),f=d==="y",p=n.x+n.width/2-o.width/2,h=n.y+n.height/2-o.height/2,v=n[l]/2-o[l]/2;let _;switch(u){case"top":_={x:p,y:n.y-o.height};break;case"bottom":_={x:p,y:n.y+n.height};break;case"right":_={x:n.x+n.width,y:h};break;case"left":_={x:n.x-o.width,y:h};break;default:_={x:n.x,y:n.y}}switch(Bo(t)){case"start":_[c]-=v*(r&&f?-1:1);break;case"end":_[c]+=v*(r&&f?-1:1);break}return _}const xL=async(e,t,r)=>{const{placement:n="bottom",strategy:o="absolute",middleware:d=[],platform:c}=r,l=d.filter(Boolean),u=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:p,y:h}=o_(f,n,u),v=n,_={},k=0;for(let w=0;w<l.length;w++){const{name:y,fn:x}=l[w],{x:g,y:b,data:j,reset:N}=await x({x:p,y:h,initialPlacement:n,placement:v,strategy:o,middlewareData:_,rects:f,platform:c,elements:{reference:e,floating:t}});p=g??p,h=b??h,_={..._,[y]:{..._[y],...j}},N&&k<=50&&(k++,typeof N=="object"&&(N.placement&&(v=N.placement),N.rects&&(f=N.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):N.rects),{x:p,y:h}=o_(f,v,u)),w=-1)}return{x:p,y:h,placement:v,strategy:o,middlewareData:_}};async function Qa(e,t){var r;t===void 0&&(t={});const{x:n,y:o,platform:d,rects:c,elements:l,strategy:u}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:h="floating",altBoundary:v=!1,padding:_=0}=as(t,e),k=nS(_),y=l[v?h==="floating"?"reference":"floating":h],x=pu(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(y)))==null||r?y:y.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(l.floating)),boundary:f,rootBoundary:p,strategy:u})),g=h==="floating"?{x:n,y:o,width:c.floating.width,height:c.floating.height}:c.reference,b=await(d.getOffsetParent==null?void 0:d.getOffsetParent(l.floating)),j=await(d.isElement==null?void 0:d.isElement(b))?await(d.getScale==null?void 0:d.getScale(b))||{x:1,y:1}:{x:1,y:1},N=pu(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:b,strategy:u}):g);return{top:(x.top-N.top+k.top)/j.y,bottom:(N.bottom-x.bottom+k.bottom)/j.y,left:(x.left-N.left+k.left)/j.x,right:(N.right-x.right+k.right)/j.x}}const _L=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:o,rects:d,platform:c,elements:l,middlewareData:u}=t,{element:f,padding:p=0}=as(e,t)||{};if(f==null)return{};const h=nS(p),v={x:r,y:n},_=Im(o),k=Lm(_),w=await c.getDimensions(f),y=_==="y",x=y?"top":"left",g=y?"bottom":"right",b=y?"clientHeight":"clientWidth",j=d.reference[k]+d.reference[_]-v[_]-d.floating[k],N=v[_]-d.reference[_],T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let P=T?T[b]:0;(!P||!await(c.isElement==null?void 0:c.isElement(T)))&&(P=l.floating[b]||d.floating[k]);const E=j/2-N/2,L=P/2-w[k]/2-1,z=qs(h[x],L),F=qs(h[g],L),V=z,U=P-w[k]-F,X=P/2-w[k]/2+E,K=pp(V,X,U),q=!u.arrow&&Bo(o)!=null&&X!==K&&d.reference[k]/2-(X<V?z:F)-w[k]/2<0,G=q?X<V?X-V:X-U:0;return{[_]:v[_]+G,data:{[_]:K,centerOffset:X-K-G,...q&&{alignmentOffset:G}},reset:q}}}),bL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:o,middlewareData:d,rects:c,initialPlacement:l,platform:u,elements:f}=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:v,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:k="none",flipAlignment:w=!0,...y}=as(e,t);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const x=ls(o),g=In(l),b=ls(l)===l,j=await(u.isRTL==null?void 0:u.isRTL(f.floating)),N=v||(b||!w?[fu(l)]:fL(l)),T=k!=="none";!v&&T&&N.push(...vL(l,w,k,j));const P=[l,...N],E=await Qa(t,y),L=[];let z=((n=d.flip)==null?void 0:n.overflows)||[];if(p&&L.push(E[x]),h){const X=hL(o,c,j);L.push(E[X[0]],E[X[1]])}if(z=[...z,{placement:o,overflows:L}],!L.every(X=>X<=0)){var F,V;const X=(((F=d.flip)==null?void 0:F.index)||0)+1,K=P[X];if(K&&(!(h==="alignment"?g!==In(K):!1)||z.every(B=>In(B.placement)===g?B.overflows[0]>0:!0)))return{data:{index:X,overflows:z},reset:{placement:K}};let q=(V=z.filter(G=>G.overflows[0]<=0).sort((G,B)=>G.overflows[1]-B.overflows[1])[0])==null?void 0:V.placement;if(!q)switch(_){case"bestFit":{var U;const G=(U=z.filter(B=>{if(T){const D=In(B.placement);return D===g||D==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(D=>D>0).reduce((D,A)=>D+A,0)]).sort((B,D)=>B[1]-D[1])[0])==null?void 0:U[0];G&&(q=G);break}case"initialPlacement":q=l;break}if(o!==q)return{reset:{placement:q}}}return{}}}};function a_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function l_(e){return lL.some(t=>e[t]>=0)}const wL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...o}=as(e,t);switch(n){case"referenceHidden":{const d=await Qa(t,{...o,elementContext:"reference"}),c=a_(d,r.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:l_(c)}}}case"escaped":{const d=await Qa(t,{...o,altBoundary:!0}),c=a_(d,r.floating);return{data:{escapedOffsets:c,escaped:l_(c)}}}default:return{}}}}},sS=new Set(["left","top"]);async function SL(e,t){const{placement:r,platform:n,elements:o}=e,d=await(n.isRTL==null?void 0:n.isRTL(o.floating)),c=ls(r),l=Bo(r),u=In(r)==="y",f=sS.has(c)?-1:1,p=d&&u?-1:1,h=as(t,e);let{mainAxis:v,crossAxis:_,alignmentAxis:k}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof k=="number"&&(_=l==="end"?k*-1:k),u?{x:_*p,y:v*f}:{x:v*f,y:_*p}}const CL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:o,y:d,placement:c,middlewareData:l}=t,u=await SL(t,e);return c===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:o+u.x,y:d+u.y,data:{...u,placement:c}}}}},kL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:o}=t,{mainAxis:d=!0,crossAxis:c=!1,limiter:l={fn:y=>{let{x,y:g}=y;return{x,y:g}}},...u}=as(e,t),f={x:r,y:n},p=await Qa(t,u),h=In(ls(o)),v=Dm(h);let _=f[v],k=f[h];if(d){const y=v==="y"?"top":"left",x=v==="y"?"bottom":"right",g=_+p[y],b=_-p[x];_=pp(g,_,b)}if(c){const y=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=k+p[y],b=k-p[x];k=pp(g,k,b)}const w=l.fn({...t,[v]:_,[h]:k});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[v]:d,[h]:c}}}}}},jL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:o,rects:d,middlewareData:c}=t,{offset:l=0,mainAxis:u=!0,crossAxis:f=!0}=as(e,t),p={x:r,y:n},h=In(o),v=Dm(h);let _=p[v],k=p[h];const w=as(l,t),y=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const b=v==="y"?"height":"width",j=d.reference[v]-d.floating[b]+y.mainAxis,N=d.reference[v]+d.reference[b]-y.mainAxis;_<j?_=j:_>N&&(_=N)}if(f){var x,g;const b=v==="y"?"width":"height",j=sS.has(ls(o)),N=d.reference[h]-d.floating[b]+(j&&((x=c.offset)==null?void 0:x[h])||0)+(j?0:y.crossAxis),T=d.reference[h]+d.reference[b]+(j?0:((g=c.offset)==null?void 0:g[h])||0)-(j?y.crossAxis:0);k<N?k=N:k>T&&(k=T)}return{[v]:_,[h]:k}}}},EL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:o,rects:d,platform:c,elements:l}=t,{apply:u=()=>{},...f}=as(e,t),p=await Qa(t,f),h=ls(o),v=Bo(o),_=In(o)==="y",{width:k,height:w}=d.floating;let y,x;h==="top"||h==="bottom"?(y=h,x=v===(await(c.isRTL==null?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(x=h,y=v==="end"?"top":"bottom");const g=w-p.top-p.bottom,b=k-p.left-p.right,j=qs(w-p[y],g),N=qs(k-p[x],b),T=!t.middlewareData.shift;let P=j,E=N;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(E=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(P=g),T&&!v){const z=qr(p.left,0),F=qr(p.right,0),V=qr(p.top,0),U=qr(p.bottom,0);_?E=k-2*(z!==0||F!==0?z+F:qr(p.left,p.right)):P=w-2*(V!==0||U!==0?V+U:qr(p.top,p.bottom))}await u({...t,availableWidth:E,availableHeight:P});const L=await c.getDimensions(l.floating);return k!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function Uu(){return typeof window<"u"}function Fo(e){return iS(e)?(e.nodeName||"").toLowerCase():"#document"}function Jr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function $n(e){var t;return(t=(iS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function iS(e){return Uu()?e instanceof Node||e instanceof Jr(e).Node:!1}function Cn(e){return Uu()?e instanceof Element||e instanceof Jr(e).Element:!1}function zn(e){return Uu()?e instanceof HTMLElement||e instanceof Jr(e).HTMLElement:!1}function c_(e){return!Uu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Jr(e).ShadowRoot}const NL=new Set(["inline","contents"]);function vl(e){const{overflow:t,overflowX:r,overflowY:n,display:o}=kn(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!NL.has(o)}const PL=new Set(["table","td","th"]);function TL(e){return PL.has(Fo(e))}const RL=[":popover-open",":modal"];function Wu(e){return RL.some(t=>{try{return e.matches(t)}catch{return!1}})}const AL=["transform","translate","scale","rotate","perspective"],ML=["transform","translate","scale","rotate","perspective","filter"],DL=["paint","layout","strict","content"];function Om(e){const t=Bm(),r=Cn(e)?kn(e):e;return AL.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||ML.some(n=>(r.willChange||"").includes(n))||DL.some(n=>(r.contain||"").includes(n))}function LL(e){let t=Ys(e);for(;zn(t)&&!No(t);){if(Om(t))return t;if(Wu(t))return null;t=Ys(t)}return null}function Bm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const IL=new Set(["html","body","#document"]);function No(e){return IL.has(Fo(e))}function kn(e){return Jr(e).getComputedStyle(e)}function Ku(e){return Cn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ys(e){if(Fo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||c_(e)&&e.host||$n(e);return c_(t)?t.host:t}function oS(e){const t=Ys(e);return No(t)?e.ownerDocument?e.ownerDocument.body:e.body:zn(t)&&vl(t)?t:oS(t)}function Za(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const o=oS(e),d=o===((n=e.ownerDocument)==null?void 0:n.body),c=Jr(o);if(d){const l=gp(c);return t.concat(c,c.visualViewport||[],vl(o)?o:[],l&&r?Za(l):[])}return t.concat(o,Za(o,[],r))}function gp(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function aS(e){const t=kn(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const o=zn(e),d=o?e.offsetWidth:r,c=o?e.offsetHeight:n,l=hu(r)!==d||hu(n)!==c;return l&&(r=d,n=c),{width:r,height:n,$:l}}function Fm(e){return Cn(e)?e:e.contextElement}function vo(e){const t=Fm(e);if(!zn(t))return Fn(1);const r=t.getBoundingClientRect(),{width:n,height:o,$:d}=aS(t);let c=(d?hu(r.width):r.width)/n,l=(d?hu(r.height):r.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!l||!Number.isFinite(l))&&(l=1),{x:c,y:l}}const OL=Fn(0);function lS(e){const t=Jr(e);return!Bm()||!t.visualViewport?OL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function BL(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Jr(e)?!1:t}function Ni(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),d=Fm(e);let c=Fn(1);t&&(n?Cn(n)&&(c=vo(n)):c=vo(e));const l=BL(d,r,n)?lS(d):Fn(0);let u=(o.left+l.x)/c.x,f=(o.top+l.y)/c.y,p=o.width/c.x,h=o.height/c.y;if(d){const v=Jr(d),_=n&&Cn(n)?Jr(n):n;let k=v,w=gp(k);for(;w&&n&&_!==k;){const y=vo(w),x=w.getBoundingClientRect(),g=kn(w),b=x.left+(w.clientLeft+parseFloat(g.paddingLeft))*y.x,j=x.top+(w.clientTop+parseFloat(g.paddingTop))*y.y;u*=y.x,f*=y.y,p*=y.x,h*=y.y,u+=b,f+=j,k=Jr(w),w=gp(k)}}return pu({width:p,height:h,x:u,y:f})}function Gu(e,t){const r=Ku(e).scrollLeft;return t?t.left+r:Ni($n(e)).left+r}function cS(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-Gu(e,r),o=r.top+t.scrollTop;return{x:n,y:o}}function FL(e){let{elements:t,rect:r,offsetParent:n,strategy:o}=e;const d=o==="fixed",c=$n(n),l=t?Wu(t.floating):!1;if(n===c||l&&d)return r;let u={scrollLeft:0,scrollTop:0},f=Fn(1);const p=Fn(0),h=zn(n);if((h||!h&&!d)&&((Fo(n)!=="body"||vl(c))&&(u=Ku(n)),zn(n))){const _=Ni(n);f=vo(n),p.x=_.x+n.clientLeft,p.y=_.y+n.clientTop}const v=c&&!h&&!d?cS(c,u):Fn(0);return{width:r.width*f.x,height:r.height*f.y,x:r.x*f.x-u.scrollLeft*f.x+p.x+v.x,y:r.y*f.y-u.scrollTop*f.y+p.y+v.y}}function zL(e){return Array.from(e.getClientRects())}function HL(e){const t=$n(e),r=Ku(e),n=e.ownerDocument.body,o=qr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),d=qr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let c=-r.scrollLeft+Gu(e);const l=-r.scrollTop;return kn(n).direction==="rtl"&&(c+=qr(t.clientWidth,n.clientWidth)-o),{width:o,height:d,x:c,y:l}}const u_=25;function $L(e,t){const r=Jr(e),n=$n(e),o=r.visualViewport;let d=n.clientWidth,c=n.clientHeight,l=0,u=0;if(o){d=o.width,c=o.height;const p=Bm();(!p||p&&t==="fixed")&&(l=o.offsetLeft,u=o.offsetTop)}const f=Gu(n);if(f<=0){const p=n.ownerDocument,h=p.body,v=getComputedStyle(h),_=p.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,k=Math.abs(n.clientWidth-h.clientWidth-_);k<=u_&&(d-=k)}else f<=u_&&(d+=f);return{width:d,height:c,x:l,y:u}}const VL=new Set(["absolute","fixed"]);function UL(e,t){const r=Ni(e,!0,t==="fixed"),n=r.top+e.clientTop,o=r.left+e.clientLeft,d=zn(e)?vo(e):Fn(1),c=e.clientWidth*d.x,l=e.clientHeight*d.y,u=o*d.x,f=n*d.y;return{width:c,height:l,x:u,y:f}}function d_(e,t,r){let n;if(t==="viewport")n=$L(e,r);else if(t==="document")n=HL($n(e));else if(Cn(t))n=UL(t,r);else{const o=lS(e);n={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return pu(n)}function uS(e,t){const r=Ys(e);return r===t||!Cn(r)||No(r)?!1:kn(r).position==="fixed"||uS(r,t)}function WL(e,t){const r=t.get(e);if(r)return r;let n=Za(e,[],!1).filter(l=>Cn(l)&&Fo(l)!=="body"),o=null;const d=kn(e).position==="fixed";let c=d?Ys(e):e;for(;Cn(c)&&!No(c);){const l=kn(c),u=Om(c);!u&&l.position==="fixed"&&(o=null),(d?!u&&!o:!u&&l.position==="static"&&!!o&&VL.has(o.position)||vl(c)&&!u&&uS(e,c))?n=n.filter(p=>p!==c):o=l,c=Ys(c)}return t.set(e,n),n}function KL(e){let{element:t,boundary:r,rootBoundary:n,strategy:o}=e;const c=[...r==="clippingAncestors"?Wu(t)?[]:WL(t,this._c):[].concat(r),n],l=c[0],u=c.reduce((f,p)=>{const h=d_(t,p,o);return f.top=qr(h.top,f.top),f.right=qs(h.right,f.right),f.bottom=qs(h.bottom,f.bottom),f.left=qr(h.left,f.left),f},d_(t,l,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function GL(e){const{width:t,height:r}=aS(e);return{width:t,height:r}}function qL(e,t,r){const n=zn(t),o=$n(t),d=r==="fixed",c=Ni(e,!0,d,t);let l={scrollLeft:0,scrollTop:0};const u=Fn(0);function f(){u.x=Gu(o)}if(n||!n&&!d)if((Fo(t)!=="body"||vl(o))&&(l=Ku(t)),n){const _=Ni(t,!0,d,t);u.x=_.x+t.clientLeft,u.y=_.y+t.clientTop}else o&&f();d&&!n&&o&&f();const p=o&&!n&&!d?cS(o,l):Fn(0),h=c.left+l.scrollLeft-u.x-p.x,v=c.top+l.scrollTop-u.y-p.y;return{x:h,y:v,width:c.width,height:c.height}}function bf(e){return kn(e).position==="static"}function h_(e,t){if(!zn(e)||kn(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return $n(e)===r&&(r=r.ownerDocument.body),r}function dS(e,t){const r=Jr(e);if(Wu(e))return r;if(!zn(e)){let o=Ys(e);for(;o&&!No(o);){if(Cn(o)&&!bf(o))return o;o=Ys(o)}return r}let n=h_(e,t);for(;n&&TL(n)&&bf(n);)n=h_(n,t);return n&&No(n)&&bf(n)&&!Om(n)?r:n||LL(e)||r}const YL=async function(e){const t=this.getOffsetParent||dS,r=this.getDimensions,n=await r(e.floating);return{reference:qL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function XL(e){return kn(e).direction==="rtl"}const JL={convertOffsetParentRelativeRectToViewportRelativeRect:FL,getDocumentElement:$n,getClippingRect:KL,getOffsetParent:dS,getElementRects:YL,getClientRects:zL,getDimensions:GL,getScale:vo,isElement:Cn,isRTL:XL};function hS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function QL(e,t){let r=null,n;const o=$n(e);function d(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function c(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),d();const f=e.getBoundingClientRect(),{left:p,top:h,width:v,height:_}=f;if(l||t(),!v||!_)return;const k=Fc(h),w=Fc(o.clientWidth-(p+v)),y=Fc(o.clientHeight-(h+_)),x=Fc(p),b={rootMargin:-k+"px "+-w+"px "+-y+"px "+-x+"px",threshold:qr(0,qs(1,u))||1};let j=!0;function N(T){const P=T[0].intersectionRatio;if(P!==u){if(!j)return c();P?c(!1,P):n=setTimeout(()=>{c(!1,1e-7)},1e3)}P===1&&!hS(f,e.getBoundingClientRect())&&c(),j=!1}try{r=new IntersectionObserver(N,{...b,root:o.ownerDocument})}catch{r=new IntersectionObserver(N,b)}r.observe(e)}return c(!0),d}function ZL(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:o=!0,ancestorResize:d=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,f=Fm(e),p=o||d?[...f?Za(f):[],...Za(t)]:[];p.forEach(x=>{o&&x.addEventListener("scroll",r,{passive:!0}),d&&x.addEventListener("resize",r)});const h=f&&l?QL(f,r):null;let v=-1,_=null;c&&(_=new ResizeObserver(x=>{let[g]=x;g&&g.target===f&&_&&(_.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var b;(b=_)==null||b.observe(t)})),r()}),f&&!u&&_.observe(f),_.observe(t));let k,w=u?Ni(e):null;u&&y();function y(){const x=Ni(e);w&&!hS(w,x)&&r(),w=x,k=requestAnimationFrame(y)}return r(),()=>{var x;p.forEach(g=>{o&&g.removeEventListener("scroll",r),d&&g.removeEventListener("resize",r)}),h==null||h(),(x=_)==null||x.disconnect(),_=null,u&&cancelAnimationFrame(k)}}const e3=CL,t3=kL,r3=bL,n3=EL,s3=wL,f_=_L,i3=jL,o3=(e,t,r)=>{const n=new Map,o={platform:JL,...r},d={...o.platform,_c:n};return xL(e,t,{...o,platform:d})};var a3=typeof document<"u",l3=function(){},Jc=a3?C.useLayoutEffect:l3;function mu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!mu(e[n],t[n]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,o[n]))return!1;for(n=r;n--!==0;){const d=o[n];if(!(d==="_owner"&&e.$$typeof)&&!mu(e[d],t[d]))return!1}return!0}return e!==e&&t!==t}function fS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function p_(e,t){const r=fS(e);return Math.round(t*r)/r}function wf(e){const t=C.useRef(e);return Jc(()=>{t.current=e}),t}function c3(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:o,elements:{reference:d,floating:c}={},transform:l=!0,whileElementsMounted:u,open:f}=e,[p,h]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[v,_]=C.useState(n);mu(v,n)||_(n);const[k,w]=C.useState(null),[y,x]=C.useState(null),g=C.useCallback(B=>{B!==T.current&&(T.current=B,w(B))},[]),b=C.useCallback(B=>{B!==P.current&&(P.current=B,x(B))},[]),j=d||k,N=c||y,T=C.useRef(null),P=C.useRef(null),E=C.useRef(p),L=u!=null,z=wf(u),F=wf(o),V=wf(f),U=C.useCallback(()=>{if(!T.current||!P.current)return;const B={placement:t,strategy:r,middleware:v};F.current&&(B.platform=F.current),o3(T.current,P.current,B).then(D=>{const A={...D,isPositioned:V.current!==!1};X.current&&!mu(E.current,A)&&(E.current=A,ol.flushSync(()=>{h(A)}))})},[v,t,r,F,V]);Jc(()=>{f===!1&&E.current.isPositioned&&(E.current.isPositioned=!1,h(B=>({...B,isPositioned:!1})))},[f]);const X=C.useRef(!1);Jc(()=>(X.current=!0,()=>{X.current=!1}),[]),Jc(()=>{if(j&&(T.current=j),N&&(P.current=N),j&&N){if(z.current)return z.current(j,N,U);U()}},[j,N,U,z,L]);const K=C.useMemo(()=>({reference:T,floating:P,setReference:g,setFloating:b}),[g,b]),q=C.useMemo(()=>({reference:j,floating:N}),[j,N]),G=C.useMemo(()=>{const B={position:r,left:0,top:0};if(!q.floating)return B;const D=p_(q.floating,p.x),A=p_(q.floating,p.y);return l?{...B,transform:"translate("+D+"px, "+A+"px)",...fS(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:D,top:A}},[r,l,q.floating,p.x,p.y]);return C.useMemo(()=>({...p,update:U,refs:K,elements:q,floatingStyles:G}),[p,U,K,q,G])}const u3=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:o}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?f_({element:n.current,padding:o}).fn(r):{}:n?f_({element:n,padding:o}).fn(r):{}}}},d3=(e,t)=>({...e3(e),options:[e,t]}),h3=(e,t)=>({...t3(e),options:[e,t]}),f3=(e,t)=>({...i3(e),options:[e,t]}),p3=(e,t)=>({...r3(e),options:[e,t]}),m3=(e,t)=>({...n3(e),options:[e,t]}),g3=(e,t)=>({...s3(e),options:[e,t]}),v3=(e,t)=>({...u3(e),options:[e,t]});var y3="Arrow",pS=C.forwardRef((e,t)=>{const{children:r,width:n=10,height:o=5,...d}=e;return i.jsx(Ve.svg,{...d,ref:t,width:n,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});pS.displayName=y3;var x3=pS,zm="Popper",[mS,zo]=zr(zm),[_3,gS]=mS(zm),vS=e=>{const{__scopePopper:t,children:r}=e,[n,o]=C.useState(null);return i.jsx(_3,{scope:t,anchor:n,onAnchorChange:o,children:r})};vS.displayName=zm;var yS="PopperAnchor",xS=C.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...o}=e,d=gS(yS,r),c=C.useRef(null),l=Ye(t,c),u=C.useRef(null);return C.useEffect(()=>{const f=u.current;u.current=(n==null?void 0:n.current)||c.current,f!==u.current&&d.onAnchorChange(u.current)}),n?null:i.jsx(Ve.div,{...o,ref:l})});xS.displayName=yS;var Hm="PopperContent",[b3,w3]=mS(Hm),_S=C.forwardRef((e,t)=>{var Y,H,se,ee,Q,ne;const{__scopePopper:r,side:n="bottom",sideOffset:o=0,align:d="center",alignOffset:c=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:h="partial",hideWhenDetached:v=!1,updatePositionStrategy:_="optimized",onPlaced:k,...w}=e,y=gS(Hm,r),[x,g]=C.useState(null),b=Ye(t,ye=>g(ye)),[j,N]=C.useState(null),T=Tm(j),P=(T==null?void 0:T.width)??0,E=(T==null?void 0:T.height)??0,L=n+(d!=="center"?"-"+d:""),z=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},F=Array.isArray(f)?f:[f],V=F.length>0,U={padding:z,boundary:F.filter(C3),altBoundary:V},{refs:X,floatingStyles:K,placement:q,isPositioned:G,middlewareData:B}=c3({strategy:"fixed",placement:L,whileElementsMounted:(...ye)=>ZL(...ye,{animationFrame:_==="always"}),elements:{reference:y.anchor},middleware:[d3({mainAxis:o+E,alignmentAxis:c}),u&&h3({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?f3():void 0,...U}),u&&p3({...U}),m3({...U,apply:({elements:ye,rects:Oe,availableWidth:ze,availableHeight:Xe})=>{const{width:Te,height:Me}=Oe.reference,Re=ye.floating.style;Re.setProperty("--radix-popper-available-width",`${ze}px`),Re.setProperty("--radix-popper-available-height",`${Xe}px`),Re.setProperty("--radix-popper-anchor-width",`${Te}px`),Re.setProperty("--radix-popper-anchor-height",`${Me}px`)}}),j&&v3({element:j,padding:l}),k3({arrowWidth:P,arrowHeight:E}),v&&g3({strategy:"referenceHidden",...U})]}),[D,A]=SS(q),I=Qt(k);er(()=>{G&&(I==null||I())},[G,I]);const W=(Y=B.arrow)==null?void 0:Y.x,O=(H=B.arrow)==null?void 0:H.y,re=((se=B.arrow)==null?void 0:se.centerOffset)!==0,[ue,he]=C.useState();return er(()=>{x&&he(window.getComputedStyle(x).zIndex)},[x]),i.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...K,transform:G?K.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(ee=B.transformOrigin)==null?void 0:ee.x,(Q=B.transformOrigin)==null?void 0:Q.y].join(" "),...((ne=B.hide)==null?void 0:ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(b3,{scope:r,placedSide:D,onArrowChange:N,arrowX:W,arrowY:O,shouldHideArrow:re,children:i.jsx(Ve.div,{"data-side":D,"data-align":A,...w,ref:b,style:{...w.style,animation:G?void 0:"none"}})})})});_S.displayName=Hm;var bS="PopperArrow",S3={top:"bottom",right:"left",bottom:"top",left:"right"},wS=C.forwardRef(function(t,r){const{__scopePopper:n,...o}=t,d=w3(bS,n),c=S3[d.placedSide];return i.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:i.jsx(x3,{...o,ref:r,style:{...o.style,display:"block"}})})});wS.displayName=bS;function C3(e){return e!==null}var k3=e=>({name:"transformOrigin",options:e,fn(t){var y,x,g;const{placement:r,rects:n,middlewareData:o}=t,c=((y=o.arrow)==null?void 0:y.centerOffset)!==0,l=c?0:e.arrowWidth,u=c?0:e.arrowHeight,[f,p]=SS(r),h={start:"0%",center:"50%",end:"100%"}[p],v=(((x=o.arrow)==null?void 0:x.x)??0)+l/2,_=(((g=o.arrow)==null?void 0:g.y)??0)+u/2;let k="",w="";return f==="bottom"?(k=c?h:`${v}px`,w=`${-u}px`):f==="top"?(k=c?h:`${v}px`,w=`${n.floating.height+u}px`):f==="right"?(k=`${-u}px`,w=c?h:`${_}px`):f==="left"&&(k=`${n.floating.width+u}px`,w=c?h:`${_}px`),{data:{x:k,y:w}}}});function SS(e){const[t,r="center"]=e.split("-");return[t,r]}var qu=vS,$m=xS,Vm=_S,Um=wS,j3="Portal",yl=C.forwardRef((e,t)=>{var l;const{container:r,...n}=e,[o,d]=C.useState(!1);er(()=>d(!0),[]);const c=r||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return c?yb.createPortal(i.jsx(Ve.div,{...n,ref:t}),c):null});yl.displayName=j3;function E3(e){const t=N3(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(T3);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function N3(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=A3(o),l=R3(d,o.props);return o.type!==C.Fragment&&(l.ref=n?fs(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var P3=Symbol("radix.slottable");function T3(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===P3}function R3(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function A3(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var CS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),M3="VisuallyHidden",kS=C.forwardRef((e,t)=>i.jsx(Ve.span,{...e,ref:t,style:{...CS,...e.style}}));kS.displayName=M3;var D3=kS,L3=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},oo=new WeakMap,zc=new WeakMap,Hc={},Sf=0,jS=function(e){return e&&(e.host||jS(e.parentNode))},I3=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=jS(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},O3=function(e,t,r,n){var o=I3(t,Array.isArray(e)?e:[e]);Hc[r]||(Hc[r]=new WeakMap);var d=Hc[r],c=[],l=new Set,u=new Set(o),f=function(h){!h||l.has(h)||(l.add(h),f(h.parentNode))};o.forEach(f);var p=function(h){!h||u.has(h)||Array.prototype.forEach.call(h.children,function(v){if(l.has(v))p(v);else try{var _=v.getAttribute(n),k=_!==null&&_!=="false",w=(oo.get(v)||0)+1,y=(d.get(v)||0)+1;oo.set(v,w),d.set(v,y),c.push(v),w===1&&k&&zc.set(v,!0),y===1&&v.setAttribute(r,"true"),k||v.setAttribute(n,"true")}catch(x){console.error("aria-hidden: cannot operate on ",v,x)}})};return p(t),l.clear(),Sf++,function(){c.forEach(function(h){var v=oo.get(h)-1,_=d.get(h)-1;oo.set(h,v),d.set(h,_),v||(zc.has(h)||h.removeAttribute(n),zc.delete(h)),_||h.removeAttribute(r)}),Sf--,Sf||(oo=new WeakMap,oo=new WeakMap,zc=new WeakMap,Hc={})}},Wm=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),o=L3(e);return o?(n.push.apply(n,Array.from(o.querySelectorAll("[aria-live], script"))),O3(n,o,r,"aria-hidden")):function(){return null}},Dn=function(){return Dn=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(t[d]=r[d])}return t},Dn.apply(this,arguments)};function ES(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function B3(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,d;n<o;n++)(d||!(n in t))&&(d||(d=Array.prototype.slice.call(t,0,n)),d[n]=t[n]);return e.concat(d||Array.prototype.slice.call(t))}var Qc="right-scroll-bar-position",Zc="width-before-scroll-bar",F3="with-scroll-bars-hidden",z3="--removed-body-scroll-bar-size";function Cf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function H3(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var o=r.value;o!==n&&(r.value=n,r.callback(n,o))}}}})[0];return r.callback=t,r.facade}var $3=typeof window<"u"?C.useLayoutEffect:C.useEffect,m_=new WeakMap;function V3(e,t){var r=H3(null,function(n){return e.forEach(function(o){return Cf(o,n)})});return $3(function(){var n=m_.get(r);if(n){var o=new Set(n),d=new Set(e),c=r.current;o.forEach(function(l){d.has(l)||Cf(l,null)}),d.forEach(function(l){o.has(l)||Cf(l,c)})}m_.set(r,e)},[e]),r}function U3(e){return e}function W3(e,t){t===void 0&&(t=U3);var r=[],n=!1,o={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var c=t(d,n);return r.push(c),function(){r=r.filter(function(l){return l!==c})}},assignSyncMedium:function(d){for(n=!0;r.length;){var c=r;r=[],c.forEach(d)}r={push:function(l){return d(l)},filter:function(){return r}}},assignMedium:function(d){n=!0;var c=[];if(r.length){var l=r;r=[],l.forEach(d),c=r}var u=function(){var p=c;c=[],p.forEach(d)},f=function(){return Promise.resolve().then(u)};f(),r={push:function(p){c.push(p),f()},filter:function(p){return c=c.filter(p),r}}}};return o}function K3(e){e===void 0&&(e={});var t=W3(null);return t.options=Dn({async:!0,ssr:!1},e),t}var NS=function(e){var t=e.sideCar,r=ES(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return C.createElement(n,Dn({},r))};NS.isSideCarExport=!0;function G3(e,t){return e.useMedium(t),NS}var PS=K3(),kf=function(){},Yu=C.forwardRef(function(e,t){var r=C.useRef(null),n=C.useState({onScrollCapture:kf,onWheelCapture:kf,onTouchMoveCapture:kf}),o=n[0],d=n[1],c=e.forwardProps,l=e.children,u=e.className,f=e.removeScrollBar,p=e.enabled,h=e.shards,v=e.sideCar,_=e.noRelative,k=e.noIsolation,w=e.inert,y=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,b=e.gapMode,j=ES(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=v,T=V3([r,t]),P=Dn(Dn({},j),o);return C.createElement(C.Fragment,null,p&&C.createElement(N,{sideCar:PS,removeScrollBar:f,shards:h,noRelative:_,noIsolation:k,inert:w,setCallbacks:d,allowPinchZoom:!!y,lockRef:r,gapMode:b}),c?C.cloneElement(C.Children.only(l),Dn(Dn({},P),{ref:T})):C.createElement(g,Dn({},P,{className:u,ref:T}),l))});Yu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yu.classNames={fullWidth:Zc,zeroRight:Qc};var q3=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Y3(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=q3();return t&&e.setAttribute("nonce",t),e}function X3(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function J3(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Q3=function(){var e=0,t=null;return{add:function(r){e==0&&(t=Y3())&&(X3(t,r),J3(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Z3=function(){var e=Q3();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},TS=function(){var e=Z3(),t=function(r){var n=r.styles,o=r.dynamic;return e(n,o),null};return t},eI={left:0,top:0,right:0,gap:0},jf=function(e){return parseInt(e||"",10)||0},tI=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[jf(r),jf(n),jf(o)]},rI=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return eI;var t=tI(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},nI=TS(),yo="data-scroll-locked",sI=function(e,t,r,n){var o=e.left,d=e.top,c=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(F3,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(yo,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Qc,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Zc,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Qc," .").concat(Qc,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Zc," .").concat(Zc,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(yo,`] {
    `).concat(z3,": ").concat(l,`px;
  }
`)},g_=function(){var e=parseInt(document.body.getAttribute(yo)||"0",10);return isFinite(e)?e:0},iI=function(){C.useEffect(function(){return document.body.setAttribute(yo,(g_()+1).toString()),function(){var e=g_()-1;e<=0?document.body.removeAttribute(yo):document.body.setAttribute(yo,e.toString())}},[])},oI=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,o=n===void 0?"margin":n;iI();var d=C.useMemo(function(){return rI(o)},[o]);return C.createElement(nI,{styles:sI(d,!t,o,r?"":"!important")})},vp=!1;if(typeof window<"u")try{var $c=Object.defineProperty({},"passive",{get:function(){return vp=!0,!0}});window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{vp=!1}var ao=vp?{passive:!1}:!1,aI=function(e){return e.tagName==="TEXTAREA"},RS=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!aI(e)&&r[t]==="visible")},lI=function(e){return RS(e,"overflowY")},cI=function(e){return RS(e,"overflowX")},v_=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=AS(e,n);if(o){var d=MS(e,n),c=d[1],l=d[2];if(c>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},uI=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},dI=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},AS=function(e,t){return e==="v"?lI(t):cI(t)},MS=function(e,t){return e==="v"?uI(t):dI(t)},hI=function(e,t){return e==="h"&&t==="rtl"?-1:1},fI=function(e,t,r,n,o){var d=hI(e,window.getComputedStyle(t).direction),c=d*n,l=r.target,u=t.contains(l),f=!1,p=c>0,h=0,v=0;do{if(!l)break;var _=MS(e,l),k=_[0],w=_[1],y=_[2],x=w-y-d*k;(k||x)&&AS(e,l)&&(h+=x,v+=k);var g=l.parentNode;l=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(p&&Math.abs(h)<1||!p&&Math.abs(v)<1)&&(f=!0),f},Vc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},y_=function(e){return[e.deltaX,e.deltaY]},x_=function(e){return e&&"current"in e?e.current:e},pI=function(e,t){return e[0]===t[0]&&e[1]===t[1]},mI=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},gI=0,lo=[];function vI(e){var t=C.useRef([]),r=C.useRef([0,0]),n=C.useRef(),o=C.useState(gI++)[0],d=C.useState(TS)[0],c=C.useRef(e);C.useEffect(function(){c.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var w=B3([e.lockRef.current],(e.shards||[]).map(x_),!0).filter(Boolean);return w.forEach(function(y){return y.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),w.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var l=C.useCallback(function(w,y){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!c.current.allowPinchZoom;var x=Vc(w),g=r.current,b="deltaX"in w?w.deltaX:g[0]-x[0],j="deltaY"in w?w.deltaY:g[1]-x[1],N,T=w.target,P=Math.abs(b)>Math.abs(j)?"h":"v";if("touches"in w&&P==="h"&&T.type==="range")return!1;var E=window.getSelection(),L=E&&E.anchorNode,z=L?L===T||L.contains(T):!1;if(z)return!1;var F=v_(P,T);if(!F)return!0;if(F?N=P:(N=P==="v"?"h":"v",F=v_(P,T)),!F)return!1;if(!n.current&&"changedTouches"in w&&(b||j)&&(n.current=N),!N)return!0;var V=n.current||N;return fI(V,y,w,V==="h"?b:j)},[]),u=C.useCallback(function(w){var y=w;if(!(!lo.length||lo[lo.length-1]!==d)){var x="deltaY"in y?y_(y):Vc(y),g=t.current.filter(function(N){return N.name===y.type&&(N.target===y.target||y.target===N.shadowParent)&&pI(N.delta,x)})[0];if(g&&g.should){y.cancelable&&y.preventDefault();return}if(!g){var b=(c.current.shards||[]).map(x_).filter(Boolean).filter(function(N){return N.contains(y.target)}),j=b.length>0?l(y,b[0]):!c.current.noIsolation;j&&y.cancelable&&y.preventDefault()}}},[]),f=C.useCallback(function(w,y,x,g){var b={name:w,delta:y,target:x,should:g,shadowParent:yI(x)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(j){return j!==b})},1)},[]),p=C.useCallback(function(w){r.current=Vc(w),n.current=void 0},[]),h=C.useCallback(function(w){f(w.type,y_(w),w.target,l(w,e.lockRef.current))},[]),v=C.useCallback(function(w){f(w.type,Vc(w),w.target,l(w,e.lockRef.current))},[]);C.useEffect(function(){return lo.push(d),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:v}),document.addEventListener("wheel",u,ao),document.addEventListener("touchmove",u,ao),document.addEventListener("touchstart",p,ao),function(){lo=lo.filter(function(w){return w!==d}),document.removeEventListener("wheel",u,ao),document.removeEventListener("touchmove",u,ao),document.removeEventListener("touchstart",p,ao)}},[]);var _=e.removeScrollBar,k=e.inert;return C.createElement(C.Fragment,null,k?C.createElement(d,{styles:mI(o)}):null,_?C.createElement(oI,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function yI(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const xI=G3(PS,vI);var Xu=C.forwardRef(function(e,t){return C.createElement(Yu,Dn({},e,{ref:t,sideCar:xI}))});Xu.classNames=Yu.classNames;var _I=[" ","Enter","ArrowUp","ArrowDown"],bI=[" ","Enter"],Pi="Select",[Ju,Qu,wI]=Rm(Pi),[Ho]=zr(Pi,[wI,zo]),Zu=zo(),[SI,Zs]=Ho(Pi),[CI,kI]=Ho(Pi),DS=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:o,onOpenChange:d,value:c,defaultValue:l,onValueChange:u,dir:f,name:p,autoComplete:h,disabled:v,required:_,form:k}=e,w=Zu(t),[y,x]=C.useState(null),[g,b]=C.useState(null),[j,N]=C.useState(!1),T=fl(f),[P,E]=Sn({prop:n,defaultProp:o??!1,onChange:d,caller:Pi}),[L,z]=Sn({prop:c,defaultProp:l,onChange:u,caller:Pi}),F=C.useRef(null),V=y?k||!!y.closest("form"):!0,[U,X]=C.useState(new Set),K=Array.from(U).map(q=>q.props.value).join(";");return i.jsx(qu,{...w,children:i.jsxs(SI,{required:_,scope:t,trigger:y,onTriggerChange:x,valueNode:g,onValueNodeChange:b,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:Br(),value:L,onValueChange:z,open:P,onOpenChange:E,dir:T,triggerPointerDownPosRef:F,disabled:v,children:[i.jsx(Ju.Provider,{scope:t,children:i.jsx(CI,{scope:e.__scopeSelect,onNativeOptionAdd:C.useCallback(q=>{X(G=>new Set(G).add(q))},[]),onNativeOptionRemove:C.useCallback(q=>{X(G=>{const B=new Set(G);return B.delete(q),B})},[]),children:r})}),V?i.jsxs(sC,{"aria-hidden":!0,required:_,tabIndex:-1,name:p,autoComplete:h,value:L,onChange:q=>z(q.target.value),disabled:v,form:k,children:[L===void 0?i.jsx("option",{value:""}):null,Array.from(U)]},K):null]})})};DS.displayName=Pi;var LS="SelectTrigger",IS=C.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...o}=e,d=Zu(r),c=Zs(LS,r),l=c.disabled||n,u=Ye(t,c.onTriggerChange),f=Qu(r),p=C.useRef("touch"),[h,v,_]=oC(w=>{const y=f().filter(b=>!b.disabled),x=y.find(b=>b.value===c.value),g=aC(y,w,x);g!==void 0&&c.onValueChange(g.value)}),k=w=>{l||(c.onOpenChange(!0),_()),w&&(c.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx($m,{asChild:!0,...d,children:i.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iC(c.value)?"":void 0,...o,ref:u,onClick:ke(o.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&k(w)}),onPointerDown:ke(o.onPointerDown,w=>{p.current=w.pointerType;const y=w.target;y.hasPointerCapture(w.pointerId)&&y.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(k(w),w.preventDefault())}),onKeyDown:ke(o.onKeyDown,w=>{const y=h.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&v(w.key),!(y&&w.key===" ")&&_I.includes(w.key)&&(k(),w.preventDefault())})})})});IS.displayName=LS;var OS="SelectValue",BS=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,children:d,placeholder:c="",...l}=e,u=Zs(OS,r),{onValueNodeHasChildrenChange:f}=u,p=d!==void 0,h=Ye(t,u.onValueNodeChange);return er(()=>{f(p)},[f,p]),i.jsx(Ve.span,{...l,ref:h,style:{pointerEvents:"none"},children:iC(u.value)?i.jsx(i.Fragment,{children:c}):d})});BS.displayName=OS;var jI="SelectIcon",FS=C.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...o}=e;return i.jsx(Ve.span,{"aria-hidden":!0,...o,ref:t,children:n||""})});FS.displayName=jI;var EI="SelectPortal",zS=e=>i.jsx(yl,{asChild:!0,...e});zS.displayName=EI;var Ti="SelectContent",HS=C.forwardRef((e,t)=>{const r=Zs(Ti,e.__scopeSelect),[n,o]=C.useState();if(er(()=>{o(new DocumentFragment)},[]),!r.open){const d=n;return d?ol.createPortal(i.jsx($S,{scope:e.__scopeSelect,children:i.jsx(Ju.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),d):null}return i.jsx(VS,{...e,ref:t})});HS.displayName=Ti;var bn=10,[$S,ei]=Ho(Ti),NI="SelectContentImpl",PI=E3("SelectContent.RemoveScroll"),VS=C.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:d,onPointerDownOutside:c,side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:v,collisionPadding:_,sticky:k,hideWhenDetached:w,avoidCollisions:y,...x}=e,g=Zs(Ti,r),[b,j]=C.useState(null),[N,T]=C.useState(null),P=Ye(t,Y=>j(Y)),[E,L]=C.useState(null),[z,F]=C.useState(null),V=Qu(r),[U,X]=C.useState(!1),K=C.useRef(!1);C.useEffect(()=>{if(b)return Wm(b)},[b]),Mm();const q=C.useCallback(Y=>{const[H,...se]=V().map(ne=>ne.ref.current),[ee]=se.slice(-1),Q=document.activeElement;for(const ne of Y)if(ne===Q||(ne==null||ne.scrollIntoView({block:"nearest"}),ne===H&&N&&(N.scrollTop=0),ne===ee&&N&&(N.scrollTop=N.scrollHeight),ne==null||ne.focus(),document.activeElement!==Q))return},[V,N]),G=C.useCallback(()=>q([E,b]),[q,E,b]);C.useEffect(()=>{U&&G()},[U,G]);const{onOpenChange:B,triggerPointerDownPosRef:D}=g;C.useEffect(()=>{if(b){let Y={x:0,y:0};const H=ee=>{var Q,ne;Y={x:Math.abs(Math.round(ee.pageX)-(((Q=D.current)==null?void 0:Q.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((ne=D.current)==null?void 0:ne.y)??0))}},se=ee=>{Y.x<=10&&Y.y<=10?ee.preventDefault():b.contains(ee.target)||B(!1),document.removeEventListener("pointermove",H),D.current=null};return D.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",se,{capture:!0})}}},[b,B,D]),C.useEffect(()=>{const Y=()=>B(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[B]);const[A,I]=oC(Y=>{const H=V().filter(Q=>!Q.disabled),se=H.find(Q=>Q.ref.current===document.activeElement),ee=aC(H,Y,se);ee&&setTimeout(()=>ee.ref.current.focus())}),W=C.useCallback((Y,H,se)=>{const ee=!K.current&&!se;(g.value!==void 0&&g.value===H||ee)&&(L(Y),ee&&(K.current=!0))},[g.value]),O=C.useCallback(()=>b==null?void 0:b.focus(),[b]),re=C.useCallback((Y,H,se)=>{const ee=!K.current&&!se;(g.value!==void 0&&g.value===H||ee)&&F(Y)},[g.value]),ue=n==="popper"?yp:US,he=ue===yp?{side:l,sideOffset:u,align:f,alignOffset:p,arrowPadding:h,collisionBoundary:v,collisionPadding:_,sticky:k,hideWhenDetached:w,avoidCollisions:y}:{};return i.jsx($S,{scope:r,content:b,viewport:N,onViewportChange:T,itemRefCallback:W,selectedItem:E,onItemLeave:O,itemTextRefCallback:re,focusSelectedItem:G,selectedItemText:z,position:n,isPositioned:U,searchRef:A,children:i.jsx(Xu,{as:PI,allowPinchZoom:!0,children:i.jsx(Vu,{asChild:!0,trapped:g.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:ke(o,Y=>{var H;(H=g.trigger)==null||H.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(gl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:i.jsx(ue,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:Y=>Y.preventDefault(),...x,...he,onPlaced:()=>X(!0),ref:P,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:ke(x.onKeyDown,Y=>{const H=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!H&&Y.key.length===1&&I(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let ee=V().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const Q=Y.target,ne=ee.indexOf(Q);ee=ee.slice(ne+1)}setTimeout(()=>q(ee)),Y.preventDefault()}})})})})})})});VS.displayName=NI;var TI="SelectItemAlignedPosition",US=C.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...o}=e,d=Zs(Ti,r),c=ei(Ti,r),[l,u]=C.useState(null),[f,p]=C.useState(null),h=Ye(t,P=>p(P)),v=Qu(r),_=C.useRef(!1),k=C.useRef(!0),{viewport:w,selectedItem:y,selectedItemText:x,focusSelectedItem:g}=c,b=C.useCallback(()=>{if(d.trigger&&d.valueNode&&l&&f&&w&&y&&x){const P=d.trigger.getBoundingClientRect(),E=f.getBoundingClientRect(),L=d.valueNode.getBoundingClientRect(),z=x.getBoundingClientRect();if(d.dir!=="rtl"){const Q=z.left-E.left,ne=L.left-Q,ye=P.left-ne,Oe=P.width+ye,ze=Math.max(Oe,E.width),Xe=window.innerWidth-bn,Te=hp(ne,[bn,Math.max(bn,Xe-ze)]);l.style.minWidth=Oe+"px",l.style.left=Te+"px"}else{const Q=E.right-z.right,ne=window.innerWidth-L.right-Q,ye=window.innerWidth-P.right-ne,Oe=P.width+ye,ze=Math.max(Oe,E.width),Xe=window.innerWidth-bn,Te=hp(ne,[bn,Math.max(bn,Xe-ze)]);l.style.minWidth=Oe+"px",l.style.right=Te+"px"}const F=v(),V=window.innerHeight-bn*2,U=w.scrollHeight,X=window.getComputedStyle(f),K=parseInt(X.borderTopWidth,10),q=parseInt(X.paddingTop,10),G=parseInt(X.borderBottomWidth,10),B=parseInt(X.paddingBottom,10),D=K+q+U+B+G,A=Math.min(y.offsetHeight*5,D),I=window.getComputedStyle(w),W=parseInt(I.paddingTop,10),O=parseInt(I.paddingBottom,10),re=P.top+P.height/2-bn,ue=V-re,he=y.offsetHeight/2,Y=y.offsetTop+he,H=K+q+Y,se=D-H;if(H<=re){const Q=F.length>0&&y===F[F.length-1].ref.current;l.style.bottom="0px";const ne=f.clientHeight-w.offsetTop-w.offsetHeight,ye=Math.max(ue,he+(Q?O:0)+ne+G),Oe=H+ye;l.style.height=Oe+"px"}else{const Q=F.length>0&&y===F[0].ref.current;l.style.top="0px";const ye=Math.max(re,K+w.offsetTop+(Q?W:0)+he)+se;l.style.height=ye+"px",w.scrollTop=H-re+w.offsetTop}l.style.margin=`${bn}px 0`,l.style.minHeight=A+"px",l.style.maxHeight=V+"px",n==null||n(),requestAnimationFrame(()=>_.current=!0)}},[v,d.trigger,d.valueNode,l,f,w,y,x,d.dir,n]);er(()=>b(),[b]);const[j,N]=C.useState();er(()=>{f&&N(window.getComputedStyle(f).zIndex)},[f]);const T=C.useCallback(P=>{P&&k.current===!0&&(b(),g==null||g(),k.current=!1)},[b,g]);return i.jsx(AI,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:_,onScrollButtonChange:T,children:i.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:i.jsx(Ve.div,{...o,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});US.displayName=TI;var RI="SelectPopperPosition",yp=C.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:o=bn,...d}=e,c=Zu(r);return i.jsx(Vm,{...c,...d,ref:t,align:n,collisionPadding:o,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yp.displayName=RI;var[AI,Km]=Ho(Ti,{}),xp="SelectViewport",WS=C.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...o}=e,d=ei(xp,r),c=Km(xp,r),l=Ye(t,d.onViewportChange),u=C.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),i.jsx(Ju.Slot,{scope:r,children:i.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:ke(o.onScroll,f=>{const p=f.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:v}=c;if(v!=null&&v.current&&h){const _=Math.abs(u.current-p.scrollTop);if(_>0){const k=window.innerHeight-bn*2,w=parseFloat(h.style.minHeight),y=parseFloat(h.style.height),x=Math.max(w,y);if(x<k){const g=x+_,b=Math.min(k,g),j=g-b;h.style.height=b+"px",h.style.bottom==="0px"&&(p.scrollTop=j>0?j:0,h.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});WS.displayName=xp;var KS="SelectGroup",[MI,DI]=Ho(KS),LI=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Br();return i.jsx(MI,{scope:r,id:o,children:i.jsx(Ve.div,{role:"group","aria-labelledby":o,...n,ref:t})})});LI.displayName=KS;var GS="SelectLabel",qS=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=DI(GS,r);return i.jsx(Ve.div,{id:o.id,...n,ref:t})});qS.displayName=GS;var gu="SelectItem",[II,YS]=Ho(gu),XS=C.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:o=!1,textValue:d,...c}=e,l=Zs(gu,r),u=ei(gu,r),f=l.value===n,[p,h]=C.useState(d??""),[v,_]=C.useState(!1),k=Ye(t,g=>{var b;return(b=u.itemRefCallback)==null?void 0:b.call(u,g,n,o)}),w=Br(),y=C.useRef("touch"),x=()=>{o||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(II,{scope:r,value:n,disabled:o,textId:w,isSelected:f,onItemTextChange:C.useCallback(g=>{h(b=>b||((g==null?void 0:g.textContent)??"").trim())},[]),children:i.jsx(Ju.ItemSlot,{scope:r,value:n,disabled:o,textValue:p,children:i.jsx(Ve.div,{role:"option","aria-labelledby":w,"data-highlighted":v?"":void 0,"aria-selected":f&&v,"data-state":f?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...c,ref:k,onFocus:ke(c.onFocus,()=>_(!0)),onBlur:ke(c.onBlur,()=>_(!1)),onClick:ke(c.onClick,()=>{y.current!=="mouse"&&x()}),onPointerUp:ke(c.onPointerUp,()=>{y.current==="mouse"&&x()}),onPointerDown:ke(c.onPointerDown,g=>{y.current=g.pointerType}),onPointerMove:ke(c.onPointerMove,g=>{var b;y.current=g.pointerType,o?(b=u.onItemLeave)==null||b.call(u):y.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(c.onPointerLeave,g=>{var b;g.currentTarget===document.activeElement&&((b=u.onItemLeave)==null||b.call(u))}),onKeyDown:ke(c.onKeyDown,g=>{var j;((j=u.searchRef)==null?void 0:j.current)!==""&&g.key===" "||(bI.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});XS.displayName=gu;var Ia="SelectItemText",JS=C.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:o,...d}=e,c=Zs(Ia,r),l=ei(Ia,r),u=YS(Ia,r),f=kI(Ia,r),[p,h]=C.useState(null),v=Ye(t,x=>h(x),u.onItemTextChange,x=>{var g;return(g=l.itemTextRefCallback)==null?void 0:g.call(l,x,u.value,u.disabled)}),_=p==null?void 0:p.textContent,k=C.useMemo(()=>i.jsx("option",{value:u.value,disabled:u.disabled,children:_},u.value),[u.disabled,u.value,_]),{onNativeOptionAdd:w,onNativeOptionRemove:y}=f;return er(()=>(w(k),()=>y(k)),[w,y,k]),i.jsxs(i.Fragment,{children:[i.jsx(Ve.span,{id:u.textId,...d,ref:v}),u.isSelected&&c.valueNode&&!c.valueNodeHasChildren?ol.createPortal(d.children,c.valueNode):null]})});JS.displayName=Ia;var QS="SelectItemIndicator",ZS=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return YS(QS,r).isSelected?i.jsx(Ve.span,{"aria-hidden":!0,...n,ref:t}):null});ZS.displayName=QS;var _p="SelectScrollUpButton",eC=C.forwardRef((e,t)=>{const r=ei(_p,e.__scopeSelect),n=Km(_p,e.__scopeSelect),[o,d]=C.useState(!1),c=Ye(t,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollTop>0;d(f)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(rC,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});eC.displayName=_p;var bp="SelectScrollDownButton",tC=C.forwardRef((e,t)=>{const r=ei(bp,e.__scopeSelect),n=Km(bp,e.__scopeSelect),[o,d]=C.useState(!1),c=Ye(t,n.onScrollButtonChange);return er(()=>{if(r.viewport&&r.isPositioned){let l=function(){const f=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<f;d(p)};const u=r.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),o?i.jsx(rC,{...e,ref:c,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=r;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});tC.displayName=bp;var rC=C.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...o}=e,d=ei("SelectScrollButton",r),c=C.useRef(null),l=Qu(r),u=C.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return C.useEffect(()=>()=>u(),[u]),er(()=>{var p;const f=l().find(h=>h.ref.current===document.activeElement);(p=f==null?void 0:f.ref.current)==null||p.scrollIntoView({block:"nearest"})},[l]),i.jsx(Ve.div,{"aria-hidden":!0,...o,ref:t,style:{flexShrink:0,...o.style},onPointerDown:ke(o.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(n,50))}),onPointerMove:ke(o.onPointerMove,()=>{var f;(f=d.onItemLeave)==null||f.call(d),c.current===null&&(c.current=window.setInterval(n,50))}),onPointerLeave:ke(o.onPointerLeave,()=>{u()})})}),OI="SelectSeparator",nC=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return i.jsx(Ve.div,{"aria-hidden":!0,...n,ref:t})});nC.displayName=OI;var wp="SelectArrow",BI=C.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,o=Zu(r),d=Zs(wp,r),c=ei(wp,r);return d.open&&c.position==="popper"?i.jsx(Um,{...o,...n,ref:t}):null});BI.displayName=wp;var FI="SelectBubbleInput",sC=C.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const o=C.useRef(null),d=Ye(n,o),c=Pm(t);return C.useEffect(()=>{const l=o.current;if(!l)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(c!==t&&p){const h=new Event("change",{bubbles:!0});p.call(l,t),l.dispatchEvent(h)}},[c,t]),i.jsx(Ve.select,{...r,style:{...CS,...r.style},ref:d,defaultValue:t})});sC.displayName=FI;function iC(e){return e===""||e===void 0}function oC(e){const t=Qt(e),r=C.useRef(""),n=C.useRef(0),o=C.useCallback(c=>{const l=r.current+c;t(l),(function u(f){r.current=f,window.clearTimeout(n.current),f!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(l)},[t]),d=C.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,o,d]}function aC(e,t,r){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let c=zI(e,Math.max(d,0));o.length===1&&(c=c.filter(f=>f!==r));const u=c.find(f=>f.textValue.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function zI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var HI=DS,lC=IS,$I=BS,VI=FS,UI=zS,cC=HS,WI=WS,uC=qS,dC=XS,KI=JS,GI=ZS,hC=eC,fC=tC,pC=nC;const Xs=HI,Js=$I,cs=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(lC,{ref:n,className:je("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,i.jsx(VI,{asChild:!0,children:i.jsx(hs,{className:"h-4 w-4 opacity-50"})})]}));cs.displayName=lC.displayName;const mC=C.forwardRef(({className:e,...t},r)=>i.jsx(hC,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(z4,{className:"h-4 w-4"})}));mC.displayName=hC.displayName;const gC=C.forwardRef(({className:e,...t},r)=>i.jsx(fC,{ref:r,className:je("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(hs,{className:"h-4 w-4"})}));gC.displayName=fC.displayName;const us=C.forwardRef(({className:e,children:t,position:r="popper",...n},o)=>i.jsx(UI,{children:i.jsxs(cC,{ref:o,className:je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[i.jsx(mC,{}),i.jsx(WI,{className:je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(gC,{})]})}));us.displayName=cC.displayName;const qI=C.forwardRef(({className:e,...t},r)=>i.jsx(uC,{ref:r,className:je("px-2 py-1.5 text-sm font-semibold",e),...t}));qI.displayName=uC.displayName;const Bt=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(dC,{ref:n,className:je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(GI,{children:i.jsx(kr,{className:"h-4 w-4"})})}),i.jsx(KI,{children:t})]}));Bt.displayName=dC.displayName;const YI=C.forwardRef(({className:e,...t},r)=>i.jsx(pC,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));YI.displayName=pC.displayName;var XI=Symbol("radix.slottable");function JI(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=XI,t}var[ed]=zr("Tooltip",[zo]),td=zo(),vC="TooltipProvider",QI=700,Sp="tooltip.open",[ZI,Gm]=ed(vC),yC=e=>{const{__scopeTooltip:t,delayDuration:r=QI,skipDelayDuration:n=300,disableHoverableContent:o=!1,children:d}=e,c=C.useRef(!0),l=C.useRef(!1),u=C.useRef(0);return C.useEffect(()=>{const f=u.current;return()=>window.clearTimeout(f)},[]),i.jsx(ZI,{scope:t,isOpenDelayedRef:c,delayDuration:r,onOpen:C.useCallback(()=>{window.clearTimeout(u.current),c.current=!1},[]),onClose:C.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>c.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:C.useCallback(f=>{l.current=f},[]),disableHoverableContent:o,children:d})};yC.displayName=vC;var el="Tooltip",[eO,xl]=ed(el),xC=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:o,onOpenChange:d,disableHoverableContent:c,delayDuration:l}=e,u=Gm(el,e.__scopeTooltip),f=td(t),[p,h]=C.useState(null),v=Br(),_=C.useRef(0),k=c??u.disableHoverableContent,w=l??u.delayDuration,y=C.useRef(!1),[x,g]=Sn({prop:n,defaultProp:o??!1,onChange:P=>{P?(u.onOpen(),document.dispatchEvent(new CustomEvent(Sp))):u.onClose(),d==null||d(P)},caller:el}),b=C.useMemo(()=>x?y.current?"delayed-open":"instant-open":"closed",[x]),j=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,y.current=!1,g(!0)},[g]),N=C.useCallback(()=>{window.clearTimeout(_.current),_.current=0,g(!1)},[g]),T=C.useCallback(()=>{window.clearTimeout(_.current),_.current=window.setTimeout(()=>{y.current=!0,g(!0),_.current=0},w)},[w,g]);return C.useEffect(()=>()=>{_.current&&(window.clearTimeout(_.current),_.current=0)},[]),i.jsx(qu,{...f,children:i.jsx(eO,{scope:t,contentId:v,open:x,stateAttribute:b,trigger:p,onTriggerChange:h,onTriggerEnter:C.useCallback(()=>{u.isOpenDelayedRef.current?T():j()},[u.isOpenDelayedRef,T,j]),onTriggerLeave:C.useCallback(()=>{k?N():(window.clearTimeout(_.current),_.current=0)},[N,k]),onOpen:j,onClose:N,disableHoverableContent:k,children:r})})};xC.displayName=el;var Cp="TooltipTrigger",_C=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=xl(Cp,r),d=Gm(Cp,r),c=td(r),l=C.useRef(null),u=Ye(t,l,o.onTriggerChange),f=C.useRef(!1),p=C.useRef(!1),h=C.useCallback(()=>f.current=!1,[]);return C.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),i.jsx($m,{asChild:!0,...c,children:i.jsx(Ve.button,{"aria-describedby":o.open?o.contentId:void 0,"data-state":o.stateAttribute,...n,ref:u,onPointerMove:ke(e.onPointerMove,v=>{v.pointerType!=="touch"&&!p.current&&!d.isPointerInTransitRef.current&&(o.onTriggerEnter(),p.current=!0)}),onPointerLeave:ke(e.onPointerLeave,()=>{o.onTriggerLeave(),p.current=!1}),onPointerDown:ke(e.onPointerDown,()=>{o.open&&o.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:ke(e.onFocus,()=>{f.current||o.onOpen()}),onBlur:ke(e.onBlur,o.onClose),onClick:ke(e.onClick,o.onClose)})})});_C.displayName=Cp;var qm="TooltipPortal",[tO,rO]=ed(qm,{forceMount:void 0}),bC=e=>{const{__scopeTooltip:t,forceMount:r,children:n,container:o}=e,d=xl(qm,t);return i.jsx(tO,{scope:t,forceMount:r,children:i.jsx(cr,{present:r||d.open,children:i.jsx(yl,{asChild:!0,container:o,children:n})})})};bC.displayName=qm;var Po="TooltipContent",wC=C.forwardRef((e,t)=>{const r=rO(Po,e.__scopeTooltip),{forceMount:n=r.forceMount,side:o="top",...d}=e,c=xl(Po,e.__scopeTooltip);return i.jsx(cr,{present:n||c.open,children:c.disableHoverableContent?i.jsx(SC,{side:o,...d,ref:t}):i.jsx(nO,{side:o,...d,ref:t})})}),nO=C.forwardRef((e,t)=>{const r=xl(Po,e.__scopeTooltip),n=Gm(Po,e.__scopeTooltip),o=C.useRef(null),d=Ye(t,o),[c,l]=C.useState(null),{trigger:u,onClose:f}=r,p=o.current,{onPointerInTransitChange:h}=n,v=C.useCallback(()=>{l(null),h(!1)},[h]),_=C.useCallback((k,w)=>{const y=k.currentTarget,x={x:k.clientX,y:k.clientY},g=lO(x,y.getBoundingClientRect()),b=cO(x,g),j=uO(w.getBoundingClientRect()),N=hO([...b,...j]);l(N),h(!0)},[h]);return C.useEffect(()=>()=>v(),[v]),C.useEffect(()=>{if(u&&p){const k=y=>_(y,p),w=y=>_(y,u);return u.addEventListener("pointerleave",k),p.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",k),p.removeEventListener("pointerleave",w)}}},[u,p,_,v]),C.useEffect(()=>{if(c){const k=w=>{const y=w.target,x={x:w.clientX,y:w.clientY},g=(u==null?void 0:u.contains(y))||(p==null?void 0:p.contains(y)),b=!dO(x,c);g?v():b&&(v(),f())};return document.addEventListener("pointermove",k),()=>document.removeEventListener("pointermove",k)}},[u,p,c,f,v]),i.jsx(SC,{...e,ref:d})}),[sO,iO]=ed(el,{isInside:!1}),oO=JI("TooltipContent"),SC=C.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":o,onEscapeKeyDown:d,onPointerDownOutside:c,...l}=e,u=xl(Po,r),f=td(r),{onClose:p}=u;return C.useEffect(()=>(document.addEventListener(Sp,p),()=>document.removeEventListener(Sp,p)),[p]),C.useEffect(()=>{if(u.trigger){const h=v=>{const _=v.target;_!=null&&_.contains(u.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[u.trigger,p]),i.jsx(gl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:d,onPointerDownOutside:c,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:i.jsxs(Vm,{"data-state":u.stateAttribute,...f,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(oO,{children:n}),i.jsx(sO,{scope:r,isInside:!0,children:i.jsx(D3,{id:u.contentId,role:"tooltip",children:o||n})})]})})});wC.displayName=Po;var CC="TooltipArrow",aO=C.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,o=td(r);return iO(CC,r).isInside?null:i.jsx(Um,{...o,...n,ref:t})});aO.displayName=CC;function lO(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),o=Math.abs(t.right-e.x),d=Math.abs(t.left-e.x);switch(Math.min(r,n,o,d)){case d:return"left";case o:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cO(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function uO(e){const{top:t,right:r,bottom:n,left:o}=e;return[{x:o,y:t},{x:r,y:t},{x:r,y:n},{x:o,y:n}]}function dO(e,t){const{x:r,y:n}=e;let o=!1;for(let d=0,c=t.length-1;d<t.length;c=d++){const l=t[d],u=t[c],f=l.x,p=l.y,h=u.x,v=u.y;p>n!=v>n&&r<(h-f)*(n-p)/(v-p)+f&&(o=!o)}return o}function hO(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),fO(t)}function fO(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const o=e[n];for(;t.length>=2;){const d=t[t.length-1],c=t[t.length-2];if((d.x-c.x)*(o.y-c.y)>=(d.y-c.y)*(o.x-c.x))t.pop();else break}t.push(o)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const o=e[n];for(;r.length>=2;){const d=r[r.length-1],c=r[r.length-2];if((d.x-c.x)*(o.y-c.y)>=(d.y-c.y)*(o.x-c.x))r.pop();else break}r.push(o)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var pO=yC,mO=xC,gO=_C,vO=bC,kC=wC;const jC=pO,Hs=mO,$s=gO,is=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(vO,{children:i.jsx(kC,{ref:n,sideOffset:t,className:je("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));is.displayName=kC.displayName;const yO=Bu("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),vu=C.forwardRef(({className:e,variant:t,...r},n)=>i.jsx("div",{ref:n,role:"alert",className:je(yO({variant:t}),e),...r}));vu.displayName="Alert";const xO=C.forwardRef(({className:e,...t},r)=>i.jsx("h5",{ref:r,className:je("mb-1 font-medium leading-none tracking-tight",e),...t}));xO.displayName="AlertTitle";const yu=C.forwardRef(({className:e,...t},r)=>i.jsx("div",{ref:r,className:je("text-sm [&_p]:leading-relaxed",e),...t}));yu.displayName="AlertDescription";var rd="Collapsible",[_O]=zr(rd),[bO,Ym]=_O(rd),EC=C.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:o,disabled:d,onOpenChange:c,...l}=e,[u,f]=Sn({prop:n,defaultProp:o??!1,onChange:c,caller:rd});return i.jsx(bO,{scope:r,disabled:d,contentId:Br(),open:u,onOpenToggle:C.useCallback(()=>f(p=>!p),[f]),children:i.jsx(Ve.div,{"data-state":Jm(u),"data-disabled":d?"":void 0,...l,ref:t})})});EC.displayName=rd;var NC="CollapsibleTrigger",PC=C.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,o=Ym(NC,r);return i.jsx(Ve.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Jm(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...n,ref:t,onClick:ke(e.onClick,o.onOpenToggle)})});PC.displayName=NC;var Xm="CollapsibleContent",TC=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=Ym(Xm,e.__scopeCollapsible);return i.jsx(cr,{present:r||o.open,children:({present:d})=>i.jsx(wO,{...n,ref:t,present:d})})});TC.displayName=Xm;var wO=C.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:o,...d}=e,c=Ym(Xm,r),[l,u]=C.useState(n),f=C.useRef(null),p=Ye(t,f),h=C.useRef(0),v=h.current,_=C.useRef(0),k=_.current,w=c.open||l,y=C.useRef(w),x=C.useRef(void 0);return C.useEffect(()=>{const g=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(g)},[]),er(()=>{const g=f.current;if(g){x.current=x.current||{transitionDuration:g.style.transitionDuration,animationName:g.style.animationName},g.style.transitionDuration="0s",g.style.animationName="none";const b=g.getBoundingClientRect();h.current=b.height,_.current=b.width,y.current||(g.style.transitionDuration=x.current.transitionDuration,g.style.animationName=x.current.animationName),u(n)}},[c.open,n]),i.jsx(Ve.div,{"data-state":Jm(c.open),"data-disabled":c.disabled?"":void 0,id:c.contentId,hidden:!w,...d,ref:p,style:{"--radix-collapsible-content-height":v?`${v}px`:void 0,"--radix-collapsible-content-width":k?`${k}px`:void 0,...e.style},children:w&&o})});function Jm(e){return e?"open":"closed"}var SO=EC;const RC=SO,AC=PC,MC=TC;function CO(e){const t=kO(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(EO);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function kO(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=PO(o),l=NO(d,o.props);return o.type!==C.Fragment&&(l.ref=n?fs(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var jO=Symbol("radix.slottable");function EO(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===jO}function NO(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function PO(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var nd="Dialog",[DC,LC]=zr(nd),[TO,jn]=DC(nd),IC=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:o,onOpenChange:d,modal:c=!0}=e,l=C.useRef(null),u=C.useRef(null),[f,p]=Sn({prop:n,defaultProp:o??!1,onChange:d,caller:nd});return i.jsx(TO,{scope:t,triggerRef:l,contentRef:u,contentId:Br(),titleId:Br(),descriptionId:Br(),open:f,onOpenChange:p,onOpenToggle:C.useCallback(()=>p(h=>!h),[p]),modal:c,children:r})};IC.displayName=nd;var OC="DialogTrigger",BC=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jn(OC,r),d=Ye(t,o.triggerRef);return i.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":eg(o.open),...n,ref:d,onClick:ke(e.onClick,o.onOpenToggle)})});BC.displayName=OC;var Qm="DialogPortal",[RO,FC]=DC(Qm,{forceMount:void 0}),zC=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:o}=e,d=jn(Qm,t);return i.jsx(RO,{scope:t,forceMount:r,children:C.Children.map(n,c=>i.jsx(cr,{present:r||d.open,children:i.jsx(yl,{asChild:!0,container:o,children:c})}))})};zC.displayName=Qm;var xu="DialogOverlay",HC=C.forwardRef((e,t)=>{const r=FC(xu,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,d=jn(xu,e.__scopeDialog);return d.modal?i.jsx(cr,{present:n||d.open,children:i.jsx(MO,{...o,ref:t})}):null});HC.displayName=xu;var AO=CO("DialogOverlay.RemoveScroll"),MO=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jn(xu,r);return i.jsx(Xu,{as:AO,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(Ve.div,{"data-state":eg(o.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ri="DialogContent",$C=C.forwardRef((e,t)=>{const r=FC(Ri,e.__scopeDialog),{forceMount:n=r.forceMount,...o}=e,d=jn(Ri,e.__scopeDialog);return i.jsx(cr,{present:n||d.open,children:d.modal?i.jsx(DO,{...o,ref:t}):i.jsx(LO,{...o,ref:t})})});$C.displayName=Ri;var DO=C.forwardRef((e,t)=>{const r=jn(Ri,e.__scopeDialog),n=C.useRef(null),o=Ye(t,r.contentRef,n);return C.useEffect(()=>{const d=n.current;if(d)return Wm(d)},[]),i.jsx(VC,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(e.onCloseAutoFocus,d=>{var c;d.preventDefault(),(c=r.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ke(e.onPointerDownOutside,d=>{const c=d.detail.originalEvent,l=c.button===0&&c.ctrlKey===!0;(c.button===2||l)&&d.preventDefault()}),onFocusOutside:ke(e.onFocusOutside,d=>d.preventDefault())})}),LO=C.forwardRef((e,t)=>{const r=jn(Ri,e.__scopeDialog),n=C.useRef(!1),o=C.useRef(!1);return i.jsx(VC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{var c,l;(c=e.onCloseAutoFocus)==null||c.call(e,d),d.defaultPrevented||(n.current||(l=r.triggerRef.current)==null||l.focus(),d.preventDefault()),n.current=!1,o.current=!1},onInteractOutside:d=>{var u,f;(u=e.onInteractOutside)==null||u.call(e,d),d.defaultPrevented||(n.current=!0,d.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=d.target;((f=r.triggerRef.current)==null?void 0:f.contains(c))&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&o.current&&d.preventDefault()}})}),VC=C.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:o,onCloseAutoFocus:d,...c}=e,l=jn(Ri,r),u=C.useRef(null),f=Ye(t,u);return Mm(),i.jsxs(i.Fragment,{children:[i.jsx(Vu,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:o,onUnmountAutoFocus:d,children:i.jsx(gl,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":eg(l.open),...c,ref:f,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(OO,{titleId:l.titleId}),i.jsx(FO,{contentRef:u,descriptionId:l.descriptionId})]})]})}),Zm="DialogTitle",UC=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jn(Zm,r);return i.jsx(Ve.h2,{id:o.titleId,...n,ref:t})});UC.displayName=Zm;var WC="DialogDescription",KC=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jn(WC,r);return i.jsx(Ve.p,{id:o.descriptionId,...n,ref:t})});KC.displayName=WC;var GC="DialogClose",qC=C.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,o=jn(GC,r);return i.jsx(Ve.button,{type:"button",...n,ref:t,onClick:ke(e.onClick,()=>o.onOpenChange(!1))})});qC.displayName=GC;function eg(e){return e?"open":"closed"}var YC="DialogTitleWarning",[IO,XC]=o5(YC,{contentName:Ri,titleName:Zm,docsSlug:"dialog"}),OO=({titleId:e})=>{const t=XC(YC),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return C.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},BO="DialogDescriptionWarning",FO=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${XC(BO).contentName}}.`;return C.useEffect(()=>{var d;const o=(d=e.current)==null?void 0:d.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},zO=IC,HO=BC,JC=zC,tg=HC,rg=$C,ng=UC,sg=KC,ig=qC;const Zt=zO,$O=JC,QC=C.forwardRef(({className:e,...t},r)=>i.jsx(tg,{ref:r,className:je("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));QC.displayName=tg.displayName;const Wt=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs($O,{children:[i.jsx(QC,{}),i.jsxs(rg,{ref:n,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,i.jsxs(ig,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(km,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wt.displayName=rg.displayName;const Kt=({className:e,...t})=>i.jsx("div",{className:je("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Kt.displayName="DialogHeader";const lr=({className:e,...t})=>i.jsx("div",{className:je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});lr.displayName="DialogFooter";const Gt=C.forwardRef(({className:e,...t},r)=>i.jsx(ng,{ref:r,className:je("text-lg font-semibold leading-none tracking-tight",e),...t}));Gt.displayName=ng.displayName;const Cr=C.forwardRef(({className:e,...t},r)=>i.jsx(sg,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Cr.displayName=sg.displayName;function VO(e){const t=UO(e),r=C.forwardRef((n,o)=>{const{children:d,...c}=n,l=C.Children.toArray(d),u=l.find(KO);if(u){const f=u.props.children,p=l.map(h=>h===u?C.Children.count(f)>1?C.Children.only(null):C.isValidElement(f)?f.props.children:null:h);return i.jsx(t,{...c,ref:o,children:C.isValidElement(f)?C.cloneElement(f,void 0,p):null})}return i.jsx(t,{...c,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}function UO(e){const t=C.forwardRef((r,n)=>{const{children:o,...d}=r;if(C.isValidElement(o)){const c=qO(o),l=GO(d,o.props);return o.type!==C.Fragment&&(l.ref=n?fs(n,c):c),C.cloneElement(o,l)}return C.Children.count(o)>1?C.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var WO=Symbol("radix.slottable");function KO(e){return C.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===WO}function GO(e,t){const r={...t};for(const n in t){const o=e[n],d=t[n];/^on[A-Z]/.test(n)?o&&d?r[n]=(...l)=>{const u=d(...l);return o(...l),u}:o&&(r[n]=o):n==="style"?r[n]={...o,...d}:n==="className"&&(r[n]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function qO(e){var n,o;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kp=["Enter"," "],YO=["ArrowDown","PageUp","Home"],ZC=["ArrowUp","PageDown","End"],XO=[...YO,...ZC],JO={ltr:[...kp,"ArrowRight"],rtl:[...kp,"ArrowLeft"]},QO={ltr:["ArrowLeft"],rtl:["ArrowRight"]},_l="Menu",[tl,ZO,e6]=Rm(_l),[Mi,ek]=zr(_l,[e6,zo,zu]),bl=zo(),tk=zu(),[rk,ti]=Mi(_l),[t6,wl]=Mi(_l),nk=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:o,onOpenChange:d,modal:c=!0}=e,l=bl(t),[u,f]=C.useState(null),p=C.useRef(!1),h=Qt(d),v=fl(o);return C.useEffect(()=>{const _=()=>{p.current=!0,document.addEventListener("pointerdown",k,{capture:!0,once:!0}),document.addEventListener("pointermove",k,{capture:!0,once:!0})},k=()=>p.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",k,{capture:!0}),document.removeEventListener("pointermove",k,{capture:!0})}},[]),i.jsx(qu,{...l,children:i.jsx(rk,{scope:t,open:r,onOpenChange:h,content:u,onContentChange:f,children:i.jsx(t6,{scope:t,onClose:C.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:p,dir:v,modal:c,children:n})})})};nk.displayName=_l;var r6="MenuAnchor",og=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=bl(r);return i.jsx($m,{...o,...n,ref:t})});og.displayName=r6;var ag="MenuPortal",[n6,sk]=Mi(ag,{forceMount:void 0}),ik=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:o}=e,d=ti(ag,t);return i.jsx(n6,{scope:t,forceMount:r,children:i.jsx(cr,{present:r||d.open,children:i.jsx(yl,{asChild:!0,container:o,children:n})})})};ik.displayName=ag;var dn="MenuContent",[s6,lg]=Mi(dn),ok=C.forwardRef((e,t)=>{const r=sk(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,d=ti(dn,e.__scopeMenu),c=wl(dn,e.__scopeMenu);return i.jsx(tl.Provider,{scope:e.__scopeMenu,children:i.jsx(cr,{present:n||d.open,children:i.jsx(tl.Slot,{scope:e.__scopeMenu,children:c.modal?i.jsx(i6,{...o,ref:t}):i.jsx(o6,{...o,ref:t})})})})}),i6=C.forwardRef((e,t)=>{const r=ti(dn,e.__scopeMenu),n=C.useRef(null),o=Ye(t,n);return C.useEffect(()=>{const d=n.current;if(d)return Wm(d)},[]),i.jsx(cg,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:ke(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),o6=C.forwardRef((e,t)=>{const r=ti(dn,e.__scopeMenu);return i.jsx(cg,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),a6=VO("MenuContent.ScrollLock"),cg=C.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:c,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:v,onDismiss:_,disableOutsideScroll:k,...w}=e,y=ti(dn,r),x=wl(dn,r),g=bl(r),b=tk(r),j=ZO(r),[N,T]=C.useState(null),P=C.useRef(null),E=Ye(t,P,y.onContentChange),L=C.useRef(0),z=C.useRef(""),F=C.useRef(0),V=C.useRef(null),U=C.useRef("right"),X=C.useRef(0),K=k?Xu:C.Fragment,q=k?{as:a6,allowPinchZoom:!0}:void 0,G=D=>{var Y,H;const A=z.current+D,I=j().filter(se=>!se.disabled),W=document.activeElement,O=(Y=I.find(se=>se.ref.current===W))==null?void 0:Y.textValue,re=I.map(se=>se.textValue),ue=x6(re,A,O),he=(H=I.find(se=>se.textValue===ue))==null?void 0:H.ref.current;(function se(ee){z.current=ee,window.clearTimeout(L.current),ee!==""&&(L.current=window.setTimeout(()=>se(""),1e3))})(A),he&&setTimeout(()=>he.focus())};C.useEffect(()=>()=>window.clearTimeout(L.current),[]),Mm();const B=C.useCallback(D=>{var I,W;return U.current===((I=V.current)==null?void 0:I.side)&&b6(D,(W=V.current)==null?void 0:W.area)},[]);return i.jsx(s6,{scope:r,searchRef:z,onItemEnter:C.useCallback(D=>{B(D)&&D.preventDefault()},[B]),onItemLeave:C.useCallback(D=>{var A;B(D)||((A=P.current)==null||A.focus(),T(null))},[B]),onTriggerLeave:C.useCallback(D=>{B(D)&&D.preventDefault()},[B]),pointerGraceTimerRef:F,onPointerGraceIntentChange:C.useCallback(D=>{V.current=D},[]),children:i.jsx(K,{...q,children:i.jsx(Vu,{asChild:!0,trapped:o,onMountAutoFocus:ke(d,D=>{var A;D.preventDefault(),(A=P.current)==null||A.focus({preventScroll:!0})}),onUnmountAutoFocus:c,children:i.jsx(gl,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:h,onInteractOutside:v,onDismiss:_,children:i.jsx(F1,{asChild:!0,...b,dir:x.dir,orientation:"vertical",loop:n,currentTabStopId:N,onCurrentTabStopIdChange:T,onEntryFocus:ke(u,D=>{x.isUsingKeyboardRef.current||D.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(Vm,{role:"menu","aria-orientation":"vertical","data-state":Sk(y.open),"data-radix-menu-content":"",dir:x.dir,...g,...w,ref:E,style:{outline:"none",...w.style},onKeyDown:ke(w.onKeyDown,D=>{const I=D.target.closest("[data-radix-menu-content]")===D.currentTarget,W=D.ctrlKey||D.altKey||D.metaKey,O=D.key.length===1;I&&(D.key==="Tab"&&D.preventDefault(),!W&&O&&G(D.key));const re=P.current;if(D.target!==re||!XO.includes(D.key))return;D.preventDefault();const he=j().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);ZC.includes(D.key)&&he.reverse(),v6(he)}),onBlur:ke(e.onBlur,D=>{D.currentTarget.contains(D.target)||(window.clearTimeout(L.current),z.current="")}),onPointerMove:ke(e.onPointerMove,rl(D=>{const A=D.target,I=X.current!==D.clientX;if(D.currentTarget.contains(A)&&I){const W=D.clientX>X.current?"right":"left";U.current=W,X.current=D.clientX}}))})})})})})})});ok.displayName=dn;var l6="MenuGroup",ug=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ve.div,{role:"group",...n,ref:t})});ug.displayName=l6;var c6="MenuLabel",ak=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ve.div,{...n,ref:t})});ak.displayName=c6;var _u="MenuItem",__="menu.itemSelect",sd=C.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...o}=e,d=C.useRef(null),c=wl(_u,e.__scopeMenu),l=lg(_u,e.__scopeMenu),u=Ye(t,d),f=C.useRef(!1),p=()=>{const h=d.current;if(!r&&h){const v=new CustomEvent(__,{bubbles:!0,cancelable:!0});h.addEventListener(__,_=>n==null?void 0:n(_),{once:!0}),E1(h,v),v.defaultPrevented?f.current=!1:c.onClose()}};return i.jsx(lk,{...o,ref:u,disabled:r,onClick:ke(e.onClick,p),onPointerDown:h=>{var v;(v=e.onPointerDown)==null||v.call(e,h),f.current=!0},onPointerUp:ke(e.onPointerUp,h=>{var v;f.current||(v=h.currentTarget)==null||v.click()}),onKeyDown:ke(e.onKeyDown,h=>{const v=l.searchRef.current!=="";r||v&&h.key===" "||kp.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});sd.displayName=_u;var lk=C.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:o,...d}=e,c=lg(_u,r),l=tk(r),u=C.useRef(null),f=Ye(t,u),[p,h]=C.useState(!1),[v,_]=C.useState("");return C.useEffect(()=>{const k=u.current;k&&_((k.textContent??"").trim())},[d.children]),i.jsx(tl.ItemSlot,{scope:r,disabled:n,textValue:o??v,children:i.jsx(z1,{asChild:!0,...l,focusable:!n,children:i.jsx(Ve.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...d,ref:f,onPointerMove:ke(e.onPointerMove,rl(k=>{n?c.onItemLeave(k):(c.onItemEnter(k),k.defaultPrevented||k.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ke(e.onPointerLeave,rl(k=>c.onItemLeave(k))),onFocus:ke(e.onFocus,()=>h(!0)),onBlur:ke(e.onBlur,()=>h(!1))})})})}),u6="MenuCheckboxItem",ck=C.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...o}=e;return i.jsx(pk,{scope:e.__scopeMenu,checked:r,children:i.jsx(sd,{role:"menuitemcheckbox","aria-checked":bu(r)?"mixed":r,...o,ref:t,"data-state":fg(r),onSelect:ke(o.onSelect,()=>n==null?void 0:n(bu(r)?!0:!r),{checkForDefaultPrevented:!1})})})});ck.displayName=u6;var uk="MenuRadioGroup",[d6,h6]=Mi(uk,{value:void 0,onValueChange:()=>{}}),dk=C.forwardRef((e,t)=>{const{value:r,onValueChange:n,...o}=e,d=Qt(n);return i.jsx(d6,{scope:e.__scopeMenu,value:r,onValueChange:d,children:i.jsx(ug,{...o,ref:t})})});dk.displayName=uk;var hk="MenuRadioItem",fk=C.forwardRef((e,t)=>{const{value:r,...n}=e,o=h6(hk,e.__scopeMenu),d=r===o.value;return i.jsx(pk,{scope:e.__scopeMenu,checked:d,children:i.jsx(sd,{role:"menuitemradio","aria-checked":d,...n,ref:t,"data-state":fg(d),onSelect:ke(n.onSelect,()=>{var c;return(c=o.onValueChange)==null?void 0:c.call(o,r)},{checkForDefaultPrevented:!1})})})});fk.displayName=hk;var dg="MenuItemIndicator",[pk,f6]=Mi(dg,{checked:!1}),mk=C.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...o}=e,d=f6(dg,r);return i.jsx(cr,{present:n||bu(d.checked)||d.checked===!0,children:i.jsx(Ve.span,{...o,ref:t,"data-state":fg(d.checked)})})});mk.displayName=dg;var p6="MenuSeparator",gk=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return i.jsx(Ve.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});gk.displayName=p6;var m6="MenuArrow",vk=C.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,o=bl(r);return i.jsx(Um,{...o,...n,ref:t})});vk.displayName=m6;var hg="MenuSub",[g6,yk]=Mi(hg),xk=e=>{const{__scopeMenu:t,children:r,open:n=!1,onOpenChange:o}=e,d=ti(hg,t),c=bl(t),[l,u]=C.useState(null),[f,p]=C.useState(null),h=Qt(o);return C.useEffect(()=>(d.open===!1&&h(!1),()=>h(!1)),[d.open,h]),i.jsx(qu,{...c,children:i.jsx(rk,{scope:t,open:n,onOpenChange:h,content:f,onContentChange:p,children:i.jsx(g6,{scope:t,contentId:Br(),triggerId:Br(),trigger:l,onTriggerChange:u,children:r})})})};xk.displayName=hg;var Oa="MenuSubTrigger",_k=C.forwardRef((e,t)=>{const r=ti(Oa,e.__scopeMenu),n=wl(Oa,e.__scopeMenu),o=yk(Oa,e.__scopeMenu),d=lg(Oa,e.__scopeMenu),c=C.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=d,f={__scopeMenu:e.__scopeMenu},p=C.useCallback(()=>{c.current&&window.clearTimeout(c.current),c.current=null},[]);return C.useEffect(()=>p,[p]),C.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),u(null)}},[l,u]),i.jsx(og,{asChild:!0,...f,children:i.jsx(lk,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":Sk(r.open),...e,ref:fs(t,o.onTriggerChange),onClick:h=>{var v;(v=e.onClick)==null||v.call(e,h),!(e.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:ke(e.onPointerMove,rl(h=>{d.onItemEnter(h),!h.defaultPrevented&&!e.disabled&&!r.open&&!c.current&&(d.onPointerGraceIntentChange(null),c.current=window.setTimeout(()=>{r.onOpenChange(!0),p()},100))})),onPointerLeave:ke(e.onPointerLeave,rl(h=>{var _,k;p();const v=(_=r.content)==null?void 0:_.getBoundingClientRect();if(v){const w=(k=r.content)==null?void 0:k.dataset.side,y=w==="right",x=y?-5:5,g=v[y?"left":"right"],b=v[y?"right":"left"];d.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:g,y:v.top},{x:b,y:v.top},{x:b,y:v.bottom},{x:g,y:v.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(h),h.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:ke(e.onKeyDown,h=>{var _;const v=d.searchRef.current!=="";e.disabled||v&&h.key===" "||JO[n.dir].includes(h.key)&&(r.onOpenChange(!0),(_=r.content)==null||_.focus(),h.preventDefault())})})})});_k.displayName=Oa;var bk="MenuSubContent",wk=C.forwardRef((e,t)=>{const r=sk(dn,e.__scopeMenu),{forceMount:n=r.forceMount,...o}=e,d=ti(dn,e.__scopeMenu),c=wl(dn,e.__scopeMenu),l=yk(bk,e.__scopeMenu),u=C.useRef(null),f=Ye(t,u);return i.jsx(tl.Provider,{scope:e.__scopeMenu,children:i.jsx(cr,{present:n||d.open,children:i.jsx(tl.Slot,{scope:e.__scopeMenu,children:i.jsx(cg,{id:l.contentId,"aria-labelledby":l.triggerId,...o,ref:f,align:"start",side:c.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var h;c.isUsingKeyboardRef.current&&((h=u.current)==null||h.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:ke(e.onFocusOutside,p=>{p.target!==l.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:ke(e.onEscapeKeyDown,p=>{c.onClose(),p.preventDefault()}),onKeyDown:ke(e.onKeyDown,p=>{var _;const h=p.currentTarget.contains(p.target),v=QO[c.dir].includes(p.key);h&&v&&(d.onOpenChange(!1),(_=l.trigger)==null||_.focus(),p.preventDefault())})})})})})});wk.displayName=bk;function Sk(e){return e?"open":"closed"}function bu(e){return e==="indeterminate"}function fg(e){return bu(e)?"indeterminate":e?"checked":"unchecked"}function v6(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function y6(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function x6(e,t,r){const o=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,d=r?e.indexOf(r):-1;let c=y6(e,Math.max(d,0));o.length===1&&(c=c.filter(f=>f!==r));const u=c.find(f=>f.toLowerCase().startsWith(o.toLowerCase()));return u!==r?u:void 0}function _6(e,t){const{x:r,y:n}=e;let o=!1;for(let d=0,c=t.length-1;d<t.length;c=d++){const l=t[d],u=t[c],f=l.x,p=l.y,h=u.x,v=u.y;p>n!=v>n&&r<(h-f)*(n-p)/(v-p)+f&&(o=!o)}return o}function b6(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return _6(r,t)}function rl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var w6=nk,S6=og,C6=ik,k6=ok,j6=ug,E6=ak,N6=sd,P6=ck,T6=dk,R6=fk,A6=mk,M6=gk,D6=vk,L6=xk,I6=_k,O6=wk,id="DropdownMenu",[B6]=zr(id,[ek]),xr=ek(),[F6,Ck]=B6(id),kk=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:o,defaultOpen:d,onOpenChange:c,modal:l=!0}=e,u=xr(t),f=C.useRef(null),[p,h]=Sn({prop:o,defaultProp:d??!1,onChange:c,caller:id});return i.jsx(F6,{scope:t,triggerId:Br(),triggerRef:f,contentId:Br(),open:p,onOpenChange:h,onOpenToggle:C.useCallback(()=>h(v=>!v),[h]),modal:l,children:i.jsx(w6,{...u,open:p,onOpenChange:h,dir:n,modal:l,children:r})})};kk.displayName=id;var jk="DropdownMenuTrigger",Ek=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...o}=e,d=Ck(jk,r),c=xr(r);return i.jsx(S6,{asChild:!0,...c,children:i.jsx(Ve.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...o,ref:fs(t,d.triggerRef),onPointerDown:ke(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(d.onOpenToggle(),d.open||l.preventDefault())}),onKeyDown:ke(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&d.onOpenToggle(),l.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});Ek.displayName=jk;var z6="DropdownMenuPortal",Nk=e=>{const{__scopeDropdownMenu:t,...r}=e,n=xr(t);return i.jsx(C6,{...n,...r})};Nk.displayName=z6;var Pk="DropdownMenuContent",Tk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=Ck(Pk,r),d=xr(r),c=C.useRef(!1);return i.jsx(k6,{id:o.contentId,"aria-labelledby":o.triggerId,...d,...n,ref:t,onCloseAutoFocus:ke(e.onCloseAutoFocus,l=>{var u;c.current||(u=o.triggerRef.current)==null||u.focus(),c.current=!1,l.preventDefault()}),onInteractOutside:ke(e.onInteractOutside,l=>{const u=l.detail.originalEvent,f=u.button===0&&u.ctrlKey===!0,p=u.button===2||f;(!o.modal||p)&&(c.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tk.displayName=Pk;var H6="DropdownMenuGroup",$6=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(j6,{...o,...n,ref:t})});$6.displayName=H6;var V6="DropdownMenuLabel",Rk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(E6,{...o,...n,ref:t})});Rk.displayName=V6;var U6="DropdownMenuItem",Ak=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(N6,{...o,...n,ref:t})});Ak.displayName=U6;var W6="DropdownMenuCheckboxItem",Mk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(P6,{...o,...n,ref:t})});Mk.displayName=W6;var K6="DropdownMenuRadioGroup",G6=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(T6,{...o,...n,ref:t})});G6.displayName=K6;var q6="DropdownMenuRadioItem",Dk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(R6,{...o,...n,ref:t})});Dk.displayName=q6;var Y6="DropdownMenuItemIndicator",Lk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(A6,{...o,...n,ref:t})});Lk.displayName=Y6;var X6="DropdownMenuSeparator",Ik=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(M6,{...o,...n,ref:t})});Ik.displayName=X6;var J6="DropdownMenuArrow",Q6=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(D6,{...o,...n,ref:t})});Q6.displayName=J6;var Z6=e=>{const{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:o,defaultOpen:d}=e,c=xr(t),[l,u]=Sn({prop:n,defaultProp:d??!1,onChange:o,caller:"DropdownMenuSub"});return i.jsx(L6,{...c,open:l,onOpenChange:u,children:r})},eB="DropdownMenuSubTrigger",Ok=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(I6,{...o,...n,ref:t})});Ok.displayName=eB;var tB="DropdownMenuSubContent",Bk=C.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,o=xr(r);return i.jsx(O6,{...o,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Bk.displayName=tB;var rB=kk,nB=Ek,sB=Nk,Fk=Tk,zk=Rk,Hk=Ak,$k=Mk,Vk=Dk,Uk=Lk,Wk=Ik,iB=Z6,Kk=Ok,Gk=Bk;const Di=rB,Li=nB,jp=iB,wu=C.forwardRef(({className:e,inset:t,children:r,...n},o)=>i.jsxs(Kk,{ref:o,className:je("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n,children:[r,i.jsx(Mo,{className:"ml-auto"})]}));wu.displayName=Kk.displayName;const Su=C.forwardRef(({className:e,...t},r)=>i.jsx(Gk,{ref:r,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));Su.displayName=Gk.displayName;const ri=C.forwardRef(({className:e,sideOffset:t=4,...r},n)=>i.jsx(sB,{children:i.jsx(Fk,{ref:n,sideOffset:t,className:je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));ri.displayName=Fk.displayName;const ht=C.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(Hk,{ref:n,className:je("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...r}));ht.displayName=Hk.displayName;const Cu=C.forwardRef(({className:e,children:t,checked:r,...n},o)=>i.jsxs($k,{ref:o,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Uk,{children:i.jsx(kr,{className:"h-4 w-4"})})}),t]}));Cu.displayName=$k.displayName;const oB=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(Vk,{ref:n,className:je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Uk,{children:i.jsx(U4,{className:"h-2 w-2 fill-current"})})}),t]}));oB.displayName=Vk.displayName;const od=C.forwardRef(({className:e,inset:t,...r},n)=>i.jsx(zk,{ref:n,className:je("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));od.displayName=zk.displayName;const Ir=C.forwardRef(({className:e,...t},r)=>i.jsx(Wk,{ref:r,className:je("-mx-1 my-1 h-px bg-muted",e),...t}));Ir.displayName=Wk.displayName;const Ep=[{name:"Bash",icon:At,description:"Shell commands",color:"text-purple-600",bgColor:"bg-purple-50",badgeClass:"bg-purple-100 text-purple-700 border-purple-200"},{name:"Read",icon:Or,description:"Read file contents",color:"text-blue-600",bgColor:"bg-blue-50",badgeClass:"bg-blue-100 text-blue-700 border-blue-200"},{name:"Edit",icon:wm,description:"Edit existing files",color:"text-amber-600",bgColor:"bg-amber-50",badgeClass:"bg-amber-100 text-amber-700 border-amber-200"},{name:"Write",icon:a1,description:"Create/write files",color:"text-orange-600",bgColor:"bg-orange-50",badgeClass:"bg-orange-100 text-orange-700 border-orange-200"},{name:"WebFetch",icon:jo,description:"Fetch web content",color:"text-green-600",bgColor:"bg-green-50",badgeClass:"bg-green-100 text-green-700 border-green-200"},{name:"WebSearch",icon:dl,description:"Web search capability",color:"text-teal-600",bgColor:"bg-teal-50",badgeClass:"bg-teal-100 text-teal-700 border-teal-200"},{name:"mcp",icon:cu,description:"MCP server tools",color:"text-indigo-600",bgColor:"bg-indigo-50",badgeClass:"bg-indigo-100 text-indigo-700 border-indigo-200"}],Ef=[{category:"Git",name:"Git Status",pattern:"Bash(git status:*)",description:"Check repository status",icon:At},{category:"Git",name:"Git Add",pattern:"Bash(git add:*)",description:"Stage files for commit",icon:At},{category:"Git",name:"Git Commit",pattern:"Bash(git commit:*)",description:"Create commits",icon:At},{category:"Git",name:"Git Push",pattern:"Bash(git push:*)",description:"Push to remote repository",icon:At},{category:"Git",name:"Git Diff",pattern:"Bash(git diff:*)",description:"Show changes",icon:At},{category:"NPM",name:"NPM Install",pattern:"Bash(npm install:*)",description:"Install dependencies",icon:At},{category:"NPM",name:"NPM Run Scripts",pattern:"Bash(npm run:*)",description:"Run package scripts",icon:At},{category:"NPM",name:"NPM Test",pattern:"Bash(npm test:*)",description:"Run tests",icon:At},{category:"Files",name:"Read All Files",pattern:"Read(**)",description:"Read any file in the project",icon:Or},{category:"Files",name:"Edit All Files",pattern:"Edit(**)",description:"Edit any file in the project",icon:wm},{category:"Security",name:"Deny .env Files",pattern:"Read(./.env)",description:"Block reading environment files",icon:Or,suggestedCategory:"deny"},{category:"Security",name:"Deny All .env",pattern:"Read(**/.env*)",description:"Block all environment files",icon:Or,suggestedCategory:"deny"},{category:"Commands",name:"List Files",pattern:"Bash(ls:*)",description:"List directory contents",icon:At},{category:"Commands",name:"Find Files",pattern:"Bash(find:*)",description:"Find files and directories",icon:At},{category:"MCP",name:"Filesystem Operations",pattern:"mcp__filesystem__*",description:"All filesystem MCP operations",icon:cu},{category:"MCP",name:"GitHub Operations",pattern:"mcp__github__*",description:"All GitHub MCP operations",icon:cu}];function qk(e){if(!e)return{type:"unknown",value:"",hasWildcard:!1,description:""};if(e.startsWith("mcp__")){const r=e.split("__");return{type:"mcp",value:e,server:r[1]||"",tool:r[2]||"",hasWildcard:e.includes("*"),description:`MCP tool: ${r.slice(1).join("/")}`}}if(e==="WebSearch")return{type:"WebSearch",value:"",hasWildcard:!1,description:"Web search capability"};const t=e.match(/^(\w+)\((.+)\)$/);if(t){const[,r,n]=t,o=n.includes("*");return{type:r,value:n,hasWildcard:o,description:cB(r,n)}}return{type:"unknown",value:e,hasWildcard:e.includes("*"),description:e}}function aB(e,t){return e==="WebSearch"?"WebSearch":e==="mcp"?t:t?`${e}(${t})`:""}function lB(e){if(!e)return"Rule cannot be empty";if(e==="WebSearch")return null;if(e.startsWith("mcp__"))return e.includes("*")||e.match(/^mcp__\w+__\w+$/)?null:"MCP pattern must be: mcp__server__tool";const t=e.match(/^(\w+)\((.+)\)$/);if(!t)return"Invalid pattern format. Expected: Type(value) or mcp__server__tool";const[,r]=t,n=["Bash","Read","Edit","Write","WebFetch"];return n.includes(r)?null:`Unknown permission type: ${r}. Valid types: ${n.join(", ")}`}function cB(e,t){switch(e){case"Bash":if(t.includes(":")){const[r,n]=t.split(":");return n==="*"?`Run "${r}" with any arguments`:`Run "${r} ${n}"`}return`Run "${t}"`;case"Read":return t==="**"?"Read all files":t.includes("**")?`Read files matching ${t}`:`Read ${t}`;case"Edit":return t==="**"?"Edit all files":t.includes("**")?`Edit files matching ${t}`:`Edit ${t}`;case"Write":return t==="**"?"Write to any file":t.includes("**")?`Write files matching ${t}`:`Write to ${t}`;case"WebFetch":return t==="*"?"Fetch any URL":`Fetch URLs matching ${t}`;default:return t}}function uB(e){return Ep.find(r=>r.name===e)||Ep[0]}function dB(e){return{allow:'Rules in "Allow" will execute automatically without prompting. Use wildcards (*) for flexible matching.',ask:'Rules in "Ask" will prompt for confirmation each time. Good for potentially destructive operations.',deny:'Rules in "Deny" are blocked entirely. Use this to prevent access to sensitive files or dangerous operations.'}[e]}function b_(e){return{allow:{label:"Allow",color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-200",badgeColor:"bg-green-100 text-green-700",description:"Operations that run without asking"},ask:{label:"Ask",color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-200",badgeColor:"bg-amber-100 text-amber-700",description:"Operations that require confirmation"},deny:{label:"Deny",color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-200",badgeColor:"bg-red-100 text-red-700",description:"Operations that are blocked"}}[e]}function hB({rule:e,category:t,onEdit:r,onDelete:n,onMove:o,readOnly:d}){const[c,l]=C.useState(!1),u=qk(e),f=uB(u.type),p=f.icon,h=v=>{v.stopPropagation(),navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)};return i.jsxs(ss.div,{layout:!0,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:je("group flex items-center gap-3 p-3 rounded-lg bg-white dark:bg-slate-900 border border-gray-200 dark:border-slate-700","hover:border-gray-300 dark:hover:border-slate-600 hover:shadow-sm transition-all"),children:[i.jsx("div",{className:je("w-8 h-8 rounded-lg flex items-center justify-center shrink-0",f.bgColor),children:i.jsx(p,{className:je("w-4 h-4",f.color)})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{variant:"outline",className:je("text-xs",f.badgeClass),children:u.type}),u.hasWildcard&&i.jsxs(Hs,{children:[i.jsx($s,{children:i.jsx(rt,{variant:"secondary",className:"text-xs",children:"Wildcard"})}),i.jsx(is,{children:"Pattern uses wildcard (*) matching"})]})]}),i.jsxs(Hs,{children:[i.jsx($s,{asChild:!0,children:i.jsx("code",{className:"block text-sm font-mono text-gray-700 dark:text-slate-300 truncate mt-1 cursor-default",children:e})}),i.jsx(is,{side:"bottom",className:"max-w-md",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx("code",{className:"text-xs break-all",children:e}),i.jsx("p",{className:"text-xs text-gray-300",children:u.description})]})})]})]}),i.jsxs("div",{className:je("flex items-center gap-1 transition-opacity",d?"opacity-50 pointer-events-none":"opacity-0 group-hover:opacity-100"),children:[i.jsxs(Hs,{children:[i.jsx($s,{asChild:!0,children:i.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:h,children:c?i.jsx(kr,{className:"w-4 h-4 text-green-500"}):i.jsx(Ja,{className:"w-4 h-4"})})}),i.jsx(is,{children:"Copy rule"})]}),i.jsxs(Di,{children:[i.jsx(Li,{asChild:!0,children:i.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(Jw,{className:"w-4 h-4"})})}),i.jsxs(ri,{align:"end",children:[i.jsxs(ht,{onClick:r,children:[i.jsx(Cm,{className:"w-4 h-4 mr-2"}),"Edit Rule"]}),i.jsxs(jp,{children:[i.jsxs(wu,{children:[i.jsx(Yw,{className:"w-4 h-4 mr-2"}),"Move to..."]}),i.jsx(Su,{children:["allow","ask","deny"].filter(v=>v!==t).map(v=>i.jsxs(ht,{onClick:()=>o(v),children:["Move to ",v]},v))})]}),i.jsx(Ir,{}),i.jsxs(ht,{onClick:n,className:"text-red-600",children:[i.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Delete Rule"]})]})]})]})]})}function fB({open:e,onOpenChange:t,onSubmit:r,defaultCategory:n="allow",defaultRule:o="",isEditing:d=!1}){const[c,l]=C.useState("preset"),[u,f]=C.useState(n),[p,h]=C.useState("Bash"),[v,_]=C.useState(""),[k,w]=C.useState(o),[y,x]=C.useState(null),[g,b]=C.useState(""),[j,N]=C.useState(null);C.useEffect(()=>{if(e)if(f(n),o&&d){const F=qk(o);h(F.type==="unknown"?"Bash":F.type),_(F.value),w(o);const V=Ef.find(U=>U.pattern===o);V?(x(V),l("preset")):l("builder")}else h("Bash"),_(""),w(""),x(null),l("preset")},[e,o,n,d]);const T=C.useMemo(()=>c==="preset"&&y?y.pattern:c==="freeform"?k:aB(p,v),[c,y,p,v,k]);C.useEffect(()=>{const F=lB(T);N(F)},[T]);const P=C.useMemo(()=>{if(!g)return Ef;const F=g.toLowerCase();return Ef.filter(V=>V.name.toLowerCase().includes(F)||V.pattern.toLowerCase().includes(F)||V.description.toLowerCase().includes(F)||V.category.toLowerCase().includes(F))},[g]),E=C.useMemo(()=>{const F={};return P.forEach(V=>{F[V.category]||(F[V.category]=[]),F[V.category].push(V)}),F},[P]),L=()=>{j||(r(u,T),t(!1))},z=gB(p);return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs(Kt,{children:[i.jsx(Gt,{className:"flex items-center gap-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx(a1,{className:"w-5 h-5 text-indigo-600"}),"Edit Permission Rule"]}):i.jsxs(i.Fragment,{children:[i.jsx(es,{className:"w-5 h-5 text-indigo-600"}),"Add Permission Rule"]})}),i.jsx(Cr,{children:"Create a permission rule to control Claude Code's behavior."})]}),i.jsxs("div",{className:"flex-1 overflow-auto space-y-6 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{children:"Permission Category"}),i.jsxs(Xs,{value:u,onValueChange:f,children:[i.jsx(cs,{children:i.jsx(Js,{})}),i.jsxs(us,{children:[i.jsx(Bt,{value:"allow",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),"Allow - Execute without asking"]})}),i.jsx(Bt,{value:"ask",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-amber-500"}),"Ask - Require confirmation"]})}),i.jsx(Bt,{value:"deny",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),"Deny - Block entirely"]})})]})]})]}),i.jsxs($u,{value:c,onValueChange:l,children:[i.jsxs(ml,{className:"grid w-full grid-cols-3",children:[i.jsxs(wn,{value:"preset",children:[i.jsx(es,{className:"w-4 h-4 mr-2"}),"Presets"]}),i.jsxs(wn,{value:"builder",children:[i.jsx(At,{className:"w-4 h-4 mr-2"}),"Builder"]}),i.jsxs(wn,{value:"freeform",children:[i.jsx(wm,{className:"w-4 h-4 mr-2"}),"Freeform"]})]}),i.jsxs(ts,{value:"preset",className:"space-y-4",children:[i.jsx(ot,{placeholder:"Search presets...",value:g,onChange:F=>b(F.target.value)}),i.jsx("div",{className:"border border-gray-200 dark:border-slate-700 rounded-lg max-h-[250px] overflow-auto",children:Object.entries(E).map(([F,V])=>i.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700 last:border-b-0",children:[i.jsx("div",{className:"px-3 py-2 bg-gray-50 dark:bg-slate-800 font-medium text-sm text-gray-600 dark:text-slate-300",children:F}),V.map(U=>{const X=U.icon;return i.jsx("button",{onClick:()=>x(U),className:je("w-full text-left px-3 py-2 hover:bg-gray-50 dark:hover:bg-slate-800 transition-colors",(y==null?void 0:y.pattern)===U.pattern&&"bg-indigo-50 dark:bg-indigo-950/50 border-l-2 border-indigo-500"),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(X,{className:"w-4 h-4 mt-0.5 text-gray-400 dark:text-slate-500"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:"font-medium text-sm",children:U.name}),i.jsx("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate",children:U.pattern}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:U.description})]})]})},U.pattern)})]},F))})]}),i.jsxs(ts,{value:"builder",className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{children:"Permission Type"}),i.jsxs(Xs,{value:p,onValueChange:h,children:[i.jsx(cs,{children:i.jsx(Js,{})}),i.jsx(us,{children:Ep.map(F=>{const V=F.icon;return i.jsx(Bt,{value:F.name,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(V,{className:"w-4 h-4"}),F.name,i.jsxs("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:["- ",F.description]})]})},F.name)})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ot,{children:pB(p)}),i.jsxs(Hs,{children:[i.jsx($s,{children:i.jsx(bm,{className:"w-4 h-4 text-gray-400"})}),i.jsx(is,{className:"max-w-xs",children:mB(p)})]})]}),p==="WebSearch"?i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 italic",children:"WebSearch does not require a value pattern."}):i.jsx(ot,{value:v,onChange:F=>_(F.target.value),placeholder:p==="Bash"?"command:arguments":"path/pattern",className:"font-mono"})]}),z.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{className:"text-xs text-gray-500 dark:text-slate-400",children:"Quick examples:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:z.map(F=>i.jsx(pe,{variant:"outline",size:"sm",className:"text-xs h-7",onClick:()=>_(F.value),children:F.label},F.value))})]})]}),i.jsx(ts,{value:"freeform",className:"space-y-4",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{children:"Rule Pattern"}),i.jsx(mt,{value:k,onChange:F=>w(F.target.value),placeholder:"e.g., Bash(npm run build), Read(**/*.ts)",className:"font-mono text-sm",rows:3}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Enter the full permission pattern. Use * for wildcards and : for Bash argument separation."})]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{children:"Generated Rule"}),i.jsx("div",{className:je("p-3 rounded-lg border font-mono text-sm",j?"bg-red-50 dark:bg-red-950/50 border-red-200 dark:border-red-800 text-red-700 dark:text-red-400":"bg-gray-50 dark:bg-slate-800 border-gray-200 dark:border-slate-700 text-gray-700 dark:text-slate-300"),children:T||i.jsx("span",{className:"text-gray-400 dark:text-slate-500",children:"No rule configured"})}),j&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[i.jsx(Xa,{className:"w-4 h-4"}),j]})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),i.jsx(pe,{onClick:L,disabled:!T||!!j,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:d?"Update Rule":"Add Rule"})]})]})})}function pB(e){return{Bash:"Command Pattern",Read:"File Path Pattern",Edit:"File Path Pattern",Write:"File Path Pattern",WebFetch:"URL Pattern",WebSearch:"N/A",mcp:"Tool Name"}[e]||"Value"}function mB(e){return{Bash:"Format: command:arguments. Use * for wildcards. Example: npm run:* matches npm run build, npm run test, etc.",Read:"File path pattern. Use ** for recursive matching. Example: **/*.ts matches all TypeScript files.",Edit:"File path pattern. Use ** for recursive matching.",Write:"File path pattern. Use ** for recursive matching.",WebFetch:"URL pattern. Example: https://api.github.com/* matches all GitHub API calls.",WebSearch:"No value needed - this enables/disables web search entirely.",mcp:"MCP tool name in format: mcp__server__tool"}[e]||""}function gB(e){return{Bash:[{label:"npm run *",value:"npm run:*"},{label:"git add *",value:"git add:*"},{label:"git commit *",value:"git commit:*"},{label:"ls *",value:"ls:*"}],Read:[{label:"All files",value:"**"},{label:"TypeScript",value:"**/*.ts"},{label:"Source only",value:"./src/**"}],Edit:[{label:"All files",value:"**"},{label:"Source only",value:"./src/**"}],Write:[{label:"All files",value:"**"}],WebFetch:[{label:"Any URL",value:"*"},{label:"GitHub API",value:"https://api.github.com/*"}],mcp:[{label:"Filesystem read",value:"mcp__filesystem__read_file"},{label:"GitHub PR",value:"mcp__github__create_pull_request"}]}[e]||[]}function vB({open:e,onOpenChange:t,mode:r,permissions:n,onImport:o}){const[d,c]=C.useState(""),[l,u]=C.useState(null),[f,p]=C.useState(!1);C.useEffect(()=>{e&&r==="export"?(c(JSON.stringify({permissions:n},null,2)),u(null)):e&&r==="import"&&(c(""),u(null))},[e,r,n]);const h=()=>{navigator.clipboard.writeText(d),p(!0),setTimeout(()=>p(!1),2e3),ie.success("Copied to clipboard")},v=()=>{try{const _=JSON.parse(d);if(!_.permissions){u('JSON must have a "permissions" key');return}const{allow:k=[],ask:w=[],deny:y=[]}=_.permissions;if(!Array.isArray(k)||!Array.isArray(w)||!Array.isArray(y)){u("allow, ask, and deny must be arrays");return}if([...k,...w,...y].some(g=>typeof g!="string")){u("All permission rules must be strings");return}o(_.permissions),t(!1)}catch(_){u("Invalid JSON: "+_.message)}};return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"max-w-lg",children:[i.jsxs(Kt,{children:[i.jsx(Gt,{className:"flex items-center gap-2",children:r==="export"?i.jsxs(i.Fragment,{children:[i.jsx(Lu,{className:"w-5 h-5 text-indigo-600"}),"Export Permissions"]}):i.jsxs(i.Fragment,{children:[i.jsx(cp,{className:"w-5 h-5 text-indigo-600"}),"Import Permissions"]})}),i.jsx(Cr,{children:r==="export"?"Copy this JSON to save or share your permission configuration.":"Paste a JSON permission configuration to import."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsx(mt,{value:d,onChange:_=>{c(_.target.value),u(null)},placeholder:r==="import"?"Paste JSON here...":"",className:"font-mono text-sm min-h-[300px]",readOnly:r==="export"}),l&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[i.jsx(Xa,{className:"w-4 h-4"}),l]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>t(!1),children:"Cancel"}),r==="export"?i.jsxs(pe,{onClick:h,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[f?i.jsx(kr,{className:"w-4 h-4 mr-2"}):i.jsx(Ja,{className:"w-4 h-4 mr-2"}),f?"Copied!":"Copy to Clipboard"]}):i.jsxs(pe,{onClick:v,disabled:!d.trim(),className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[i.jsx(cp,{className:"w-4 h-4 mr-2"}),"Import"]})]})]})})}function yB({permissions:e,onSave:t,loading:r,readOnly:n=!1}){const[o,d]=C.useState({allow:[],ask:[],deny:[]}),[c,l]=C.useState("allow"),[u,f]=C.useState(!1),[p,h]=C.useState(!1),[v,_]=C.useState(!1),[k,w]=C.useState(!1),[y,x]=C.useState(null),[g,b]=C.useState(!1),[j,N]=C.useState("export");C.useEffect(()=>{e&&(d({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]}),f(!1))},[e]);const T=C.useCallback((q,G)=>{d(B=>[...B.allow,...B.ask,...B.deny].includes(G)?(ie.error("This rule already exists"),B):{...B,[q]:[...B[q],G]}),f(!0),ie.success(`Rule added to ${q}`)},[]),P=C.useCallback((q,G,B,D)=>{d(A=>{const I={...A};return I[q]=I[q].filter(W=>W!==G),I[B]=[...I[B],D],I}),f(!0),ie.success("Rule updated")},[]),E=C.useCallback((q,G)=>{d(B=>({...B,[q]:B[q].filter(D=>D!==G)})),f(!0),ie.success("Rule deleted")},[]),L=C.useCallback((q,G,B)=>{d(D=>({...D,[q]:D[q].filter(A=>A!==G),[B]:[...D[B],G]})),f(!0),ie.success(`Moved to ${B}`)},[]),z=C.useCallback(q=>{d({allow:q.allow||[],ask:q.ask||[],deny:q.deny||[]}),f(!0),ie.success("Permissions imported")},[]),F=async()=>{if(t){h(!0);try{await t(o),f(!1),ie.success("Permissions saved")}catch(q){ie.error("Failed to save: "+q.message)}finally{h(!1)}}},V=()=>{e&&(d({allow:e.allow||[],ask:e.ask||[],deny:e.deny||[]}),f(!1),ie.info("Changes reset"))},U=q=>{x(null),l(q),w(!0)},X=(q,G)=>{x({category:q,rule:G}),w(!0)},K=o.allow.length+o.ask.length+o.deny.length;return i.jsx(jC,{children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:i.jsx(hl,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Permissions"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure what Claude Code can do automatically"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[u&&i.jsx(rt,{variant:"outline",className:"bg-amber-50 dark:bg-amber-950/50 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800",children:"Unsaved changes"}),i.jsxs(Hs,{children:[i.jsx($s,{asChild:!0,children:i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>{N("export"),b(!0)},children:i.jsx(Lu,{className:"w-4 h-4"})})}),i.jsx(is,{children:"Export permissions"})]}),i.jsxs(Hs,{children:[i.jsx($s,{asChild:!0,children:i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>{N("import"),b(!0)},disabled:n,children:i.jsx(cp,{className:"w-4 h-4"})})}),i.jsx(is,{children:"Import permissions"})]}),u&&i.jsxs(i.Fragment,{children:[i.jsxs(pe,{variant:"outline",size:"sm",onClick:V,children:[i.jsx(yr,{className:"w-4 h-4 mr-1"}),"Reset"]}),i.jsxs(pe,{size:"sm",onClick:F,disabled:p,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[p?i.jsx(yr,{className:"w-4 h-4 mr-1 animate-spin"}):i.jsx(kr,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]}),i.jsxs(RC,{open:v,onOpenChange:_,children:[i.jsx(AC,{asChild:!0,children:i.jsxs(pe,{variant:"ghost",size:"sm",className:"text-gray-500 dark:text-slate-400",children:[i.jsx(bm,{className:"w-4 h-4 mr-2"}),"How permissions work",i.jsx(hs,{className:je("w-4 h-4 ml-2 transition-transform",v&&"rotate-180")})]})}),i.jsx(MC,{children:i.jsxs(vu,{className:"mt-2",children:[i.jsx(n1,{className:"w-4 h-4"}),i.jsxs(yu,{className:"text-sm",children:[i.jsxs("p",{className:"mb-2",children:["Permissions control what Claude Code can do automatically vs. what requires your approval. These settings are stored in ",i.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded text-xs",children:"~/.claude/settings.json"}),"."]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-3",children:[i.jsxs("div",{children:[i.jsx(rt,{className:"bg-green-100 dark:bg-green-950 text-green-700 dark:text-green-400 mb-1",children:"Allow"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Operations run without asking"})]}),i.jsxs("div",{children:[i.jsx(rt,{className:"bg-amber-100 dark:bg-amber-950 text-amber-700 dark:text-amber-400 mb-1",children:"Ask"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Prompts for confirmation each time"})]}),i.jsxs("div",{children:[i.jsx(rt,{className:"bg-red-100 dark:bg-red-950 text-red-700 dark:text-red-400 mb-1",children:"Deny"}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400",children:"Blocked entirely"})]})]}),i.jsxs("p",{className:"mt-3 text-xs text-gray-500 dark:text-slate-400",children:["Use wildcards: ",i.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"*"})," matches anything,"," ",i.jsx("code",{className:"px-1 py-0.5 bg-gray-100 dark:bg-slate-700 rounded",children:"**"})," matches recursively in paths."]})]})]})})]}),r&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(yr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!r&&K===0&&i.jsxs(vu,{children:[i.jsx(Ou,{className:"w-4 h-4"}),i.jsxs(yu,{children:["No permission rules configured. Claude Code will use default behavior and ask for permission on sensitive operations.",i.jsx(pe,{variant:"link",size:"sm",className:"ml-2 p-0 h-auto",onClick:()=>U("allow"),children:"Add your first rule"})]})]}),!r&&i.jsxs($u,{value:c,onValueChange:l,children:[i.jsx(ml,{className:"grid w-full grid-cols-3",children:["allow","ask","deny"].map(q=>{var D;const G=b_(q),B=((D=o[q])==null?void 0:D.length)||0;return i.jsxs(wn,{value:q,className:"flex items-center gap-2",children:[i.jsx("div",{className:je("w-2 h-2 rounded-full",q==="allow"&&"bg-green-500",q==="ask"&&"bg-amber-500",q==="deny"&&"bg-red-500")}),G.label,B>0&&i.jsx(rt,{variant:"secondary",className:"ml-1 text-xs",children:B})]},q)})}),["allow","ask","deny"].map(q=>{const G=b_(q),B=o[q]||[];return i.jsxs(ts,{value:q,className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Hs,{children:[i.jsx($s,{asChild:!0,children:i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 cursor-help",children:G.description})}),i.jsx(is,{className:"max-w-xs",children:dB(q)})]}),i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>U(q),disabled:n,children:[i.jsx(Ft,{className:"w-4 h-4 mr-1"}),"Add Rule"]})]}),B.length===0?i.jsxs("div",{className:je("text-center py-8 rounded-lg border-2 border-dashed",G.borderColor),children:[i.jsxs("p",{className:"text-gray-500 dark:text-slate-400",children:["No rules in ",q]}),i.jsx(pe,{variant:"link",size:"sm",onClick:()=>U(q),disabled:n,children:"Add a rule"})]}):i.jsx("div",{className:"space-y-2",children:i.jsx(Up,{mode:"popLayout",children:B.map(D=>i.jsx(hB,{rule:D,category:q,onEdit:()=>X(q,D),onDelete:()=>E(q,D),onMove:A=>L(q,D,A),readOnly:n},D))})})]},q)})]}),i.jsx(fB,{open:k,onOpenChange:w,onSubmit:(q,G)=>{y?P(y.category,y.rule,q,G):T(q,G)},defaultCategory:(y==null?void 0:y.category)||c,defaultRule:(y==null?void 0:y.rule)||"",isEditing:!!y}),i.jsx(vB,{open:g,onOpenChange:b,mode:j,permissions:o,onImport:z})]})})}const xB=[{id:"claude-sonnet-4-20250514",name:"Claude Sonnet 4",description:"Best balance of speed and capability",tier:"sonnet",recommended:!0},{id:"claude-opus-4-5-20251101",name:"Claude Opus 4.5",description:"Most capable, best for complex tasks",tier:"opus"},{id:"claude-haiku-4-5-20251001",name:"Claude Haiku 4.5",description:"Fastest, best for simple tasks",tier:"haiku"}],_B=[{key:"ANTHROPIC_SMALL_FAST_MODEL",label:"Small/Fast Model",description:"Model for background tasks and quick operations",placeholder:"claude-haiku-4-5-20251001"},{key:"CLAUDE_CODE_SUBAGENT_MODEL",label:"Subagent Model",description:"Model used for subagent/background processing",placeholder:"claude-haiku-4-20241022"}];function Yk({settings:e,onSave:t,loading:r,settingsPath:n="~/.claude/settings.json"}){const[o,d]=C.useState({}),[c,l]=C.useState("permissions"),[u,f]=C.useState(!1),[p,h]=C.useState(!1),[v,_]=C.useState(!1),[k,w]=C.useState(""),[y,x]=C.useState(null);C.useEffect(()=>{e&&(d(e),w(JSON.stringify(e,null,2)),f(!1))},[e]),C.useEffect(()=>{v||w(JSON.stringify(o,null,2))},[o,v]);const g=C.useCallback((P,E)=>{d(L=>{const z={...L,[P]:E};return(E===""||E===null||E===void 0)&&delete z[P],z}),f(!0)},[]),b=C.useCallback(P=>{d(E=>({...E,permissions:P})),f(!0)},[]),j=P=>{w(P);try{const E=JSON.parse(P);d(E),x(null),f(!0)}catch(E){x(E.message)}},N=async()=>{if(t){if(y){ie.error("Fix JSON errors before saving");return}h(!0);try{await t(o),f(!1),ie.success("Settings saved")}catch(P){ie.error("Failed to save: "+P.message)}finally{h(!1)}}},T=()=>{e&&(d(e),w(JSON.stringify(e,null,2)),x(null),f(!1),ie.info("Changes reset"))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-950 flex items-center justify-center",children:i.jsx(Ei,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Claude Code Settings"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Configure Claude Code behavior globally"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[u&&i.jsx(rt,{variant:"outline",className:"bg-amber-50 dark:bg-amber-950/50 text-amber-700 dark:text-amber-400 border-amber-200 dark:border-amber-800",children:"Unsaved changes"}),i.jsx(jC,{children:i.jsxs(Hs,{children:[i.jsx($s,{asChild:!0,children:i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>_(!v),children:v?i.jsx(Zw,{className:"w-4 h-4"}):i.jsx(Y4,{className:"w-4 h-4"})})}),i.jsx(is,{children:v?"Show UI":"Show JSON"})]})}),u&&i.jsxs(i.Fragment,{children:[i.jsxs(pe,{variant:"outline",size:"sm",onClick:T,children:[i.jsx(yr,{className:"w-4 h-4 mr-1"}),"Reset"]}),i.jsxs(pe,{size:"sm",onClick:N,disabled:p||!!y,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[p?i.jsx(yr,{className:"w-4 h-4 mr-1 animate-spin"}):i.jsx(kr,{className:"w-4 h-4 mr-1"}),"Save"]})]})]})]}),i.jsxs("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:["Settings file: ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-800 px-2 py-0.5 rounded text-xs",children:n})]}),r&&i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(yr,{className:"w-6 h-6 animate-spin text-gray-400"})}),!r&&v&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ot,{children:"Raw JSON"}),y&&i.jsx(rt,{variant:"destructive",className:"text-xs",children:y})]}),i.jsx(mt,{value:k,onChange:P=>j(P.target.value),className:je("font-mono text-sm min-h-[400px]",y&&"border-red-300 focus:border-red-500")})]}),!r&&!v&&i.jsxs($u,{value:c,onValueChange:l,children:[i.jsxs(ml,{className:"grid w-full grid-cols-4",children:[i.jsxs(wn,{value:"permissions",className:"flex items-center gap-2",children:[i.jsx(hl,{className:"w-4 h-4"}),"Permissions"]}),i.jsxs(wn,{value:"model",className:"flex items-center gap-2",children:[i.jsx(c1,{className:"w-4 h-4"}),"Model"]}),i.jsxs(wn,{value:"behavior",className:"flex items-center gap-2",children:[i.jsx(Ei,{className:"w-4 h-4"}),"Behavior"]}),i.jsxs(wn,{value:"advanced",className:"flex items-center gap-2",children:[i.jsx(At,{className:"w-4 h-4"}),"Advanced"]})]}),i.jsx(ts,{value:"permissions",className:"pt-4",children:i.jsx(yB,{permissions:o.permissions,onSave:b,loading:!1})}),i.jsx(ts,{value:"model",className:"space-y-6 pt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ot,{className:"text-base font-medium",children:"Default Model"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Select the default model for Claude Code sessions"}),i.jsx("div",{className:"grid gap-3",children:xB.map(P=>i.jsx("button",{onClick:()=>g("model",P.id),className:je("w-full p-4 rounded-lg border text-left transition-all",o.model===P.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/50":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:P.name}),P.recommended&&i.jsx(rt,{variant:"secondary",className:"text-xs",children:"Recommended"}),i.jsx(rt,{variant:"outline",className:je("text-xs",P.tier==="opus"&&"border-purple-300 text-purple-700",P.tier==="sonnet"&&"border-blue-300 text-blue-700",P.tier==="haiku"&&"border-green-300 text-green-700"),children:P.tier})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mt-1",children:P.description})]}),o.model===P.id&&i.jsx(kr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})]})},P.id))})]}),i.jsxs("div",{children:[i.jsx(Ot,{children:"Custom Model ID"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mb-2",children:"Override with a specific model ID (for AWS Bedrock, etc.)"}),i.jsx(ot,{value:o.model||"",onChange:P=>g("model",P.target.value),placeholder:"claude-sonnet-4-20250514",className:"font-mono"})]})]})}),i.jsx(ts,{value:"behavior",className:"space-y-6 pt-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx(Ot,{children:"Auto-accept Edits"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Automatically accept file edits without confirmation"})]}),i.jsx(dt,{checked:o.autoAcceptEdits??!1,onCheckedChange:P=>g("autoAcceptEdits",P)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx(Ot,{children:"Verbose Output"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Show detailed output for operations"})]}),i.jsx(dt,{checked:o.verbose??!1,onCheckedChange:P=>g("verbose",P)})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{children:[i.jsx(Ot,{children:"Enable MCP Servers"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Allow Claude Code to use MCP server connections"})]}),i.jsx(dt,{checked:o.enableMcp??!0,onCheckedChange:P=>g("enableMcp",P)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{children:"API Base URL"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:"Custom API endpoint (for proxies or enterprise deployments)"}),i.jsx(ot,{value:o.apiBaseUrl||"",onChange:P=>g("apiBaseUrl",P.target.value),placeholder:"https://api.anthropic.com",className:"font-mono"})]})]})}),i.jsxs(ts,{value:"advanced",className:"space-y-6 pt-4",children:[i.jsxs(vu,{children:[i.jsx(Ou,{className:"w-4 h-4"}),i.jsx(yu,{children:"Advanced settings for power users. Incorrect values may cause Claude Code to malfunction."})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ot,{className:"text-base font-medium",children:"Environment Variables"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Configure model-related environment variables"}),i.jsx("div",{className:"space-y-3",children:_B.map(P=>{var E;return i.jsxs("div",{className:"space-y-1",children:[i.jsx(Ot,{className:"text-sm",children:P.label}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400",children:P.description}),i.jsx(ot,{value:((E=o.env)==null?void 0:E[P.key])||"",onChange:L=>{const z={...o.env||{},[P.key]:L.target.value};L.target.value||delete z[P.key],g("env",Object.keys(z).length?z:void 0)},placeholder:P.placeholder,className:"font-mono text-sm"})]},P.key)})})]}),i.jsxs("div",{children:[i.jsx(Ot,{className:"text-base font-medium",children:"Hooks"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Scripts to run before/after tool executions (JSON format)"}),i.jsx(mt,{value:o.hooks?JSON.stringify(o.hooks,null,2):"",onChange:P=>{try{const E=P.target.value?JSON.parse(P.target.value):void 0;g("hooks",E)}catch{}},placeholder:`{
  "preToolExecution": "~/.claude/hooks/pre.sh",
  "postToolExecution": "~/.claude/hooks/post.sh"
}`,className:"font-mono text-sm min-h-[120px]"})]}),i.jsxs("div",{children:[i.jsx(Ot,{className:"text-base font-medium",children:"Custom Settings"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-3",children:"Add any additional settings as JSON key-value pairs"}),i.jsx(mt,{value:(()=>{const P=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"],E=Object.keys(o).filter(L=>!P.includes(L)).reduce((L,z)=>({...L,[z]:o[z]}),{});return Object.keys(E).length?JSON.stringify(E,null,2):""})(),onChange:P=>{try{const E=P.target.value?JSON.parse(P.target.value):{},z=["permissions","model","autoAcceptEdits","verbose","enableMcp","apiBaseUrl","env","hooks"].reduce((F,V)=>(o[V]!==void 0&&(F[V]=o[V]),F),{});d({...z,...E}),f(!0)}catch{}},placeholder:`{
  "customKey": "customValue"
}`,className:"font-mono text-sm min-h-[100px]"})]})]})]})]})]})}const bB=[{id:"Default",name:"Default"},{id:"GitHub",name:"GitHub"},{id:"Monokai",name:"Monokai"},{id:"SolarizedDark",name:"Solarized Dark"},{id:"SolarizedLight",name:"Solarized Light"}];function Xk({settings:e,onSave:t,loading:r,settingsPath:n}){const[o,d]=C.useState(e||{}),[c,l]=C.useState(!1),[u,f]=C.useState("rich"),[p,h]=C.useState(JSON.stringify(e||{},null,2)),[v,_]=C.useState({open:!1,name:"",json:""}),[k,w]=C.useState({}),y=async()=>{l(!0);try{if(u==="json")try{const P=JSON.parse(p);await t(P),d(P)}catch{ie.error("Invalid JSON"),l(!1);return}else await t(o),h(JSON.stringify(o,null,2));ie.success("Settings saved")}finally{l(!1)}},x=(P,E,L)=>{d(z=>({...z,[P]:{...z[P],[E]:L}}))},g=(P,E,L=!1)=>{var z;return((z=o==null?void 0:o[P])==null?void 0:z[E])??L},b=o.mcpServers||{},j=()=>{const{name:P,json:E}=v;if(!P.trim()){ie.error("Please enter a name for the MCP");return}let L;try{L=JSON.parse(E)}catch{ie.error("Invalid JSON configuration");return}if(!L.command){ie.error('MCP config must have a "command" field');return}d(z=>({...z,mcpServers:{...z.mcpServers,[P.trim()]:L}})),_({open:!1,name:"",json:""}),ie.success(`Added MCP: ${P}`)},N=P=>{d(E=>{const{[P]:L,...z}=E.mcpServers||{};return{...E,mcpServers:z}}),ie.success(`Removed MCP: ${P}`)},T=P=>{w(E=>({...E,[P]:!E[P]}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center",children:i.jsx(At,{className:"w-5 h-5 text-blue-500"})}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:["Gemini CLI Settings",i.jsxs(rt,{variant:"outline",className:"text-xs font-normal text-blue-600 border-blue-300 dark:border-blue-700",children:[i.jsx(gr,{className:"w-3 h-3 mr-1"}),"Google"]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",i.jsx("code",{className:"bg-muted px-1.5 py-0.5 rounded text-xs",children:n})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex bg-muted rounded-lg p-1",children:[i.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${u==="rich"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>f("rich"),children:"Settings"}),i.jsx("button",{className:`px-3 py-1 text-sm rounded-md transition-colors ${u==="json"?"bg-background shadow-sm":"text-muted-foreground hover:text-foreground"}`,onClick:()=>{h(JSON.stringify(o,null,2)),f("json")},children:"JSON"})]}),i.jsxs(pe,{onClick:y,disabled:c||r,children:[c?i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),u==="json"?i.jsx("div",{className:"border border-border rounded-lg bg-card overflow-hidden",children:i.jsx(mt,{value:p,onChange:P=>h(P.target.value),className:"font-mono text-sm min-h-[500px] border-0 rounded-none resize-none",placeholder:"{ }"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:[i.jsx(ji,{className:"w-4 h-4 text-blue-500"}),"MCP Servers",i.jsx(rt,{variant:"secondary",className:"text-xs",children:Object.keys(b).length})]}),i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>_({open:!0,name:"",json:`{
  "command": "npx",
  "args": ["-y", "@example/mcp-server"]
}`}),children:[i.jsx(Ft,{className:"w-4 h-4 mr-1"}),"Add MCP"]})]}),i.jsx("div",{className:"space-y-2",children:Object.keys(b).length===0?i.jsx("p",{className:"text-sm text-muted-foreground italic",children:"No MCP servers configured"}):Object.entries(b).map(([P,E])=>i.jsxs(RC,{open:k[P],onOpenChange:()=>T(P),children:[i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-background group",children:[i.jsxs(AC,{className:"flex items-center gap-2 flex-1 text-left",children:[k[P]?i.jsx(hs,{className:"w-4 h-4 text-muted-foreground"}):i.jsx(Mo,{className:"w-4 h-4 text-muted-foreground"}),i.jsx(ji,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"font-medium text-sm",children:P}),i.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:E.command})]}),i.jsx(pe,{size:"sm",variant:"ghost",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100 text-destructive hover:text-destructive",onClick:()=>N(P),children:i.jsx(Gs,{className:"w-4 h-4"})})]}),i.jsx(MC,{children:i.jsx("div",{className:"mt-2 ml-6 p-3 rounded-lg bg-muted/50 border",children:i.jsx("pre",{className:"text-xs font-mono text-muted-foreground overflow-x-auto",children:JSON.stringify(E,null,2)})})})]},P))})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(NM,{className:"w-4 h-4 text-blue-500"}),"Appearance"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Theme"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Color theme for the CLI interface"})]}),i.jsxs(Xs,{value:g("theme","name","Default"),onValueChange:P=>x("theme","name",P),children:[i.jsx(cs,{className:"w-40",children:i.jsx(Js,{})}),i.jsx(us,{children:bB.map(P=>i.jsx(Bt,{value:P.id,children:P.name},P.id))})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Output Format"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Format for CLI output"})]}),i.jsxs(Xs,{value:g("core","outputFormat","text"),onValueChange:P=>x("core","outputFormat",P),children:[i.jsx(cs,{className:"w-40",children:i.jsx(Js,{})}),i.jsxs(us,{children:[i.jsx(Bt,{value:"text",children:"Text"}),i.jsx(Bt,{value:"json",children:"JSON"})]})]})]})]})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(i1,{className:"w-4 h-4 text-blue-500"}),"Display Options"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Update Window Title"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Show status icons in terminal title"})]}),i.jsx(dt,{checked:g("ui","updateWindowTitle",!0),onCheckedChange:P=>x("ui","updateWindowTitle",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Line Numbers"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Display line numbers in chat"})]}),i.jsx(dt,{checked:g("ui","showLineNumbers",!1),onCheckedChange:P=>x("ui","showLineNumbers",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Show Citations"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Show citations for generated text"})]}),i.jsx(dt,{checked:g("ui","showCitations",!1),onCheckedChange:P=>x("ui","showCitations",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Context Summary"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide GEMINI.md and MCP servers above input"})]}),i.jsx(dt,{checked:g("ui","hideContextSummary",!1),onCheckedChange:P=>x("ui","hideContextSummary",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Working Directory"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide current directory path in footer"})]}),i.jsx(dt,{checked:g("ui","hideWorkingDirectory",!1),onCheckedChange:P=>x("ui","hideWorkingDirectory",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Hide Model Info"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Hide model name and context usage in footer"})]}),i.jsx(dt,{checked:g("ui","hideModelInfo",!1),onCheckedChange:P=>x("ui","hideModelInfo",P)})]})]})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(Ei,{className:"w-4 h-4 text-blue-500"}),"Advanced"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Vim Keybindings"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Use Vim keybindings in the prompt editor"})]}),i.jsx(dt,{checked:g("core","enableVimKeybindings",!1),onCheckedChange:P=>x("core","enableVimKeybindings",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Auto-Compress History"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Compress conversation when context exceeds threshold"})]}),i.jsx(dt,{checked:g("core","autoCompressHistory",!0),onCheckedChange:P=>x("core","autoCompressHistory",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Sandbox Mode"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Run tool executions in isolated container"})]}),i.jsx(dt,{checked:g("sandbox","enabled",!1),onCheckedChange:P=>x("sandbox","enabled",P)})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"text-sm font-medium text-foreground flex items-center gap-2",children:["YOLO Mode",i.jsx(rt,{variant:"destructive",className:"text-xs",children:"Dangerous"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-approve all tool calls without confirmation"})]}),i.jsx(dt,{checked:g("core","yoloMode",!1),onCheckedChange:P=>x("core","yoloMode",P)})]})]})]}),i.jsxs("div",{className:"border border-border rounded-lg p-4 bg-card",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(hl,{className:"w-4 h-4 text-blue-500"}),"Privacy"]}),i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Usage Statistics"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Allow collection of anonymous usage data"})]}),i.jsx(dt,{checked:g("privacy","usageStatisticsEnabled",!0),onCheckedChange:P=>x("privacy","usageStatisticsEnabled",P)})]})})]})]}),i.jsx(Zt,{open:v.open,onOpenChange:P=>_({...v,open:P}),children:i.jsxs(Wt,{className:"bg-card",children:[i.jsxs(Kt,{children:[i.jsx(Gt,{children:"Add MCP Server"}),i.jsx(Cr,{children:"Add a new MCP server to Gemini CLI"})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Name"}),i.jsx(ot,{value:v.name,onChange:P=>_({...v,name:P.target.value}),placeholder:"my-mcp-server",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Configuration (JSON)"}),i.jsx(mt,{value:v.json,onChange:P=>_({...v,json:P.target.value}),className:"mt-1 font-mono text-sm",rows:6})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>_({open:!1,name:"",json:""}),children:"Cancel"}),i.jsxs(pe,{onClick:j,children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}var ad="Checkbox",[wB]=zr(ad),[SB,pg]=wB(ad);function CB(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:o,disabled:d,form:c,name:l,onCheckedChange:u,required:f,value:p="on",internal_do_not_use_render:h}=e,[v,_]=Sn({prop:r,defaultProp:o??!1,onChange:u,caller:ad}),[k,w]=C.useState(null),[y,x]=C.useState(null),g=C.useRef(!1),b=k?!!c||!!k.closest("form"):!0,j={checked:v,disabled:d,setChecked:_,control:k,setControl:w,name:l,form:c,value:p,hasConsumerStoppedPropagationRef:g,required:f,defaultChecked:Vs(o)?!1:o,isFormControl:b,bubbleInput:y,setBubbleInput:x};return i.jsx(SB,{scope:t,...j,children:kB(h)?h(j):n})}var Jk="CheckboxTrigger",Qk=C.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},o)=>{const{control:d,value:c,disabled:l,checked:u,required:f,setControl:p,setChecked:h,hasConsumerStoppedPropagationRef:v,isFormControl:_,bubbleInput:k}=pg(Jk,e),w=Ye(o,p),y=C.useRef(u);return C.useEffect(()=>{const x=d==null?void 0:d.form;if(x){const g=()=>h(y.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[d,h]),i.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Vs(u)?"mixed":u,"aria-required":f,"data-state":n2(u),"data-disabled":l?"":void 0,disabled:l,value:c,...n,ref:w,onKeyDown:ke(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:ke(r,x=>{h(g=>Vs(g)?!0:!g),k&&_&&(v.current=x.isPropagationStopped(),v.current||x.stopPropagation())})})});Qk.displayName=Jk;var mg=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:o,defaultChecked:d,required:c,disabled:l,value:u,onCheckedChange:f,form:p,...h}=e;return i.jsx(CB,{__scopeCheckbox:r,checked:o,defaultChecked:d,disabled:l,required:c,onCheckedChange:f,name:n,form:p,value:u,internal_do_not_use_render:({isFormControl:v})=>i.jsxs(i.Fragment,{children:[i.jsx(Qk,{...h,ref:t,__scopeCheckbox:r}),v&&i.jsx(r2,{__scopeCheckbox:r})]})})});mg.displayName=ad;var Zk="CheckboxIndicator",e2=C.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...o}=e,d=pg(Zk,r);return i.jsx(cr,{present:n||Vs(d.checked)||d.checked===!0,children:i.jsx(Ve.span,{"data-state":n2(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:t,style:{pointerEvents:"none",...e.style}})})});e2.displayName=Zk;var t2="CheckboxBubbleInput",r2=C.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:o,checked:d,defaultChecked:c,required:l,disabled:u,name:f,value:p,form:h,bubbleInput:v,setBubbleInput:_}=pg(t2,e),k=Ye(r,_),w=Pm(d),y=Tm(n);C.useEffect(()=>{const g=v;if(!g)return;const b=window.HTMLInputElement.prototype,N=Object.getOwnPropertyDescriptor(b,"checked").set,T=!o.current;if(w!==d&&N){const P=new Event("click",{bubbles:T});g.indeterminate=Vs(d),N.call(g,Vs(d)?!1:d),g.dispatchEvent(P)}},[v,w,d,o]);const x=C.useRef(Vs(d)?!1:d);return i.jsx(Ve.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??x.current,required:l,disabled:u,name:f,value:p,form:h,...t,tabIndex:-1,ref:k,style:{...t.style,...y,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});r2.displayName=t2;function kB(e){return typeof e=="function"}function Vs(e){return e==="indeterminate"}function n2(e){return Vs(e)?"indeterminate":e?"checked":"unchecked"}const s2=C.forwardRef(({className:e,...t},r)=>i.jsx(mg,{ref:r,className:je("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(e2,{className:je("flex items-center justify-center text-current"),children:i.jsx(kr,{className:"h-4 w-4"})})}));s2.displayName=mg.displayName;const Nf={claude:{name:"Claude Code",folder:".claude",color:"text-orange-600",bg:"bg-orange-50",darkBg:"dark:bg-orange-950/30"},gemini:{name:"Gemini CLI",folder:".gemini",color:"text-blue-600",bg:"bg-blue-50",darkBg:"dark:bg-blue-950/30"},antigravity:{name:"Antigravity",folder:".agent",color:"text-purple-600",bg:"bg-purple-50",darkBg:"dark:bg-purple-950/30"}};function jB({open:e,onOpenChange:t,projectDir:r,onSynced:n}){var E,L,z;const[o,d]=C.useState("claude"),[c,l]=C.useState("antigravity"),[u,f]=C.useState(null),[p,h]=C.useState(!1),[v,_]=C.useState(!1),[k,w]=C.useState(new Set);C.useEffect(()=>{e&&r&&y()},[e,o,c,r]),C.useEffect(()=>{e&&w(new Set)},[e]);const y=async()=>{var F;h(!0);try{const V=await Ce.getSyncPreview(r,o,c);f(V);const U=new Set(((F=V.files)==null?void 0:F.filter(X=>X.status==="new"||X.status==="different").map(X=>X.name))||[]);w(U)}catch(V){ie.error("Failed to load sync preview: "+V.message),f(null)}finally{h(!1)}},x=()=>{d(c),l(o)},g=F=>{const V=new Set(k);V.has(F)?V.delete(F):V.add(F),w(V)},b=()=>{var F,V;k.size===((F=u==null?void 0:u.files)==null?void 0:F.length)?w(new Set):w(new Set(((V=u==null?void 0:u.files)==null?void 0:V.map(U=>U.name))||[]))},j=async()=>{if(k.size===0){ie.error("Please select at least one file to sync");return}_(!0);try{const F=await Ce.syncRules(r,o,c,Array.from(k));F.success?(ie.success(`Synced ${F.synced.length} file(s) to ${Nf[c].name}`),n==null||n(),t(!1)):ie.error(F.error||"Sync failed")}catch(F){ie.error("Sync failed: "+F.message)}finally{_(!1)}},N=F=>{switch(F){case"new":return i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-green-100 text-green-700",children:"New"});case"different":return i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-yellow-100 text-yellow-700",children:"Modified"});case"identical":return i.jsx("span",{className:"text-xs px-1.5 py-0.5 rounded bg-gray-100 dark:bg-slate-700 text-gray-500 dark:text-slate-400",children:"Same"});default:return null}},T=Nf[o],P=Nf[c];return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"sm:max-w-lg",children:[i.jsxs(Kt,{children:[i.jsxs(Gt,{className:"flex items-center gap-2",children:[i.jsx(yr,{className:"w-5 h-5 text-indigo-500"}),"Sync Rules Between Tools"]}),i.jsx(Cr,{children:"Copy rules from one AI tool's configuration to another."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),i.jsxs(Xs,{value:o,onValueChange:d,children:[i.jsx(cs,{className:"w-full",children:i.jsx(Js,{})}),i.jsxs(us,{children:[i.jsx(Bt,{value:"claude",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),i.jsx(Bt,{value:"gemini",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),i.jsx(Bt,{value:"antigravity",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]}),i.jsx(pe,{variant:"ghost",size:"icon",onClick:x,className:"mt-5",title:"Swap direction",children:i.jsx(Yw,{className:"w-4 h-4"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),i.jsxs(Xs,{value:c,onValueChange:l,children:[i.jsx(cs,{className:"w-full",children:i.jsx(Js,{})}),i.jsxs(us,{children:[i.jsx(Bt,{value:"claude",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-3 h-3 text-orange-500"}),"Claude Code"]})}),i.jsx(Bt,{value:"gemini",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-3 h-3 text-blue-500"}),"Gemini CLI"]})}),i.jsx(Bt,{value:"antigravity",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-3 h-3 text-purple-500"}),"Antigravity"]})})]})]})]})]}),i.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[i.jsxs("div",{children:["Source: ",i.jsxs("code",{className:"bg-muted px-1 rounded",children:[T.folder,"/rules/"]})]}),i.jsxs("div",{children:["Target: ",i.jsxs("code",{className:"bg-muted px-1 rounded",children:[P.folder,"/rules/"]})]})]}),i.jsxs("div",{className:"border rounded-lg",children:[i.jsxs("div",{className:"flex items-center justify-between px-3 py-2 border-b bg-muted/30",children:[i.jsx("span",{className:"text-sm font-medium",children:"Rules to Sync"}),((E=u==null?void 0:u.files)==null?void 0:E.length)>0&&i.jsx(pe,{variant:"ghost",size:"sm",onClick:b,className:"h-6 text-xs",children:k.size===u.files.length?"Deselect All":"Select All"})]}),i.jsx("div",{className:"max-h-64 overflow-auto",children:p?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx(gt,{className:"w-5 h-5 animate-spin text-muted-foreground"})}):u!=null&&u.error?i.jsxs("div",{className:"flex items-center gap-2 p-4 text-sm text-amber-600",children:[i.jsx(Xa,{className:"w-4 h-4"}),u.error]}):((L=u==null?void 0:u.files)==null?void 0:L.length)===0?i.jsx("div",{className:"p-4 text-sm text-muted-foreground text-center",children:"No rules found in source folder"}):i.jsx("div",{className:"divide-y",children:(z=u==null?void 0:u.files)==null?void 0:z.map(F=>i.jsxs("label",{className:je("flex items-center gap-3 px-3 py-2 cursor-pointer hover:bg-muted/30",k.has(F.name)&&"bg-primary/5"),children:[i.jsx(s2,{checked:k.has(F.name),onCheckedChange:()=>g(F.name)}),i.jsx(Or,{className:"w-4 h-4 text-purple-500"}),i.jsx("span",{className:"flex-1 text-sm",children:F.name}),N(F.status)]},F.name))})})]}),(u==null?void 0:u.files)&&k.size>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.size," file(s) selected for sync"]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(pe,{onClick:j,disabled:v||p||k.size===0,children:v?i.jsxs(i.Fragment,{children:[i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Syncing..."]}):i.jsxs(i.Fragment,{children:[i.jsx(kr,{className:"w-4 h-4 mr-2"}),"Sync ",k.size," File(s)"]})})]})]})})}function EB(e,t){return C.useReducer((r,n)=>t[r][n]??r,e)}var gg="ScrollArea",[i2]=zr(gg),[NB,hn]=i2(gg),o2=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:n="hover",dir:o,scrollHideDelay:d=600,...c}=e,[l,u]=C.useState(null),[f,p]=C.useState(null),[h,v]=C.useState(null),[_,k]=C.useState(null),[w,y]=C.useState(null),[x,g]=C.useState(0),[b,j]=C.useState(0),[N,T]=C.useState(!1),[P,E]=C.useState(!1),L=Ye(t,F=>u(F)),z=fl(o);return i.jsx(NB,{scope:r,type:n,dir:z,scrollHideDelay:d,scrollArea:l,viewport:f,onViewportChange:p,content:h,onContentChange:v,scrollbarX:_,onScrollbarXChange:k,scrollbarXEnabled:N,onScrollbarXEnabledChange:T,scrollbarY:w,onScrollbarYChange:y,scrollbarYEnabled:P,onScrollbarYEnabledChange:E,onCornerWidthChange:g,onCornerHeightChange:j,children:i.jsx(Ve.div,{dir:z,...c,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":x+"px","--radix-scroll-area-corner-height":b+"px",...e.style}})})});o2.displayName=gg;var a2="ScrollAreaViewport",l2=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:n,nonce:o,...d}=e,c=hn(a2,r),l=C.useRef(null),u=Ye(t,l,c.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),i.jsx(Ve.div,{"data-radix-scroll-area-viewport":"",...d,ref:u,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});l2.displayName=a2;var Vn="ScrollAreaScrollbar",vg=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=hn(Vn,e.__scopeScrollArea),{onScrollbarXEnabledChange:d,onScrollbarYEnabledChange:c}=o,l=e.orientation==="horizontal";return C.useEffect(()=>(l?d(!0):c(!0),()=>{l?d(!1):c(!1)}),[l,d,c]),o.type==="hover"?i.jsx(PB,{...n,ref:t,forceMount:r}):o.type==="scroll"?i.jsx(TB,{...n,ref:t,forceMount:r}):o.type==="auto"?i.jsx(c2,{...n,ref:t,forceMount:r}):o.type==="always"?i.jsx(yg,{...n,ref:t}):null});vg.displayName=Vn;var PB=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=hn(Vn,e.__scopeScrollArea),[d,c]=C.useState(!1);return C.useEffect(()=>{const l=o.scrollArea;let u=0;if(l){const f=()=>{window.clearTimeout(u),c(!0)},p=()=>{u=window.setTimeout(()=>c(!1),o.scrollHideDelay)};return l.addEventListener("pointerenter",f),l.addEventListener("pointerleave",p),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",f),l.removeEventListener("pointerleave",p)}}},[o.scrollArea,o.scrollHideDelay]),i.jsx(cr,{present:r||d,children:i.jsx(c2,{"data-state":d?"visible":"hidden",...n,ref:t})})}),TB=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=hn(Vn,e.__scopeScrollArea),d=e.orientation==="horizontal",c=cd(()=>u("SCROLL_END"),100),[l,u]=EB("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return C.useEffect(()=>{if(l==="idle"){const f=window.setTimeout(()=>u("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(f)}},[l,o.scrollHideDelay,u]),C.useEffect(()=>{const f=o.viewport,p=d?"scrollLeft":"scrollTop";if(f){let h=f[p];const v=()=>{const _=f[p];h!==_&&(u("SCROLL"),c()),h=_};return f.addEventListener("scroll",v),()=>f.removeEventListener("scroll",v)}},[o.viewport,d,u,c]),i.jsx(cr,{present:r||l!=="hidden",children:i.jsx(yg,{"data-state":l==="hidden"?"hidden":"visible",...n,ref:t,onPointerEnter:ke(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:ke(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),c2=C.forwardRef((e,t)=>{const r=hn(Vn,e.__scopeScrollArea),{forceMount:n,...o}=e,[d,c]=C.useState(!1),l=e.orientation==="horizontal",u=cd(()=>{if(r.viewport){const f=r.viewport.offsetWidth<r.viewport.scrollWidth,p=r.viewport.offsetHeight<r.viewport.scrollHeight;c(l?f:p)}},10);return To(r.viewport,u),To(r.content,u),i.jsx(cr,{present:n||d,children:i.jsx(yg,{"data-state":d?"visible":"hidden",...o,ref:t})})}),yg=C.forwardRef((e,t)=>{const{orientation:r="vertical",...n}=e,o=hn(Vn,e.__scopeScrollArea),d=C.useRef(null),c=C.useRef(0),[l,u]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=p2(l.viewport,l.content),p={...n,sizes:l,onSizesChange:u,hasThumb:f>0&&f<1,onThumbChange:v=>d.current=v,onThumbPointerUp:()=>c.current=0,onThumbPointerDown:v=>c.current=v};function h(v,_){return IB(v,c.current,l,_)}return r==="horizontal"?i.jsx(RB,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&d.current){const v=o.viewport.scrollLeft,_=w_(v,l,o.dir);d.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollLeft=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollLeft=h(v,o.dir))}}):r==="vertical"?i.jsx(AB,{...p,ref:t,onThumbPositionChange:()=>{if(o.viewport&&d.current){const v=o.viewport.scrollTop,_=w_(v,l);d.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:v=>{o.viewport&&(o.viewport.scrollTop=v)},onDragScroll:v=>{o.viewport&&(o.viewport.scrollTop=h(v))}}):null}),RB=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,d=hn(Vn,e.__scopeScrollArea),[c,l]=C.useState(),u=C.useRef(null),f=Ye(t,u,d.onScrollbarXChange);return C.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(d2,{"data-orientation":"horizontal",...o,ref:f,sizes:r,style:{bottom:0,left:d.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:d.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ld(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,h)=>{if(d.viewport){const v=d.viewport.scrollLeft+p.deltaX;e.onWheelScroll(v),g2(v,h)&&p.preventDefault()}},onResize:()=>{u.current&&d.viewport&&c&&n({content:d.viewport.scrollWidth,viewport:d.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:ju(c.paddingLeft),paddingEnd:ju(c.paddingRight)}})}})}),AB=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:n,...o}=e,d=hn(Vn,e.__scopeScrollArea),[c,l]=C.useState(),u=C.useRef(null),f=Ye(t,u,d.onScrollbarYChange);return C.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(d2,{"data-orientation":"vertical",...o,ref:f,sizes:r,style:{top:0,right:d.dir==="ltr"?0:void 0,left:d.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ld(r)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,h)=>{if(d.viewport){const v=d.viewport.scrollTop+p.deltaY;e.onWheelScroll(v),g2(v,h)&&p.preventDefault()}},onResize:()=>{u.current&&d.viewport&&c&&n({content:d.viewport.scrollHeight,viewport:d.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:ju(c.paddingTop),paddingEnd:ju(c.paddingBottom)}})}})}),[MB,u2]=i2(Vn),d2=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:o,onThumbChange:d,onThumbPointerUp:c,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:f,onWheelScroll:p,onResize:h,...v}=e,_=hn(Vn,r),[k,w]=C.useState(null),y=Ye(t,L=>w(L)),x=C.useRef(null),g=C.useRef(""),b=_.viewport,j=n.content-n.viewport,N=Qt(p),T=Qt(u),P=cd(h,10);function E(L){if(x.current){const z=L.clientX-x.current.left,F=L.clientY-x.current.top;f({x:z,y:F})}}return C.useEffect(()=>{const L=z=>{const F=z.target;(k==null?void 0:k.contains(F))&&N(z,j)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[b,k,j,N]),C.useEffect(T,[n,T]),To(k,P),To(_.content,P),i.jsx(MB,{scope:r,scrollbar:k,hasThumb:o,onThumbChange:Qt(d),onThumbPointerUp:Qt(c),onThumbPositionChange:T,onThumbPointerDown:Qt(l),children:i.jsx(Ve.div,{...v,ref:y,style:{position:"absolute",...v.style},onPointerDown:ke(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),x.current=k.getBoundingClientRect(),g.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",_.viewport&&(_.viewport.style.scrollBehavior="auto"),E(L))}),onPointerMove:ke(e.onPointerMove,E),onPointerUp:ke(e.onPointerUp,L=>{const z=L.target;z.hasPointerCapture(L.pointerId)&&z.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=g.current,_.viewport&&(_.viewport.style.scrollBehavior=""),x.current=null})})})}),ku="ScrollAreaThumb",h2=C.forwardRef((e,t)=>{const{forceMount:r,...n}=e,o=u2(ku,e.__scopeScrollArea);return i.jsx(cr,{present:r||o.hasThumb,children:i.jsx(DB,{ref:t,...n})})}),DB=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:n,...o}=e,d=hn(ku,r),c=u2(ku,r),{onThumbPositionChange:l}=c,u=Ye(t,h=>c.onThumbChange(h)),f=C.useRef(void 0),p=cd(()=>{f.current&&(f.current(),f.current=void 0)},100);return C.useEffect(()=>{const h=d.viewport;if(h){const v=()=>{if(p(),!f.current){const _=OB(h,l);f.current=_,l()}};return l(),h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[d.viewport,p,l]),i.jsx(Ve.div,{"data-state":c.hasThumb?"visible":"hidden",...o,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:ke(e.onPointerDownCapture,h=>{const _=h.target.getBoundingClientRect(),k=h.clientX-_.left,w=h.clientY-_.top;c.onThumbPointerDown({x:k,y:w})}),onPointerUp:ke(e.onPointerUp,c.onThumbPointerUp)})});h2.displayName=ku;var xg="ScrollAreaCorner",f2=C.forwardRef((e,t)=>{const r=hn(xg,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?i.jsx(LB,{...e,ref:t}):null});f2.displayName=xg;var LB=C.forwardRef((e,t)=>{const{__scopeScrollArea:r,...n}=e,o=hn(xg,r),[d,c]=C.useState(0),[l,u]=C.useState(0),f=!!(d&&l);return To(o.scrollbarX,()=>{var h;const p=((h=o.scrollbarX)==null?void 0:h.offsetHeight)||0;o.onCornerHeightChange(p),u(p)}),To(o.scrollbarY,()=>{var h;const p=((h=o.scrollbarY)==null?void 0:h.offsetWidth)||0;o.onCornerWidthChange(p),c(p)}),f?i.jsx(Ve.div,{...n,ref:t,style:{width:d,height:l,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function ju(e){return e?parseInt(e,10):0}function p2(e,t){const r=e/t;return isNaN(r)?0:r}function ld(e){const t=p2(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,n=(e.scrollbar.size-r)*t;return Math.max(n,18)}function IB(e,t,r,n="ltr"){const o=ld(r),d=o/2,c=t||d,l=o-c,u=r.scrollbar.paddingStart+c,f=r.scrollbar.size-r.scrollbar.paddingEnd-l,p=r.content-r.viewport,h=n==="ltr"?[0,p]:[p*-1,0];return m2([u,f],h)(e)}function w_(e,t,r="ltr"){const n=ld(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,d=t.scrollbar.size-o,c=t.content-t.viewport,l=d-n,u=r==="ltr"?[0,c]:[c*-1,0],f=hp(e,u);return m2([0,c],[0,l])(f)}function m2(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function g2(e,t){return e>0&&e<t}var OB=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return(function o(){const d={left:e.scrollLeft,top:e.scrollTop},c=r.left!==d.left,l=r.top!==d.top;(c||l)&&t(),r=d,n=window.requestAnimationFrame(o)})(),()=>window.cancelAnimationFrame(n)};function cd(e,t){const r=Qt(e),n=C.useRef(0);return C.useEffect(()=>()=>window.clearTimeout(n.current),[]),C.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function To(e,t){const r=Qt(t);er(()=>{let n=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(n),o.unobserve(e)}}},[e,r])}var v2=o2,BB=l2,FB=f2;const ds=C.forwardRef(({className:e,children:t,...r},n)=>i.jsxs(v2,{ref:n,className:je("relative overflow-hidden",e),...r,children:[i.jsx(BB,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(y2,{}),i.jsx(FB,{})]}));ds.displayName=v2.displayName;const y2=C.forwardRef(({className:e,orientation:t="vertical",...r},n)=>i.jsx(vg,{ref:n,orientation:t,className:je("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:i.jsx(h2,{className:"relative flex-1 rounded-full bg-border"})}));y2.displayName=vg.displayName;function _g({open:e,onOpenChange:t,onSelect:r,type:n="directory",initialPath:o="~",title:d="Select Path"}){const[c,l]=C.useState(""),[u,f]=C.useState([]),[p,h]=C.useState(!1),[v,_]=C.useState(null),[k,w]=C.useState(""),[y,x]=C.useState("");C.useEffect(()=>{e&&g(o)},[e,o]);const g=async P=>{h(!0),_(null);try{const E=await Ce.browse(P,n);E.error?(_(E.error),E.path&&(l(E.path),x(E.path))):(l(E.path),x(E.path),f(E.items||[]),E.home&&w(E.home))}catch(E){_(E.message)}finally{h(!1)}},b=P=>{P.type==="directory"?g(P.path):n==="file"&&(r(P.path),t(!1))},j=()=>{r(c),t(!1)},N=()=>{y&&g(y)},T=P=>{P.key==="Enter"&&N()};return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"max-w-lg",children:[i.jsx(Kt,{children:i.jsxs(Gt,{className:"flex items-center gap-2",children:[n==="directory"?i.jsx(ar,{className:"w-5 h-5"}):i.jsx(lp,{className:"w-5 h-5"}),d]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{value:y,onChange:P=>x(P.target.value),onKeyDown:T,placeholder:"Enter path...",className:"font-mono text-sm flex-1"}),i.jsx(pe,{variant:"outline",size:"icon",onClick:()=>g(k||"~"),title:"Go to home",children:i.jsx(Sm,{className:"w-4 h-4"})}),i.jsx(pe,{onClick:N,disabled:p,children:"Go"})]}),i.jsx("div",{className:"text-xs text-gray-500 font-mono truncate px-1",children:c}),v&&i.jsx("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded",children:v}),i.jsx(ds,{className:"h-64 border rounded-lg",children:p?i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsx(gt,{className:"w-6 h-6 animate-spin text-gray-400"})}):i.jsx("div",{className:"p-1",children:u.length===0?i.jsx("div",{className:"text-sm text-gray-500 p-4 text-center",children:n==="directory"?"No subdirectories":"No files found"}):u.map((P,E)=>i.jsxs("button",{onClick:()=>b(P),className:"w-full flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 rounded transition-colors text-left",children:[P.type==="directory"?i.jsx(ar,{className:"w-4 h-4 text-blue-500 flex-shrink-0"}):i.jsx(lp,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),i.jsx("span",{className:`flex-1 truncate ${P.isParent?"text-gray-500":""}`,children:P.name}),P.type==="directory"&&!P.isParent&&i.jsx(Mo,{className:"w-4 h-4 text-gray-400"})]},E))})})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(pe,{onClick:j,disabled:!c,children:n==="directory"?"Select Folder":"Select"})]})]})})}const S_={development:"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",productivity:"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400",integration:"bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-400",external:"bg-orange-100 text-orange-700 dark:bg-orange-900/30 dark:text-orange-400",lsp:"bg-cyan-100 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",default:"bg-gray-100 text-gray-700 dark:bg-gray-800 dark:text-gray-400"};function zB({plugin:e,onToggle:t,isToggling:r,projectDir:n}){const o=S_[e.category]||S_.default;return e.mcpServers||e.lspServers||e.commands,i.jsxs(ss.div,{layout:!0,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:`
        relative p-3 rounded-lg border transition-all
        ${e.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700 hover:border-indigo-300 dark:hover:border-indigo-700"}
      `,children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-medium text-gray-900 dark:text-white truncate",children:e.name}),e.sourceType==="external"&&i.jsx(jo,{className:"w-3 h-3 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),i.jsx("p",{className:"text-xs text-gray-600 dark:text-slate-400 line-clamp-2 mb-2",children:e.description||"No description"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.category&&i.jsx(rt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${o}`,children:e.category}),e.lspServers&&i.jsxs(rt,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-cyan-50 text-cyan-700 dark:bg-cyan-900/30 dark:text-cyan-400",children:[i.jsx(ki,{className:"w-2.5 h-2.5 mr-0.5"}),"LSP"]}),e.mcpServers&&i.jsxs(rt,{variant:"outline",className:"text-[10px] px-1.5 py-0 bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400",children:[i.jsx(ji,{className:"w-2.5 h-2.5 mr-0.5"}),"MCP"]}),e.version&&i.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",e.version]})]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx(dt,{checked:e.installed,onCheckedChange:()=>t(e),disabled:r===e.name,className:"data-[state=checked]:bg-green-600"})})]}),r===e.name&&i.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-slate-900/80 rounded-lg flex items-center justify-center",children:i.jsx(gt,{className:"w-5 h-5 animate-spin text-indigo-600"})})]})}function HB({open:e,onOpenChange:t,projectDir:r,projectName:n}){const[o,d]=C.useState(!0),[c,l]=C.useState({allPlugins:[],categories:[]}),[u,f]=C.useState(""),[p,h]=C.useState("project"),[v,_]=C.useState([]),[k,w]=C.useState(!0),[y,x]=C.useState(!0),[g,b]=C.useState(null),j=async()=>{d(!0);try{const z=await Ce.getPlugins();l(z)}catch(z){ie.error("Failed to load plugins: "+z.message)}finally{d(!1)}};C.useEffect(()=>{e&&(j(),f(""))},[e]);const N=C.useMemo(()=>{let z=c.allPlugins||[];if(u){const F=u.toLowerCase();z=z.filter(V=>{var U,X;return((U=V.name)==null?void 0:U.toLowerCase().includes(F))||((X=V.description)==null?void 0:X.toLowerCase().includes(F))})}return z=z.filter(F=>!(F.sourceType==="external"&&!k||F.sourceType==="internal"&&!y)),v.length>0&&(z=z.filter(F=>v.includes(F.category))),z.sort((F,V)=>F.installed&&!V.installed?-1:!F.installed&&V.installed?1:F.name.localeCompare(V.name)),z},[c.allPlugins,u,k,y,v]),T=z=>{_(F=>F.includes(z)?F.filter(V=>V!==z):[...F,z])},P=async z=>{b(z.name);try{if(z.installed){const F=await Ce.uninstallPlugin(`${z.name}@${z.marketplace}`);F.success?ie.success(`Uninstalled ${z.name}`):ie.error(F.error||"Failed to uninstall")}else{const F=await Ce.installPlugin(z.name,z.marketplace,p,r);F.success?ie.success(`Installed ${z.name} (${p})`):ie.error(F.error||"Failed to install")}await j()}catch(F){ie.error("Operation failed: "+F.message)}finally{b(null)}},E=N.filter(z=>z.installed).length,L=N.filter(z=>!z.installed).length;return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"max-w-2xl max-h-[85vh] flex flex-col p-0",children:[i.jsxs(Kt,{className:"px-6 pt-6 pb-4 border-b dark:border-slate-800",children:[i.jsxs(Gt,{className:"flex items-center gap-2",children:[i.jsx(Eo,{className:"w-5 h-5 text-indigo-600"}),"Install Plugins",n&&i.jsx(rt,{variant:"outline",className:"ml-2 font-normal",children:n})]}),i.jsx(Cr,{children:"Enable plugins for enhanced Claude Code capabilities"})]}),i.jsxs("div",{className:"px-6 py-3 border-b dark:border-slate-800 space-y-3 bg-gray-50 dark:bg-slate-900/50",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(dl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),i.jsx(ot,{value:u,onChange:z=>f(z.target.value),placeholder:"Search plugins...",className:"pl-9 h-9 bg-white dark:bg-slate-800"})]}),i.jsxs(Xs,{value:p,onValueChange:h,children:[i.jsx(cs,{className:"w-36 h-9 bg-white dark:bg-slate-800",children:i.jsx(Js,{})}),i.jsxs(us,{children:[i.jsx(Bt,{value:"project",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Xw,{className:"w-3.5 h-3.5"}),"Project"]})}),i.jsx(Bt,{value:"user",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(jo,{className:"w-3.5 h-3.5"}),"Global"]})}),i.jsx(Bt,{value:"local",children:i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(gr,{className:"w-3.5 h-3.5"}),"Local"]})})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsxs(Di,{children:[i.jsx(Li,{asChild:!0,children:i.jsxs(pe,{variant:"outline",size:"sm",className:"h-7 text-xs gap-1",children:[i.jsx(e1,{className:"w-3 h-3"}),"Category",v.length>0&&i.jsx(rt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:v.length}),i.jsx(hs,{className:"w-3 h-3 ml-1"})]})}),i.jsxs(ri,{align:"start",className:"w-48",children:[i.jsx(od,{className:"text-xs",children:"Categories"}),i.jsx(Ir,{}),(c.categories||[]).map(z=>i.jsx(Cu,{checked:v.includes(z),onCheckedChange:()=>T(z),children:z},z)),v.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Ir,{}),i.jsx(Cu,{checked:!1,onCheckedChange:()=>_([]),children:"Clear all"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-3 ml-auto text-xs",children:[i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(dt,{checked:y,onCheckedChange:x,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),i.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Anthropic"})]}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(dt,{checked:k,onCheckedChange:w,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),i.jsx("span",{className:"text-gray-600 dark:text-slate-400",children:"Community"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-slate-500",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(kr,{className:"w-3 h-3 text-green-600"}),E," installed"]}),i.jsxs("span",{children:[L," available"]}),i.jsxs("span",{className:"ml-auto",children:[N.length," shown"]})]})]}),i.jsx(ds,{className:"flex-1 px-6 py-4",children:o?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(gt,{className:"w-6 h-6 animate-spin text-indigo-600"})}):N.length===0?i.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-slate-400",children:[i.jsx(Eo,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No plugins found"}),u&&i.jsx(pe,{variant:"link",size:"sm",onClick:()=>f(""),className:"mt-2",children:"Clear search"})]}):i.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.jsx(Up,{mode:"popLayout",children:N.map(z=>i.jsx(zB,{plugin:z,onToggle:P,isToggling:g,projectDir:r},`${z.name}@${z.marketplace}`))})})}),i.jsxs("div",{className:"px-6 py-3 border-t dark:border-slate-800 flex items-center justify-between bg-gray-50 dark:bg-slate-900/50",children:[i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-500",children:"Plugins extend Claude Code with LSP servers, MCP tools, and commands"}),i.jsx(pe,{variant:"outline",size:"sm",onClick:()=>t(!1),children:"Done"})]})]})})}const nl={mcps:{icon:ji,color:"text-blue-600",bgColor:"bg-blue-50",label:"MCP Servers"},settings:{icon:Ei,color:"text-gray-600 dark:text-slate-400",bgColor:"bg-gray-50 dark:bg-slate-800",label:"Settings"},command:{icon:At,color:"text-green-600",bgColor:"bg-green-50",label:"Command"},rule:{icon:Ci,color:"text-purple-600",bgColor:"bg-purple-50",label:"Rule"},workflow:{icon:r1,color:"text-cyan-600",bgColor:"bg-cyan-50",label:"Workflow"},claudemd:{icon:Or,color:"text-orange-600",bgColor:"bg-orange-50",label:"CLAUDE.md"},geminimd:{icon:Or,color:"text-blue-600",bgColor:"bg-blue-50",label:"GEMINI.md"},env:{icon:Iu,color:"text-yellow-600",bgColor:"bg-yellow-50",label:".env"},memory:{icon:ko,color:"text-pink-600",bgColor:"bg-pink-50",label:"Memory"},folder:{icon:ar,color:"text-yellow-600",bgColor:"bg-yellow-50",label:"Folder"}};function eu({item:e,level:t=0,selectedPath:r,onSelect:n,onContextMenu:o,expandedFolders:d,onToggleFolder:c}){const l=nl[e.type]||nl.folder,u=l.icon,f=r===e.path,p=e.type==="folder",h=d[e.path];return i.jsxs("div",{children:[i.jsxs("div",{className:je("flex items-center gap-2 px-2 py-1.5 rounded-md cursor-pointer text-sm","hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",f&&"bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-100 dark:hover:bg-blue-900/30"),style:{paddingLeft:`${t*16+8}px`},onClick:()=>p?c(e.path):n(e),onContextMenu:v=>o(v,e),children:[p&&i.jsx("span",{className:"w-4 h-4 flex items-center justify-center",children:h?i.jsx(hs,{className:"w-3 h-3"}):i.jsx(Mo,{className:"w-3 h-3"})}),!p&&i.jsx("span",{className:"w-4"}),i.jsx(u,{className:je("w-4 h-4",l.color)}),i.jsx("span",{className:"flex-1 truncate",children:e.name}),e.mcpCount>0&&i.jsx(rt,{variant:"secondary",className:"text-xs px-1.5 py-0",children:e.mcpCount})]}),p&&h&&e.children&&i.jsx("div",{children:e.children.map(v=>i.jsx(eu,{item:v,level:t+1,selectedPath:r,onSelect:n,onContextMenu:o,expandedFolders:d,onToggleFolder:c},v.path))})]})}function $B({folder:e,isExpanded:t,isHome:r,isProject:n,isSubproject:o,depth:d=0,onToggle:c,onCreateFile:l,onInstallPlugin:u,onSelectItem:f,selectedPath:p,onContextMenu:h,expandedFolders:v,onToggleFolder:_,templates:k,hasSubprojects:w,onAddSubproject:y,onRemoveSubproject:x,onHideSubproject:g}){var U,X,K,q,G,B,D,A,I,W;const b=(U=e.files)==null?void 0:U.some(O=>O.name==="mcps.json"),j=(X=e.files)==null?void 0:X.some(O=>O.name==="settings.json"),N=(K=e.files)==null?void 0:K.some(O=>O.name==="CLAUDE.md"||O.name==="CLAUDE.md (root)"),T=(q=e.files)==null?void 0:q.some(O=>O.name===".env"),P=()=>r?"bg-indigo-50 dark:bg-indigo-900/20 hover:bg-indigo-100 dark:hover:bg-indigo-900/30":o&&d>1?"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700":o?"bg-amber-50 dark:bg-amber-900/20 hover:bg-amber-100 dark:hover:bg-amber-900/30":n?"bg-green-50 dark:bg-green-900/20 hover:bg-green-100 dark:hover:bg-green-900/30":"bg-gray-50 dark:bg-slate-800 hover:bg-gray-100 dark:hover:bg-slate-700",E=()=>r?"text-indigo-700 dark:text-indigo-400":o&&d>1?"text-gray-600 dark:text-slate-400":o?"text-amber-700 dark:text-amber-400":n?"text-green-700 dark:text-green-400":"text-gray-700 dark:text-slate-300",z=r?Sm:t?Ks:ar,F=r?"Home":e.label,V=(((G=e.files)==null?void 0:G.length)||0)+(((B=e.geminiFiles)==null?void 0:B.length)||0)+(((D=e.agentFiles)==null?void 0:D.length)||0);return i.jsxs("div",{className:"border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:je("flex items-center gap-2 py-2 cursor-pointer transition-colors",P()),style:{paddingLeft:`${12+d*16}px`,paddingRight:"24px"},onClick:c,children:[i.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-gray-500",children:t?i.jsx(hs,{className:"w-4 h-4"}):i.jsx(Mo,{className:"w-4 h-4"})}),i.jsx(z,{className:je("w-4 h-4",E())}),i.jsx("span",{className:je("flex-1 min-w-0 font-medium text-sm truncate",E()),children:F}),i.jsxs(Di,{children:[i.jsx(Li,{asChild:!0,onClick:O=>O.stopPropagation(),children:i.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 flex-shrink-0 mr-1 hover:bg-white/50 dark:hover:bg-slate-900/50",children:i.jsx(Ft,{className:"w-4 h-4"})})}),i.jsxs(ri,{align:"end",className:"w-48",children:[i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1.5 border-b mb-1",children:[n&&w&&i.jsx(rt,{variant:"outline",className:"text-[10px] px-1 py-0 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 border-green-300 dark:border-green-700",children:"root"}),!e.exists&&!r&&i.jsx(rt,{variant:"outline",className:"text-[10px] px-1 py-0",children:"no config"}),((A=e.appliedTemplate)==null?void 0:A.template)&&i.jsx(rt,{variant:"outline",className:"text-[10px] px-1 py-0 bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400 border-purple-300 dark:border-purple-700",children:e.appliedTemplate.template.split("/").pop()}),!o&&e.exists&&!((I=e.appliedTemplate)!=null&&I.template)&&V===0&&i.jsx("span",{className:"text-[10px] text-muted-foreground",children:"configured"})]}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"mcps")},disabled:b,className:b?"opacity-50":"",children:[i.jsx(ji,{className:"w-4 h-4 mr-2"}),"mcps.json",b&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"settings")},disabled:j,className:j?"opacity-50":"",children:[i.jsx(Ei,{className:"w-4 h-4 mr-2"}),"settings.json",j&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"env")},disabled:T,className:T?"opacity-50":"",children:[i.jsx(Iu,{className:"w-4 h-4 mr-2"}),".env",T&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),i.jsx(Ir,{}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"command")},children:[i.jsx(At,{className:"w-4 h-4 mr-2"}),"New Command"]}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"rule")},children:[i.jsx(Ci,{className:"w-4 h-4 mr-2"}),"New Rule"]}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"workflow")},children:[i.jsx(r1,{className:"w-4 h-4 mr-2"}),"New Workflow"]}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"memory")},children:[i.jsx(ko,{className:"w-4 h-4 mr-2"}),"New Memory"]}),i.jsx(Ir,{}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),u(e.dir,e.name||e.dir.split("/").pop())},children:[i.jsx(Eo,{className:"w-4 h-4 mr-2"}),"Install Plugins"]}),i.jsx(Ir,{}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),l(e.dir,"claudemd")},disabled:N,className:N?"opacity-50":"",children:[i.jsx(Or,{className:"w-4 h-4 mr-2"}),"CLAUDE.md",N&&i.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:"exists"})]}),(n||o)&&y&&i.jsxs(i.Fragment,{children:[i.jsx(Ir,{}),i.jsxs(ht,{onClick:O=>{O.stopPropagation(),y(e.dir)},children:[i.jsx(t1,{className:"w-4 h-4 mr-2"}),"Add Sub-project"]})]}),o&&g&&i.jsxs(ht,{onClick:O=>{O.stopPropagation(),g(e.dir)},children:[i.jsx(Qw,{className:"w-4 h-4 mr-2"}),"Hide"]}),e.isManual&&x&&i.jsxs(ht,{onClick:O=>{O.stopPropagation(),x(e.dir)},className:"text-destructive focus:text-destructive",children:[i.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Remove"]}),k&&k.length>0&&(o||!w)&&!((W=e.appliedTemplate)!=null&&W.template)&&i.jsxs(i.Fragment,{children:[i.jsx(Ir,{}),i.jsxs(jp,{children:[i.jsxs(wu,{children:[i.jsx(Do,{className:"w-4 h-4 mr-2"}),"Apply Template"]}),i.jsxs(Su,{children:[k.map(O=>{const re=O.id||O.name;return i.jsx(ht,{onClick:ue=>{ue.stopPropagation(),l(e.dir,"template",re)},children:O.name},re)}),i.jsx(Ir,{}),i.jsxs(jp,{children:[i.jsx(wu,{className:"text-xs text-muted-foreground",children:"Mark as Applied (migration)"}),i.jsx(Su,{children:k.map(O=>{const re=O.id||O.name;return i.jsx(ht,{onClick:ue=>{ue.stopPropagation(),l(e.dir,"mark-template",re)},children:O.name},re)})})]})]})]})]})]})]})]}),t&&i.jsxs("div",{className:"bg-white dark:bg-slate-950 py-1",children:[e.files&&e.files.length>0&&i.jsxs("div",{className:"mb-1",children:[i.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-orange-600 dark:text-orange-400 uppercase tracking-wide flex items-center gap-1",children:[i.jsx(gr,{className:"w-3 h-3"}),"Claude Code"]}),e.files.map(O=>i.jsx(eu,{item:O,selectedPath:p,onSelect:f,onContextMenu:h,expandedFolders:v,onToggleFolder:_},O.path))]}),e.geminiFiles&&e.geminiFiles.length>0&&i.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[i.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-blue-600 dark:text-blue-400 uppercase tracking-wide flex items-center gap-1",children:[i.jsx(gr,{className:"w-3 h-3"}),"Gemini CLI"]}),e.geminiFiles.map(O=>i.jsx(eu,{item:O,selectedPath:p,onSelect:f,onContextMenu:h,expandedFolders:v,onToggleFolder:_},O.path))]}),e.agentFiles&&e.agentFiles.length>0&&i.jsxs("div",{className:"mb-1 border-t border-dashed border-gray-200 dark:border-slate-700 pt-1",children:[i.jsxs("div",{className:"px-4 py-1 text-[10px] font-medium text-purple-600 dark:text-purple-400 uppercase tracking-wide flex items-center gap-1",children:[i.jsx(gr,{className:"w-3 h-3"}),"Antigravity"]}),e.agentFiles.map(O=>i.jsx(eu,{item:O,selectedPath:p,onSelect:f,onContextMenu:h,expandedFolders:v,onToggleFolder:_},O.path))]}),(!e.files||e.files.length===0)&&(!e.geminiFiles||e.geminiFiles.length===0)&&(!e.agentFiles||e.agentFiles.length===0)&&i.jsx("div",{className:"px-4 py-3 text-sm text-gray-400 dark:text-slate-500 italic text-center",children:"No config files. Use + to create."})]})]})}function VB({content:e,parsed:t,onSave:r,registry:n}){const[o,d]=C.useState(t||{include:[],mcpServers:{}}),[c,l]=C.useState("rich"),[u,f]=C.useState(JSON.stringify(t||{},null,2)),[p,h]=C.useState(!1),[v,_]=C.useState({open:!1,json:""});C.useEffect(()=>{d(t||{include:[],mcpServers:{}}),f(JSON.stringify(t||{},null,2)),h(!1)},[t]);const k=g=>{var j;const b=(j=o.include)!=null&&j.includes(g)?o.include.filter(N=>N!==g):[...o.include||[],g];d({...o,include:b}),h(!0)},w=()=>{if(c==="json")try{const g=JSON.parse(u);r(JSON.stringify(g,null,2))}catch{ie.error("Invalid JSON");return}else r(JSON.stringify(o,null,2));h(!1)},y=()=>{if(!v.json.trim()){ie.error("Please paste the MCP JSON configuration");return}try{let g;try{g=JSON.parse(v.json)}catch{ie.error("Invalid JSON format");return}let b={};if(g.mcpServers&&typeof g.mcpServers=="object")b=g.mcpServers;else if(typeof g=="object"&&!Array.isArray(g)){if(Object.keys(g).includes("command")){ie.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}b=g}if(Object.keys(b).length===0){ie.error("No MCP configurations found in the JSON");return}for(const[P,E]of Object.entries(b))if(!E.command){ie.error(`MCP "${P}" is missing required "command" field`);return}const j={...o.mcpServers||{},...b},N={...o,mcpServers:j};d(N),f(JSON.stringify(N,null,2)),h(!0);const T=Object.keys(b).length;ie.success(`Added ${T} MCP${T>1?"s":""} - click Save to apply`),_({open:!1,json:""})}catch(g){ie.error("Failed to add: "+g.message)}},x=n!=null&&n.mcpServers?Object.keys(n.mcpServers):[];return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[i.jsx($u,{value:c,onValueChange:l,children:i.jsxs(ml,{className:"h-8",children:[i.jsx(wn,{value:"rich",className:"text-xs px-3",children:"Rich Editor"}),i.jsx(wn,{value:"json",className:"text-xs px-3",children:"JSON"})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>_({open:!0,json:""}),children:[i.jsx(Ft,{className:"w-4 h-4 mr-1"}),"Add MCP"]}),p&&i.jsxs(pe,{size:"sm",onClick:w,children:[i.jsx(Lo,{className:"w-4 h-4 mr-1"}),"Save"]})]})]}),i.jsx(ds,{className:"flex-1",children:c==="rich"?i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Registry MCPs"}),i.jsx("div",{className:"space-y-2",children:x.length===0?i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"No MCPs in registry"}):x.map(g=>{var b;return i.jsxs("div",{className:"flex items-center justify-between p-2 rounded border bg-white dark:bg-slate-950",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ji,{className:"w-4 h-4 text-blue-500"}),i.jsx("span",{className:"text-sm",children:g})]}),i.jsx(dt,{checked:(b=o.include)==null?void 0:b.includes(g),onCheckedChange:()=>k(g)})]},g)})})]}),Object.keys(o.mcpServers||{}).length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm font-medium mb-2",children:"Inline MCPs"}),i.jsx("div",{className:"space-y-2",children:Object.entries(o.mcpServers).map(([g,b])=>{var j;return i.jsxs("div",{className:"p-2 rounded border bg-white dark:bg-slate-950 group",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium",children:g}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{variant:"outline",className:"text-xs",children:"inline"}),i.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 opacity-0 group-hover:opacity-100 text-red-500 hover:text-red-700 hover:bg-red-50",onClick:()=>{const{[g]:N,...T}=o.mcpServers,P={...o,mcpServers:T};d(P),f(JSON.stringify(P,null,2)),h(!0),ie.success(`Removed ${g} - click Save to apply`)},children:i.jsx(Gs,{className:"w-3.5 h-3.5"})})]})]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 font-mono",children:[b.command," ",(j=b.args)==null?void 0:j.join(" ")]})]},g)})})]})]}):i.jsx(mt,{className:"w-full h-full min-h-[400px] font-mono text-sm border-0 rounded-none resize-none",value:u,onChange:g=>{f(g.target.value),h(!0)}})}),i.jsx(Zt,{open:v.open,onOpenChange:g=>_({...v,open:g}),children:i.jsxs(Wt,{className:"bg-white dark:bg-slate-950 max-w-2xl",children:[i.jsxs(Kt,{children:[i.jsx(Gt,{children:"Add MCP to Config"}),i.jsx(Cr,{children:"Paste the MCP JSON configuration to add to this config file."})]}),i.jsxs("div",{className:"py-4",children:[i.jsx(mt,{value:v.json,onChange:g=>_({...v,json:g.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>_({open:!1,json:""}),children:"Cancel"}),i.jsxs(pe,{onClick:y,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]})})]})}function C_({content:e,onSave:t,fileType:r}){const[n,o]=C.useState(e||""),[d,c]=C.useState(!1);C.useEffect(()=>{o(e||""),c(!1)},[e]);const l=()=>{t(n),c(!1)},u=nl[r]||nl.claudemd;return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b bg-gray-50 dark:bg-slate-800",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(u.icon,{className:je("w-4 h-4",u.color)}),i.jsx("span",{className:"text-sm font-medium",children:u.label})]}),i.jsx("div",{className:"flex gap-2",children:d&&i.jsxs(pe,{size:"sm",onClick:l,children:[i.jsx(Lo,{className:"w-4 h-4 mr-1"}),"Save"]})})]}),i.jsx(mt,{className:"flex-1 w-full font-mono text-sm border-0 rounded-none resize-none p-4",value:n,onChange:f=>{o(f.target.value),c(!0)},placeholder:`Enter ${u.label.toLowerCase()} content...`})]})}function UB({content:e,parsed:t,onSave:r,filePath:n}){const o=async l=>{const u=JSON.stringify(l,null,2);r(u)},d=(n==null?void 0:n.includes(".gemini"))||(n==null?void 0:n.includes("/.gemini/")),c=(n==null?void 0:n.includes(".agent"))||(n==null?void 0:n.includes("/antigravity/"));return d&&!c?i.jsx("div",{className:"h-full overflow-auto p-4",children:i.jsx(Xk,{settings:t||{},onSave:o,loading:!1,settingsPath:n||"~/.gemini/settings.json"})}):i.jsx("div",{className:"h-full overflow-auto p-4",children:i.jsx(Yk,{settings:t||{},onSave:o,loading:!1,settingsPath:n||"~/.claude/settings.json"})})}function WB({open:e,onClose:t,item:r,intermediatePaths:n,onMove:o}){const[d,c]=C.useState("copy"),[l,u]=C.useState(null),[f,p]=C.useState(""),[h,v]=C.useState(!1),_=()=>{const k=f.trim()||l;if(!k){ie.error("Please select or enter a target path");return}o(r.path,k,d,h)};return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"max-w-md",children:[i.jsxs(Kt,{children:[i.jsxs(Gt,{children:[d==="copy"?"Copy":"Move"," ",r==null?void 0:r.name]}),i.jsx(Cr,{children:"Select a destination for this file"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pe,{variant:d==="copy"?"default":"outline",size:"sm",onClick:()=>c("copy"),children:[i.jsx(Ja,{className:"w-4 h-4 mr-1"})," Copy"]}),i.jsxs(pe,{variant:d==="move"?"default":"outline",size:"sm",onClick:()=>c("move"),children:[i.jsx(o1,{className:"w-4 h-4 mr-1"})," Move"]})]}),i.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n==null?void 0:n.map(k=>i.jsxs("div",{className:je("flex items-center justify-between p-2 rounded border cursor-pointer",l===k.dir?"border-blue-500 bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-50 dark:hover:bg-slate-800"),onClick:()=>{u(k.dir),p("")},children:[i.jsxs("div",{className:"flex items-center gap-2",children:[k.isHome?i.jsx(Sm,{className:"w-4 h-4"}):i.jsx(ar,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm",children:k.label})]}),k.hasClaudeFolder?i.jsx(rt,{variant:"secondary",className:"text-xs",children:"exists"}):i.jsx(rt,{variant:"outline",className:"text-xs",children:"create"})]},k.dir))}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Or enter custom path:"}),i.jsx(ot,{className:"mt-1 font-mono text-sm",placeholder:"/path/to/directory",value:f,onChange:k=>{p(k.target.value),u(null)}})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(dt,{checked:h,onCheckedChange:v}),i.jsx("span",{className:"text-sm",children:"Merge if target exists"})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:t,children:"Cancel"}),i.jsx(pe,{onClick:_,children:d==="copy"?"Copy":"Move"})]})]})})}function KB({open:e,onClose:t,item:r,onRename:n}){const[o,d]=C.useState("");C.useEffect(()=>{r!=null&&r.name&&d(r.name.replace(/\.md$/,""))},[r,e]);const c=()=>{if(!o.trim()){ie.error("Please enter a name");return}n(r,o.trim())};return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"sm:max-w-md",children:[i.jsx(Kt,{children:i.jsxs(Gt,{children:["Rename ",r==null?void 0:r.type]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"New name"}),i.jsx(ot,{className:"mt-1",placeholder:"new-name",value:o,onChange:l=>d(l.target.value),onKeyDown:l=>l.key==="Enter"&&c()}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:".md extension will be added automatically"})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:t,children:"Cancel"}),i.jsx(pe,{onClick:c,children:"Rename"})]})]})})}function GB({open:e,onClose:t,dir:r,type:n,onCreate:o}){const[d,c]=C.useState("");C.useEffect(()=>{c("")},[e]);const l=()=>{if((n==="command"||n==="rule"||n==="workflow"||n==="memory")&&!d.trim()){ie.error("Please enter a name");return}const p=n==="command"||n==="rule"||n==="workflow"||n==="memory"?d.endsWith(".md")?d:`${d}.md`:d;o(r,p,n)},u=nl[n]||{},f=n==="command"||n==="rule"||n==="workflow"||n==="memory";return i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"max-w-sm",children:[i.jsx(Kt,{children:i.jsxs(Gt,{children:["Create ",u.label||n]})}),f&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium",children:"Name"}),i.jsx(ot,{className:"mt-1",placeholder:n==="command"?"my-command.md":n==="workflow"?"my-workflow.md":n==="memory"?"context.md":"my-rule.md",value:d,onChange:p=>c(p.target.value),onKeyDown:p=>p.key==="Enter"&&l()})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:t,children:"Cancel"}),i.jsx(pe,{onClick:l,children:"Create"})]})]})})}function qB({project:e,onRefresh:t}){var Ze,nt,st,br,Mt,de;const[r,n]=C.useState([]),[o,d]=C.useState([]),[c,l]=C.useState(null),[u,f]=C.useState([]),[p,h]=C.useState(null),[v,_]=C.useState(null),[k,w]=C.useState(()=>{try{return localStorage.getItem("claude-config-expanded-folder")||null}catch{return null}}),[y,x]=C.useState({}),[g,b]=C.useState(!0),[j,N]=C.useState({open:!1,item:null}),[T,P]=C.useState({open:!1,dir:null,type:null}),[E,L]=C.useState({open:!1,item:null}),[z,F]=C.useState(!1),[V,U]=C.useState({open:!1,projectDir:null}),[X,K]=C.useState({open:!1,dir:null,template:null,confidence:null}),[q,G]=C.useState({open:!1,dir:null,name:null}),[B,D]=C.useState({x:0,y:0,item:null}),[A,I]=C.useState(["claude"]),W=C.useCallback(async()=>{var ae;try{b(!0);const[fe,ve,Pe,at,qe]=await Promise.all([Ce.getClaudeFolders(),Ce.getIntermediatePaths(),Ce.getRegistry(),Ce.getConfig(),Ce.getTemplates().catch(()=>[])]);if(n(fe),d(ve),l(Pe),f(qe.templates||qe||[]),I(((ae=at.config)==null?void 0:ae.enabledTools)||["claude"]),fe.length>0){const zt=localStorage.getItem("claude-config-expanded-folder");if(!zt||!fe.find(tr=>tr.dir===zt)){const tr=fe.filter(Er=>!Er.isSubproject),jr=tr.length>1?tr[tr.length-1]:tr[0],wt=(jr==null?void 0:jr.dir)||fe[0].dir;w(wt);try{localStorage.setItem("claude-config-expanded-folder",wt)}catch{}}}}catch(fe){ie.error("Failed to load data: "+fe.message)}finally{b(!1)}},[]);C.useEffect(()=>{W(),h(null),_(null)},[W,e==null?void 0:e.dir]);const O=ae=>{const fe=k===ae?null:ae;w(fe);try{fe?localStorage.setItem("claude-config-expanded-folder",fe):localStorage.removeItem("claude-config-expanded-folder")}catch{}},re=async ae=>{h(ae);try{const fe=await Ce.getClaudeFile(ae.path);_(fe)}catch(fe){ie.error("Failed to load file: "+fe.message)}},ue=async ae=>{if(p)try{await Ce.saveClaudeFile(p.path,ae),ie.success("Saved");const fe=await Ce.getClaudeFile(p.path);_(fe),W()}catch(fe){ie.error("Failed to save: "+fe.message)}},he=ae=>{x(fe=>({...fe,[ae]:!fe[ae]}))},Y=(ae,fe)=>{ae.preventDefault(),D({x:ae.clientX,y:ae.clientY,item:fe})},H=async(ae,fe,ve=null)=>{if(fe==="template"&&ve){try{await Ce.applyTemplate(ve,ae),ie.success(`Applied template: ${ve}`),W()}catch(Pe){ie.error("Failed to apply template: "+Pe.message)}return}if(fe==="mark-template"&&ve){try{await Ce.markTemplateApplied(ve,ae),ie.success(`Marked template: ${ve}`),W()}catch(Pe){ie.error("Failed to mark template: "+Pe.message)}return}fe==="command"||fe==="rule"||fe==="workflow"||fe==="memory"?P({open:!0,dir:ae,type:fe}):se(ae,fe==="mcps"?"mcps.json":fe==="settings"?"settings.json":fe==="env"?".env":"CLAUDE.md",fe)},se=async(ae,fe,ve)=>{try{const Pe=await Ce.createClaudeFile(ae,fe,ve);if(ie.success("Created"),P({open:!1,dir:null,type:null}),await W(),Pe.path){const at={path:Pe.path,name:fe,type:ve==="command"?"command":ve==="rule"?"rule":ve==="workflow"?"workflow":"file"};h(at),_(Pe.content||"")}}catch(Pe){ie.error("Failed to create: "+Pe.message)}},ee=async(ae,fe)=>{try{const ve=await Ce.renameClaudeFile(ae.path,fe);ve.success?(ie.success("Renamed"),L({open:!1,item:null}),await W(),h({...ae,path:ve.newPath,name:fe.endsWith(".md")?fe:`${fe}.md`})):ie.error(ve.error||"Failed to rename")}catch(ve){ie.error("Failed to rename: "+ve.message)}},Q=async ae=>{if(confirm(`Delete ${ae.name}?`))try{await Ce.deleteClaudeFile(ae.path),ie.success("Deleted"),(p==null?void 0:p.path)===ae.path&&(h(null),_(null)),W()}catch(fe){ie.error("Failed to delete: "+fe.message)}},ne=async(ae,fe,ve,Pe)=>{try{await Ce.moveClaudeItem(ae,fe,ve,Pe),ie.success(ve==="copy"?"Copied":"Moved"),N({open:!1,item:null}),W()}catch(at){ie.error("Failed: "+at.message)}},ye=async ae=>{if(ae)try{const fe=await Ce.addManualSubproject(V.projectDir,ae);if(fe.success){ie.success(`Added sub-project: ${ae.split("/").pop()}`),U({open:!1,projectDir:null}),W();try{const ve=await Ce.detectTemplate(ae);ve.detected&&ve.template&&K({open:!0,dir:ae,template:ve.template,confidence:ve.confidence,reason:ve.reason})}catch{}}else ie.error(fe.error||"Failed to add sub-project")}catch(fe){ie.error("Failed to add sub-project: "+fe.message)}},Oe=async ae=>{const fe=r.find(ve=>!ve.isSubproject&&!ve.isHome);if(fe)try{const ve=await Ce.removeManualSubproject(fe.dir,ae);ve.success?(ie.success("Removed sub-project"),W()):ie.error(ve.error||"Failed to remove sub-project")}catch(ve){ie.error("Failed to remove sub-project: "+ve.message)}},ze=async ae=>{const fe=r.find(ve=>!ve.isSubproject&&!ve.isHome);if(fe)try{const ve=await Ce.hideSubproject(fe.dir,ae);ve.success?(ie.success("Sub-project hidden"),W()):ie.error(ve.error||"Failed to hide sub-project")}catch(ve){ie.error("Failed to hide sub-project: "+ve.message)}},Xe=async()=>{if(!(!X.dir||!X.template))try{const ae=await Ce.applyTemplate(X.template.fullName,X.dir);ae.success?(ie.success(`Applied template: ${X.template.name}`),K({open:!1,dir:null,template:null,confidence:null}),W()):ie.error(ae.error||"Failed to apply template")}catch(ae){ie.error("Failed to apply template: "+ae.message)}},Te=()=>{if(!p||!v)return i.jsx("div",{className:"h-full flex items-center justify-center text-gray-500 dark:text-slate-400",children:i.jsxs("div",{className:"text-center",children:[i.jsx(lp,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),i.jsx("p",{children:"Select a file to edit"})]})});switch(p.type){case"mcps":return i.jsx(VB,{content:v.content,parsed:v.parsed,onSave:ue,registry:c});case"settings":return i.jsx(UB,{content:v.content,parsed:v.parsed,onSave:ue,filePath:p==null?void 0:p.path});case"command":case"rule":case"workflow":case"claudemd":case"env":return i.jsx(C_,{content:v.content,onSave:ue,fileType:p.type});default:return i.jsx(C_,{content:v.content,onSave:ue,fileType:"claudemd"})}};if(g)return i.jsx("div",{className:"h-full flex items-center justify-center",children:i.jsx(yr,{className:"w-6 h-6 animate-spin text-gray-400"})});const Me=r.some(ae=>ae.isSubproject),Re=(ae,fe)=>fe===0,Qe=(ae,fe)=>{const ve=r.findIndex(Pe=>Pe.isSubproject);return!ae.isSubproject&&(ve>=0?fe===ve-1:fe===r.length-1)};return i.jsxs("div",{className:"h-full flex",children:[i.jsxs("div",{className:"w-76 border-r flex flex-col bg-white dark:bg-slate-950",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 border-b",children:[i.jsx("h2",{className:"font-semibold text-sm",children:"Project Config"}),i.jsxs("div",{className:"flex gap-1",children:[A.includes("claude")&&A.includes("antigravity")&&i.jsxs(pe,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>F(!0),title:"Sync rules between tools",children:[i.jsx(P4,{className:"w-4 h-4 mr-1"}),"Sync"]}),i.jsx(pe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0",onClick:W,children:i.jsx(yr,{className:"w-4 h-4"})})]})]}),i.jsx(ds,{className:"flex-1",children:r.map((ae,fe)=>i.jsx($B,{folder:ae,isExpanded:k===ae.dir,isHome:Re(ae,fe),isProject:Qe(ae,fe),isSubproject:ae.isSubproject,depth:ae.depth||0,onToggle:()=>O(ae.dir),onCreateFile:H,onInstallPlugin:(ve,Pe)=>G({open:!0,dir:ve,name:Pe}),onSelectItem:re,selectedPath:p==null?void 0:p.path,onContextMenu:Y,expandedFolders:y,onToggleFolder:he,templates:u,hasSubprojects:Me,onAddSubproject:ve=>U({open:!0,projectDir:ve}),onRemoveSubproject:Oe,onHideSubproject:ze},ae.dir))})]}),i.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 dark:bg-slate-900",children:[p&&i.jsxs("div",{className:"flex items-center justify-between px-4 py-2 border-b bg-white dark:bg-slate-950",children:[i.jsx("div",{className:"flex items-center gap-2 text-sm",children:i.jsx("span",{className:"text-gray-500 dark:text-slate-400 font-mono truncate max-w-md",children:p.path})}),i.jsxs("div",{className:"flex gap-1",children:[i.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>N({open:!0,item:p}),children:i.jsx(Ja,{className:"w-4 h-4"})}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>Q(p),children:i.jsx(Gs,{className:"w-4 h-4"})})]})]}),i.jsx("div",{className:"flex-1",children:Te()})]}),B.item&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>D({x:0,y:0,item:null})}),i.jsxs("div",{className:"fixed z-50 bg-white dark:bg-slate-950 rounded-md shadow-lg border py-1 min-w-[160px]",style:{left:B.x,top:B.y},children:[(((Ze=B.item)==null?void 0:Ze.type)==="rule"||((nt=B.item)==null?void 0:nt.type)==="command"||((st=B.item)==null?void 0:st.type)==="workflow")&&i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{L({open:!0,item:B.item}),D({x:0,y:0,item:null})},children:[i.jsx(Cm,{className:"w-4 h-4 mr-2"})," Rename"]}),i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{N({open:!0,item:B.item}),D({x:0,y:0,item:null})},children:[i.jsx(Ja,{className:"w-4 h-4 mr-2"})," Copy to..."]}),i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center",onClick:()=>{N({open:!0,item:B.item}),D({x:0,y:0,item:null})},children:[i.jsx(o1,{className:"w-4 h-4 mr-2"})," Move to..."]}),i.jsx("div",{className:"border-t my-1"}),i.jsxs("button",{className:"w-full px-3 py-2 text-sm text-left hover:bg-gray-100 dark:hover:bg-slate-800 flex items-center text-red-600",onClick:()=>{Q(B.item),D({x:0,y:0,item:null})},children:[i.jsx(Gs,{className:"w-4 h-4 mr-2"})," Delete"]})]})]}),i.jsx(WB,{open:j.open,onClose:()=>N({open:!1,item:null}),item:j.item,intermediatePaths:o,onMove:ne}),i.jsx(GB,{open:T.open,onClose:()=>P({open:!1,dir:null,type:null}),dir:T.dir,type:T.type,onCreate:se}),i.jsx(KB,{open:E.open,onClose:()=>L({open:!1,item:null}),item:E.item,onRename:ee}),i.jsx(jB,{open:z,onOpenChange:F,projectDir:e==null?void 0:e.dir,onSynced:W}),i.jsx(HB,{open:q.open,onOpenChange:ae=>G({...q,open:ae}),projectDir:q.dir,projectName:q.name}),i.jsx(_g,{open:V.open,onOpenChange:ae=>U({...V,open:ae}),onSelect:ye,type:"directory",title:"Add Sub-project",initialPath:V.projectDir||"~"}),i.jsx(Zt,{open:X.open,onOpenChange:ae=>K({...X,open:ae}),children:i.jsxs(Wt,{className:"max-w-md",children:[i.jsxs(Kt,{children:[i.jsxs(Gt,{className:"flex items-center gap-2",children:[i.jsx(Do,{className:"w-5 h-5"}),"Template Detected"]}),i.jsx(Cr,{children:X.reason})]}),i.jsxs("div",{className:"py-4",children:[i.jsx("div",{className:"p-4 bg-muted rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(br=X.template)==null?void 0:br.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:(Mt=X.template)==null?void 0:Mt.description})]}),i.jsxs(rt,{variant:X.confidence==="high"?"default":"secondary",children:[X.confidence," confidence"]})]})}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-3",children:["Apply this template to ",i.jsx("code",{className:"text-xs bg-muted px-1 py-0.5 rounded",children:(de=X.dir)==null?void 0:de.split("/").pop()}),"?"]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"outline",onClick:()=>K({open:!1,dir:null,template:null,confidence:null}),children:"Skip"}),i.jsx(pe,{onClick:Xe,children:"Apply Template"})]})]})})]})}function YB({projects:e=[],activeProject:t=null,onSwitch:r,onAddClick:n,onManageClick:o,disabled:d=!1}){const c=(t==null?void 0:t.name)||"No Project";return i.jsxs(Di,{children:[i.jsx(Li,{asChild:!0,children:i.jsxs(pe,{variant:"outline",className:"gap-2 max-w-[220px] h-9",disabled:d,children:[i.jsx(Ks,{className:"w-4 h-4 text-indigo-500 flex-shrink-0"}),i.jsx("span",{className:"truncate font-medium",children:c}),i.jsx(hs,{className:"w-4 h-4 opacity-50 flex-shrink-0"})]})}),i.jsxs(ri,{align:"start",className:"w-72",children:[i.jsx(od,{className:"text-xs text-gray-500 font-normal",children:"Projects"}),i.jsx(Ir,{}),e.length===0?i.jsxs("div",{className:"px-3 py-6 text-sm text-gray-500 text-center",children:[i.jsx(ar,{className:"w-8 h-8 mx-auto mb-2 text-gray-300"}),i.jsx("p",{children:"No projects registered"}),i.jsx("p",{className:"text-xs mt-1",children:"Add a project to get started"})]}):i.jsx("div",{className:"max-h-64 overflow-y-auto",children:e.map(l=>i.jsxs(ht,{onClick:()=>!l.isActive&&r(l.id),className:`flex items-start gap-2 py-2 cursor-pointer ${l.isActive?"bg-indigo-50":""}`,disabled:l.isActive,children:[i.jsx("div",{className:"mt-0.5 flex-shrink-0",children:l.isActive?i.jsx(kr,{className:"w-4 h-4 text-indigo-600"}):l.exists?i.jsx(ar,{className:"w-4 h-4 text-gray-400"}):i.jsx(Ou,{className:"w-4 h-4 text-amber-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("div",{className:`truncate font-medium ${l.isActive?"text-indigo-700":""}`,children:l.name}),i.jsx("div",{className:"truncate text-xs text-gray-400 font-mono",children:l.path.replace(/^\/Users\/[^/]+/,"~")}),!l.exists&&i.jsx("div",{className:"text-xs text-amber-600 mt-0.5",children:"Path not found"})]}),l.hasClaudeConfig&&i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400",title:"Has .claude config"})})]},l.id))}),i.jsx(Ir,{}),i.jsxs(ht,{onClick:n,className:"gap-2 cursor-pointer",children:[i.jsx(Ft,{className:"w-4 h-4"}),"Add Project"]}),e.length>0&&i.jsxs(ht,{onClick:o,className:"gap-2 cursor-pointer",children:[i.jsx($M,{className:"w-4 h-4"}),"Manage Projects"]})]})]})}function x2({open:e,onOpenChange:t,onAdded:r}){const[n,o]=C.useState(""),[d,c]=C.useState(""),[l,u]=C.useState(!1),[f,p]=C.useState(!1);C.useEffect(()=>{e&&(o(""),c(""))},[e]),C.useEffect(()=>{if(n&&!d){const _=n.split("/").pop();c(_||"")}},[n]);const h=_=>{o(_),u(!1)},v=async()=>{if(!n){ie.error("Please select a project path");return}p(!0);try{const _=await Ce.addProject(n,d||void 0);_.error?ie.error(_.error):(ie.success(`Added project: ${_.project.name}`),r==null||r(_.project),t(!1))}catch(_){ie.error("Failed to add project: "+_.message)}finally{p(!1)}};return i.jsxs(i.Fragment,{children:[i.jsx(Zt,{open:e,onOpenChange:t,children:i.jsxs(Wt,{className:"sm:max-w-md",children:[i.jsxs(Kt,{children:[i.jsxs(Gt,{className:"flex items-center gap-2",children:[i.jsx(Ks,{className:"w-5 h-5 text-indigo-500"}),"Add Project"]}),i.jsx(Cr,{children:"Register a project folder to quickly switch between projects in the UI."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{htmlFor:"path",children:"Project Path"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{id:"path",value:n,onChange:_=>o(_.target.value),placeholder:"/path/to/project",className:"font-mono text-sm flex-1"}),i.jsx(pe,{variant:"outline",size:"icon",onClick:()=>u(!0),title:"Browse",children:i.jsx(Ks,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ot,{htmlFor:"name",children:"Display Name"}),i.jsx(ot,{id:"name",value:d,onChange:_=>c(_.target.value),placeholder:"Auto-filled from folder name"}),i.jsx("p",{className:"text-xs text-gray-500",children:"Optional. Leave empty to use folder name."})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),i.jsx(pe,{onClick:v,disabled:f||!n,children:f?i.jsxs(i.Fragment,{children:[i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}),"Adding..."]}):"Add Project"})]})]})}),i.jsx(_g,{open:l,onOpenChange:u,onSelect:h,type:"directory",initialPath:"~",title:"Select Project Folder"})]})}const _2=C.createContext({theme:"auto",setTheme:()=>{},resolvedTheme:"light"});function XB({children:e}){const[t,r]=C.useState(()=>{try{return localStorage.getItem("claude-config-theme")||"auto"}catch{return"auto"}}),[n,o]=C.useState("light");C.useEffect(()=>{const c=window.document.documentElement,l=p=>{let h;p==="auto"?h=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":h=p,o(h),h==="dark"?c.classList.add("dark"):c.classList.remove("dark")};l(t);const u=window.matchMedia("(prefers-color-scheme: dark)"),f=()=>{t==="auto"&&l("auto")};return u.addEventListener("change",f),()=>u.removeEventListener("change",f)},[t]);const d=c=>{r(c);try{localStorage.setItem("claude-config-theme",c)}catch{}};return i.jsx(_2.Provider,{value:{theme:t,setTheme:d,resolvedTheme:n},children:e})}function JB(){return C.useContext(_2)}function QB(){const{theme:e,setTheme:t,resolvedTheme:r}=JB(),n=r==="dark"?zx:Hx;return i.jsxs(Di,{children:[i.jsx(Li,{asChild:!0,children:i.jsxs(pe,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[i.jsx(n,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),i.jsxs(ri,{align:"end",children:[i.jsxs(ht,{onClick:()=>t("light"),className:e==="light"?"bg-accent":"",children:[i.jsx(Hx,{className:"mr-2 h-4 w-4"}),"Light"]}),i.jsxs(ht,{onClick:()=>t("dark"),className:e==="dark"?"bg-accent":"",children:[i.jsx(zx,{className:"mr-2 h-4 w-4"}),"Dark"]}),i.jsxs(ht,{onClick:()=>t("auto"),className:e==="auto"?"bg-accent":"",children:[i.jsx(i1,{className:"mr-2 h-4 w-4"}),"System"]})]})]})}var ZB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],eF=ZB.reduce((e,t)=>{const r=Em(`Primitive.${t}`),n=C.forwardRef((o,d)=>{const{asChild:c,...l}=o,u=c?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:d})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),tF="Separator",k_="horizontal",rF=["horizontal","vertical"],b2=C.forwardRef((e,t)=>{const{decorative:r,orientation:n=k_,...o}=e,d=nF(n)?n:k_,l=r?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return i.jsx(eF.div,{"data-orientation":d,...l,...o,ref:t})});b2.displayName=tF;function nF(e){return rF.includes(e)}var w2=b2;const S2=C.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},o)=>i.jsx(w2,{ref:o,decorative:r,orientation:t,className:je("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));S2.displayName=w2.displayName;function sF(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const iF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,oF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,aF={};function j_(e,t){return(aF.jsx?oF:iF).test(e)}const lF=/[ \t\n\f\r]/g;function cF(e){return typeof e=="object"?e.type==="text"?E_(e.value):!1:E_(e)}function E_(e){return e.replace(lF,"")===""}class Sl{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Sl.prototype.normal={};Sl.prototype.property={};Sl.prototype.space=void 0;function C2(e,t){const r={},n={};for(const o of e)Object.assign(r,o.property),Object.assign(n,o.normal);return new Sl(r,n,t)}function Np(e){return e.toLowerCase()}class Hr{constructor(t,r){this.attribute=r,this.property=t}}Hr.prototype.attribute="";Hr.prototype.booleanish=!1;Hr.prototype.boolean=!1;Hr.prototype.commaOrSpaceSeparated=!1;Hr.prototype.commaSeparated=!1;Hr.prototype.defined=!1;Hr.prototype.mustUseProperty=!1;Hr.prototype.number=!1;Hr.prototype.overloadedBoolean=!1;Hr.prototype.property="";Hr.prototype.spaceSeparated=!1;Hr.prototype.space=void 0;let uF=0;const Je=Ii(),It=Ii(),Pp=Ii(),_e=Ii(),pt=Ii(),xo=Ii(),Gr=Ii();function Ii(){return 2**++uF}const Tp=Object.freeze(Object.defineProperty({__proto__:null,boolean:Je,booleanish:It,commaOrSpaceSeparated:Gr,commaSeparated:xo,number:_e,overloadedBoolean:Pp,spaceSeparated:pt},Symbol.toStringTag,{value:"Module"})),Pf=Object.keys(Tp);class bg extends Hr{constructor(t,r,n,o){let d=-1;if(super(t,r),N_(this,"space",o),typeof n=="number")for(;++d<Pf.length;){const c=Pf[d];N_(this,Pf[d],(n&Tp[c])===Tp[c])}}}bg.prototype.defined=!0;function N_(e,t,r){r&&(e[t]=r)}function $o(e){const t={},r={};for(const[n,o]of Object.entries(e.properties)){const d=new bg(n,e.transform(e.attributes||{},n),o,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(d.mustUseProperty=!0),t[n]=d,r[Np(n)]=n,r[Np(d.attribute)]=n}return new Sl(t,r,e.space)}const k2=$o({properties:{ariaActiveDescendant:null,ariaAtomic:It,ariaAutoComplete:null,ariaBusy:It,ariaChecked:It,ariaColCount:_e,ariaColIndex:_e,ariaColSpan:_e,ariaControls:pt,ariaCurrent:null,ariaDescribedBy:pt,ariaDetails:null,ariaDisabled:It,ariaDropEffect:pt,ariaErrorMessage:null,ariaExpanded:It,ariaFlowTo:pt,ariaGrabbed:It,ariaHasPopup:null,ariaHidden:It,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pt,ariaLevel:_e,ariaLive:null,ariaModal:It,ariaMultiLine:It,ariaMultiSelectable:It,ariaOrientation:null,ariaOwns:pt,ariaPlaceholder:null,ariaPosInSet:_e,ariaPressed:It,ariaReadOnly:It,ariaRelevant:null,ariaRequired:It,ariaRoleDescription:pt,ariaRowCount:_e,ariaRowIndex:_e,ariaRowSpan:_e,ariaSelected:It,ariaSetSize:_e,ariaSort:null,ariaValueMax:_e,ariaValueMin:_e,ariaValueNow:_e,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function j2(e,t){return t in e?e[t]:t}function E2(e,t){return j2(e,t.toLowerCase())}const dF=$o({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:xo,acceptCharset:pt,accessKey:pt,action:null,allow:null,allowFullScreen:Je,allowPaymentRequest:Je,allowUserMedia:Je,alt:null,as:null,async:Je,autoCapitalize:null,autoComplete:pt,autoFocus:Je,autoPlay:Je,blocking:pt,capture:null,charSet:null,checked:Je,cite:null,className:pt,cols:_e,colSpan:null,content:null,contentEditable:It,controls:Je,controlsList:pt,coords:_e|xo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Je,defer:Je,dir:null,dirName:null,disabled:Je,download:Pp,draggable:It,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Je,formTarget:null,headers:pt,height:_e,hidden:Pp,high:_e,href:null,hrefLang:null,htmlFor:pt,httpEquiv:pt,id:null,imageSizes:null,imageSrcSet:null,inert:Je,inputMode:null,integrity:null,is:null,isMap:Je,itemId:null,itemProp:pt,itemRef:pt,itemScope:Je,itemType:pt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Je,low:_e,manifest:null,max:null,maxLength:_e,media:null,method:null,min:null,minLength:_e,multiple:Je,muted:Je,name:null,nonce:null,noModule:Je,noValidate:Je,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Je,optimum:_e,pattern:null,ping:pt,placeholder:null,playsInline:Je,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Je,referrerPolicy:null,rel:pt,required:Je,reversed:Je,rows:_e,rowSpan:_e,sandbox:pt,scope:null,scoped:Je,seamless:Je,selected:Je,shadowRootClonable:Je,shadowRootDelegatesFocus:Je,shadowRootMode:null,shape:null,size:_e,sizes:null,slot:null,span:_e,spellCheck:It,src:null,srcDoc:null,srcLang:null,srcSet:null,start:_e,step:null,style:null,tabIndex:_e,target:null,title:null,translate:null,type:null,typeMustMatch:Je,useMap:null,value:It,width:_e,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pt,axis:null,background:null,bgColor:null,border:_e,borderColor:null,bottomMargin:_e,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Je,declare:Je,event:null,face:null,frame:null,frameBorder:null,hSpace:_e,leftMargin:_e,link:null,longDesc:null,lowSrc:null,marginHeight:_e,marginWidth:_e,noResize:Je,noHref:Je,noShade:Je,noWrap:Je,object:null,profile:null,prompt:null,rev:null,rightMargin:_e,rules:null,scheme:null,scrolling:It,standby:null,summary:null,text:null,topMargin:_e,valueType:null,version:null,vAlign:null,vLink:null,vSpace:_e,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Je,disableRemotePlayback:Je,prefix:null,property:null,results:_e,security:null,unselectable:null},space:"html",transform:E2}),hF=$o({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Gr,accentHeight:_e,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:_e,amplitude:_e,arabicForm:null,ascent:_e,attributeName:null,attributeType:null,azimuth:_e,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:_e,by:null,calcMode:null,capHeight:_e,className:pt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:_e,diffuseConstant:_e,direction:null,display:null,dur:null,divisor:_e,dominantBaseline:null,download:Je,dx:null,dy:null,edgeMode:null,editable:null,elevation:_e,enableBackground:null,end:null,event:null,exponent:_e,externalResourcesRequired:null,fill:null,fillOpacity:_e,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:xo,g2:xo,glyphName:xo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:_e,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:_e,horizOriginX:_e,horizOriginY:_e,id:null,ideographic:_e,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:_e,k:_e,k1:_e,k2:_e,k3:_e,k4:_e,kernelMatrix:Gr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:_e,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:_e,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:_e,overlineThickness:_e,paintOrder:null,panose1:null,path:null,pathLength:_e,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:_e,pointsAtY:_e,pointsAtZ:_e,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Gr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Gr,rev:Gr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Gr,requiredFeatures:Gr,requiredFonts:Gr,requiredFormats:Gr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:_e,specularExponent:_e,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:_e,strikethroughThickness:_e,string:null,stroke:null,strokeDashArray:Gr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:_e,strokeOpacity:_e,strokeWidth:null,style:null,surfaceScale:_e,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Gr,tabIndex:_e,tableValues:null,target:null,targetX:_e,targetY:_e,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Gr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:_e,underlineThickness:_e,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:_e,values:null,vAlphabetic:_e,vMathematical:_e,vectorEffect:null,vHanging:_e,vIdeographic:_e,version:null,vertAdvY:_e,vertOriginX:_e,vertOriginY:_e,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:_e,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:j2}),N2=$o({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),P2=$o({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:E2}),T2=$o({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),fF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},pF=/[A-Z]/g,P_=/-[a-z]/g,mF=/^data[-\w.:]+$/i;function gF(e,t){const r=Np(t);let n=t,o=Hr;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&mF.test(t)){if(t.charAt(4)==="-"){const d=t.slice(5).replace(P_,yF);n="data"+d.charAt(0).toUpperCase()+d.slice(1)}else{const d=t.slice(4);if(!P_.test(d)){let c=d.replace(pF,vF);c.charAt(0)!=="-"&&(c="-"+c),t="data"+c}}o=bg}return new o(n,t)}function vF(e){return"-"+e.toLowerCase()}function yF(e){return e.charAt(1).toUpperCase()}const xF=C2([k2,dF,N2,P2,T2],"html"),wg=C2([k2,hF,N2,P2,T2],"svg");function _F(e){return e.join(" ").trim()}var co={},Tf,T_;function bF(){if(T_)return Tf;T_=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,r=/^\s*/,n=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,o=/^:\s*/,d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,c=/^[;\s]*/,l=/^\s+|\s+$/g,u=`
`,f="/",p="*",h="",v="comment",_="declaration";function k(y,x){if(typeof y!="string")throw new TypeError("First argument must be a string");if(!y)return[];x=x||{};var g=1,b=1;function j(X){var K=X.match(t);K&&(g+=K.length);var q=X.lastIndexOf(u);b=~q?X.length-q:b+X.length}function N(){var X={line:g,column:b};return function(K){return K.position=new T(X),L(),K}}function T(X){this.start=X,this.end={line:g,column:b},this.source=x.source}T.prototype.content=y;function P(X){var K=new Error(x.source+":"+g+":"+b+": "+X);if(K.reason=X,K.filename=x.source,K.line=g,K.column=b,K.source=y,!x.silent)throw K}function E(X){var K=X.exec(y);if(K){var q=K[0];return j(q),y=y.slice(q.length),K}}function L(){E(r)}function z(X){var K;for(X=X||[];K=F();)K!==!1&&X.push(K);return X}function F(){var X=N();if(!(f!=y.charAt(0)||p!=y.charAt(1))){for(var K=2;h!=y.charAt(K)&&(p!=y.charAt(K)||f!=y.charAt(K+1));)++K;if(K+=2,h===y.charAt(K-1))return P("End of comment missing");var q=y.slice(2,K-2);return b+=2,j(q),y=y.slice(K),b+=2,X({type:v,comment:q})}}function V(){var X=N(),K=E(n);if(K){if(F(),!E(o))return P("property missing ':'");var q=E(d),G=X({type:_,property:w(K[0].replace(e,h)),value:q?w(q[0].replace(e,h)):h});return E(c),G}}function U(){var X=[];z(X);for(var K;K=V();)K!==!1&&(X.push(K),z(X));return X}return L(),U()}function w(y){return y?y.replace(l,h):h}return Tf=k,Tf}var R_;function wF(){if(R_)return co;R_=1;var e=co&&co.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(co,"__esModule",{value:!0}),co.default=r;const t=e(bF());function r(n,o){let d=null;if(!n||typeof n!="string")return d;const c=(0,t.default)(n),l=typeof o=="function";return c.forEach(u=>{if(u.type!=="declaration")return;const{property:f,value:p}=u;l?o(f,p,u):p&&(d=d||{},d[f]=p)}),d}return co}var Pa={},A_;function SF(){if(A_)return Pa;A_=1,Object.defineProperty(Pa,"__esModule",{value:!0}),Pa.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,r=/^[^-]+$/,n=/^-(webkit|moz|ms|o|khtml)-/,o=/^-(ms)-/,d=function(f){return!f||r.test(f)||e.test(f)},c=function(f,p){return p.toUpperCase()},l=function(f,p){return"".concat(p,"-")},u=function(f,p){return p===void 0&&(p={}),d(f)?f:(f=f.toLowerCase(),p.reactCompat?f=f.replace(o,l):f=f.replace(n,l),f.replace(t,c))};return Pa.camelCase=u,Pa}var Ta,M_;function CF(){if(M_)return Ta;M_=1;var e=Ta&&Ta.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},t=e(wF()),r=SF();function n(o,d){var c={};return!o||typeof o!="string"||(0,t.default)(o,function(l,u){l&&u&&(c[(0,r.camelCase)(l,d)]=u)}),c}return n.default=n,Ta=n,Ta}var kF=CF();const jF=il(kF),R2=A2("end"),Sg=A2("start");function A2(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function EF(e){const t=Sg(e),r=R2(e);if(t&&r)return{start:t,end:r}}function $a(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?D_(e.position):"start"in e||"end"in e?D_(e):"line"in e||"column"in e?Rp(e):""}function Rp(e){return L_(e&&e.line)+":"+L_(e&&e.column)}function D_(e){return Rp(e&&e.start)+"-"+Rp(e&&e.end)}function L_(e){return e&&typeof e=="number"?e:1}class _r extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let o="",d={},c=!1;if(r&&("line"in r&&"column"in r?d={place:r}:"start"in r&&"end"in r?d={place:r}:"type"in r?d={ancestors:[r],place:r.position}:d={...r}),typeof t=="string"?o=t:!d.cause&&t&&(c=!0,o=t.message,d.cause=t),!d.ruleId&&!d.source&&typeof n=="string"){const u=n.indexOf(":");u===-1?d.ruleId=n:(d.source=n.slice(0,u),d.ruleId=n.slice(u+1))}if(!d.place&&d.ancestors&&d.ancestors){const u=d.ancestors[d.ancestors.length-1];u&&(d.place=u.position)}const l=d.place&&"start"in d.place?d.place.start:d.place;this.ancestors=d.ancestors||void 0,this.cause=d.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=$a(d.place)||"1:1",this.place=d.place||void 0,this.reason=this.message,this.ruleId=d.ruleId||void 0,this.source=d.source||void 0,this.stack=c&&d.cause&&typeof d.cause.stack=="string"?d.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}_r.prototype.file="";_r.prototype.name="";_r.prototype.reason="";_r.prototype.message="";_r.prototype.stack="";_r.prototype.column=void 0;_r.prototype.line=void 0;_r.prototype.ancestors=void 0;_r.prototype.cause=void 0;_r.prototype.fatal=void 0;_r.prototype.place=void 0;_r.prototype.ruleId=void 0;_r.prototype.source=void 0;const Cg={}.hasOwnProperty,NF=new Map,PF=/[A-Z]/g,TF=new Set(["table","tbody","thead","tfoot","tr"]),RF=new Set(["td","th"]),M2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function AF(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=zF(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=FF(r,t.jsx,t.jsxs)}const o={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?wg:xF,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},d=D2(o,e,void 0);return d&&typeof d!="string"?d:o.create(e,o.Fragment,{children:d||void 0},void 0)}function D2(e,t,r){if(t.type==="element")return MF(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return DF(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return IF(e,t,r);if(t.type==="mdxjsEsm")return LF(e,t);if(t.type==="root")return OF(e,t,r);if(t.type==="text")return BF(e,t)}function MF(e,t,r){const n=e.schema;let o=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(o=wg,e.schema=o),e.ancestors.push(t);const d=I2(e,t.tagName,!1),c=HF(e,t);let l=jg(e,t);return TF.has(t.tagName)&&(l=l.filter(function(u){return typeof u=="string"?!cF(u):!0})),L2(e,c,d,t),kg(c,l),e.ancestors.pop(),e.schema=n,e.create(t,d,c,r)}function DF(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}sl(e,t.position)}function LF(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);sl(e,t.position)}function IF(e,t,r){const n=e.schema;let o=n;t.name==="svg"&&n.space==="html"&&(o=wg,e.schema=o),e.ancestors.push(t);const d=t.name===null?e.Fragment:I2(e,t.name,!0),c=$F(e,t),l=jg(e,t);return L2(e,c,d,t),kg(c,l),e.ancestors.pop(),e.schema=n,e.create(t,d,c,r)}function OF(e,t,r){const n={};return kg(n,jg(e,t)),e.create(t,e.Fragment,n,r)}function BF(e,t){return t.value}function L2(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function kg(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function FF(e,t,r){return n;function n(o,d,c,l){const f=Array.isArray(c.children)?r:t;return l?f(d,c,l):f(d,c)}}function zF(e,t){return r;function r(n,o,d,c){const l=Array.isArray(d.children),u=Sg(n);return t(o,d,c,l,{columnNumber:u?u.column-1:void 0,fileName:e,lineNumber:u?u.line:void 0},void 0)}}function HF(e,t){const r={};let n,o;for(o in t.properties)if(o!=="children"&&Cg.call(t.properties,o)){const d=VF(e,o,t.properties[o]);if(d){const[c,l]=d;e.tableCellAlignToStyle&&c==="align"&&typeof l=="string"&&RF.has(t.tagName)?n=l:r[c]=l}}if(n){const d=r.style||(r.style={});d[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function $F(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const d=n.data.estree.body[0];d.type;const c=d.expression;c.type;const l=c.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else sl(e,t.position);else{const o=n.name;let d;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,d=e.evaluater.evaluateExpression(l.expression)}else sl(e,t.position);else d=n.value===null?!0:n.value;r[o]=d}return r}function jg(e,t){const r=[];let n=-1;const o=e.passKeys?new Map:NF;for(;++n<t.children.length;){const d=t.children[n];let c;if(e.passKeys){const u=d.type==="element"?d.tagName:d.type==="mdxJsxFlowElement"||d.type==="mdxJsxTextElement"?d.name:void 0;if(u){const f=o.get(u)||0;c=u+"-"+f,o.set(u,f+1)}}const l=D2(e,d,c);l!==void 0&&r.push(l)}return r}function VF(e,t,r){const n=gF(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?sF(r):_F(r)),n.property==="style"){let o=typeof r=="object"?r:UF(e,String(r));return e.stylePropertyNameCase==="css"&&(o=WF(o)),["style",o]}return[e.elementAttributeNameCase==="react"&&n.space?fF[n.property]||n.property:n.attribute,r]}}function UF(e,t){try{return jF(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,o=new _r("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw o.file=e.filePath||void 0,o.url=M2+"#cannot-parse-style-attribute",o}}function I2(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const o=t.split(".");let d=-1,c;for(;++d<o.length;){const l=j_(o[d])?{type:"Identifier",name:o[d]}:{type:"Literal",value:o[d]};c=c?{type:"MemberExpression",object:c,property:l,computed:!!(d&&l.type==="Literal"),optional:!1}:l}n=c}else n=j_(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const o=n.value;return Cg.call(e.components,o)?e.components[o]:o}if(e.evaluater)return e.evaluater.evaluateExpression(n);sl(e)}function sl(e,t){const r=new _r("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=M2+"#cannot-handle-mdx-estrees-without-createevaluater",r}function WF(e){const t={};let r;for(r in e)Cg.call(e,r)&&(t[KF(r)]=e[r]);return t}function KF(e){let t=e.replace(PF,GF);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function GF(e){return"-"+e.toLowerCase()}const Rf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},qF={};function YF(e,t){const r=qF,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,o=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return O2(e,n,o)}function O2(e,t,r){if(XF(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return I_(e.children,t,r)}return Array.isArray(e)?I_(e,t,r):""}function I_(e,t,r){const n=[];let o=-1;for(;++o<e.length;)n[o]=O2(e[o],t,r);return n.join("")}function XF(e){return!!(e&&typeof e=="object")}const O_=document.createElement("i");function Eg(e){const t="&"+e+";";O_.innerHTML=t;const r=O_.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Hn(e,t,r,n){const o=e.length;let d=0,c;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,r=r>0?r:0,n.length<1e4)c=Array.from(n),c.unshift(t,r),e.splice(...c);else for(r&&e.splice(t,r);d<n.length;)c=n.slice(d,d+1e4),c.unshift(t,0),e.splice(...c),d+=1e4,t+=1e4}function un(e,t){return e.length>0?(Hn(e,e.length,0,t),e):t}const B_={}.hasOwnProperty;function JF(e){const t={};let r=-1;for(;++r<e.length;)QF(t,e[r]);return t}function QF(e,t){let r;for(r in t){const o=(B_.call(e,r)?e[r]:void 0)||(e[r]={}),d=t[r];let c;if(d)for(c in d){B_.call(o,c)||(o[c]=[]);const l=d[c];ZF(o[c],Array.isArray(l)?l:l?[l]:[])}}}function ZF(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Hn(e,0,0,n)}function B2(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function _o(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ln=ni(/[A-Za-z]/),Yr=ni(/[\dA-Za-z]/),e8=ni(/[#-'*+\--9=?A-Z^-~]/);function Ap(e){return e!==null&&(e<32||e===127)}const Mp=ni(/\d/),t8=ni(/[\dA-Fa-f]/),r8=ni(/[!-/:-@[-`{-~]/);function Ke(e){return e!==null&&e<-2}function Fr(e){return e!==null&&(e<0||e===32)}function ct(e){return e===-2||e===-1||e===32}const n8=ni(new RegExp("\\p{P}|\\p{S}","u")),s8=ni(/\s/);function ni(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function Vo(e){const t=[];let r=-1,n=0,o=0;for(;++r<e.length;){const d=e.charCodeAt(r);let c="";if(d===37&&Yr(e.charCodeAt(r+1))&&Yr(e.charCodeAt(r+2)))o=2;else if(d<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(d))||(c=String.fromCharCode(d));else if(d>55295&&d<57344){const l=e.charCodeAt(r+1);d<56320&&l>56319&&l<57344?(c=String.fromCharCode(d,l),o=1):c=""}else c=String.fromCharCode(d);c&&(t.push(e.slice(n,r),encodeURIComponent(c)),n=r+o+1,c=""),o&&(r+=o,o=0)}return t.join("")+e.slice(n)}function vt(e,t,r,n){const o=n?n-1:Number.POSITIVE_INFINITY;let d=0;return c;function c(u){return ct(u)?(e.enter(r),l(u)):t(u)}function l(u){return ct(u)&&d++<o?(e.consume(u),l):(e.exit(r),t(u))}}const i8={tokenize:o8};function o8(e){const t=e.attempt(this.parser.constructs.contentInitial,n,o);let r;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),vt(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),d(l)}function d(l){const u=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=u),r=u,c(l)}function c(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return Ke(l)?(e.consume(l),e.exit("chunkText"),d):(e.consume(l),c)}}const a8={tokenize:l8},F_={tokenize:c8};function l8(e){const t=this,r=[];let n=0,o,d,c;return l;function l(b){if(n<r.length){const j=r[n];return t.containerState=j[1],e.attempt(j[0].continuation,u,f)(b)}return f(b)}function u(b){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&g();const j=t.events.length;let N=j,T;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){T=t.events[N][1].end;break}x(n);let P=j;for(;P<t.events.length;)t.events[P][1].end={...T},P++;return Hn(t.events,N+1,0,t.events.slice(j)),t.events.length=P,f(b)}return l(b)}function f(b){if(n===r.length){if(!o)return v(b);if(o.currentConstruct&&o.currentConstruct.concrete)return k(b);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(F_,p,h)(b)}function p(b){return o&&g(),x(n),v(b)}function h(b){return t.parser.lazy[t.now().line]=n!==r.length,c=t.now().offset,k(b)}function v(b){return t.containerState={},e.attempt(F_,_,k)(b)}function _(b){return n++,r.push([t.currentConstruct,t.containerState]),v(b)}function k(b){if(b===null){o&&g(),x(0),e.consume(b);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:d}),w(b)}function w(b){if(b===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(b);return}return Ke(b)?(e.consume(b),y(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(b),w)}function y(b,j){const N=t.sliceStream(b);if(j&&N.push(null),b.previous=d,d&&(d.next=b),d=b,o.defineSkip(b.start),o.write(N),t.parser.lazy[b.start.line]){let T=o.events.length;for(;T--;)if(o.events[T][1].start.offset<c&&(!o.events[T][1].end||o.events[T][1].end.offset>c))return;const P=t.events.length;let E=P,L,z;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(L){z=t.events[E][1].end;break}L=!0}for(x(n),T=P;T<t.events.length;)t.events[T][1].end={...z},T++;Hn(t.events,E+1,0,t.events.slice(P)),t.events.length=T}}function x(b){let j=r.length;for(;j-- >b;){const N=r[j];t.containerState=N[1],N[0].exit.call(t,e)}r.length=b}function g(){o.write([null]),d=void 0,o=void 0,t.containerState._closeFlow=void 0}}function c8(e,t,r){return vt(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function z_(e){if(e===null||Fr(e)||s8(e))return 1;if(n8(e))return 2}function Ng(e,t,r){const n=[];let o=-1;for(;++o<e.length;){const d=e[o].resolveAll;d&&!n.includes(d)&&(t=d(t,r),n.push(d))}return t}const Dp={name:"attention",resolveAll:u8,tokenize:d8};function u8(e,t){let r=-1,n,o,d,c,l,u,f,p;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;u=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},v={...e[r][1].start};H_(h,-u),H_(v,u),c={type:u>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:v},d={type:u>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},o={type:u>1?"strong":"emphasis",start:{...c.start},end:{...l.end}},e[n][1].end={...c.start},e[r][1].start={...l.end},f=[],e[n][1].end.offset-e[n][1].start.offset&&(f=un(f,[["enter",e[n][1],t],["exit",e[n][1],t]])),f=un(f,[["enter",o,t],["enter",c,t],["exit",c,t],["enter",d,t]]),f=un(f,Ng(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),f=un(f,[["exit",d,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[r][1].end.offset-e[r][1].start.offset?(p=2,f=un(f,[["enter",e[r][1],t],["exit",e[r][1],t]])):p=0,Hn(e,n-1,r-n+3,f),r=n+f.length-p-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function d8(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,o=z_(n);let d;return c;function c(u){return d=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===d)return e.consume(u),l;const f=e.exit("attentionSequence"),p=z_(u),h=!p||p===2&&o||r.includes(u),v=!o||o===2&&p||r.includes(n);return f._open=!!(d===42?h:h&&(o||!v)),f._close=!!(d===42?v:v&&(p||!h)),t(u)}}function H_(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const h8={name:"autolink",tokenize:f8};function f8(e,t,r){let n=0;return o;function o(_){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),d}function d(_){return Ln(_)?(e.consume(_),c):_===64?r(_):f(_)}function c(_){return _===43||_===45||_===46||Yr(_)?(n=1,l(_)):f(_)}function l(_){return _===58?(e.consume(_),n=0,u):(_===43||_===45||_===46||Yr(_))&&n++<32?(e.consume(_),l):(n=0,f(_))}function u(_){return _===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):_===null||_===32||_===60||Ap(_)?r(_):(e.consume(_),u)}function f(_){return _===64?(e.consume(_),p):e8(_)?(e.consume(_),f):r(_)}function p(_){return Yr(_)?h(_):r(_)}function h(_){return _===46?(e.consume(_),n=0,p):_===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(_),e.exit("autolinkMarker"),e.exit("autolink"),t):v(_)}function v(_){if((_===45||Yr(_))&&n++<63){const k=_===45?v:h;return e.consume(_),k}return r(_)}}const ud={partial:!0,tokenize:p8};function p8(e,t,r){return n;function n(d){return ct(d)?vt(e,o,"linePrefix")(d):o(d)}function o(d){return d===null||Ke(d)?t(d):r(d)}}const F2={continuation:{tokenize:g8},exit:v8,name:"blockQuote",tokenize:m8};function m8(e,t,r){const n=this;return o;function o(c){if(c===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(c),e.exit("blockQuoteMarker"),d}return r(c)}function d(c){return ct(c)?(e.enter("blockQuotePrefixWhitespace"),e.consume(c),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(c))}}function g8(e,t,r){const n=this;return o;function o(c){return ct(c)?vt(e,d,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c):d(c)}function d(c){return e.attempt(F2,t,r)(c)}}function v8(e){e.exit("blockQuote")}const z2={name:"characterEscape",tokenize:y8};function y8(e,t,r){return n;function n(d){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(d),e.exit("escapeMarker"),o}function o(d){return r8(d)?(e.enter("characterEscapeValue"),e.consume(d),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(d)}}const H2={name:"characterReference",tokenize:x8};function x8(e,t,r){const n=this;let o=0,d,c;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),u}function u(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),f):(e.enter("characterReferenceValue"),d=31,c=Yr,p(h))}function f(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),d=6,c=t8,p):(e.enter("characterReferenceValue"),d=7,c=Mp,p(h))}function p(h){if(h===59&&o){const v=e.exit("characterReferenceValue");return c===Yr&&!Eg(n.sliceSerialize(v))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return c(h)&&o++<d?(e.consume(h),p):r(h)}}const $_={partial:!0,tokenize:b8},V_={concrete:!0,name:"codeFenced",tokenize:_8};function _8(e,t,r){const n=this,o={partial:!0,tokenize:N};let d=0,c=0,l;return u;function u(T){return f(T)}function f(T){const P=n.events[n.events.length-1];return d=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,l=T,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),p(T)}function p(T){return T===l?(c++,e.consume(T),p):c<3?r(T):(e.exit("codeFencedFenceSequence"),ct(T)?vt(e,h,"whitespace")(T):h(T))}function h(T){return T===null||Ke(T)?(e.exit("codeFencedFence"),n.interrupt?t(T):e.check($_,w,j)(T)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||Ke(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(T)):ct(T)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),vt(e,_,"whitespace")(T)):T===96&&T===l?r(T):(e.consume(T),v)}function _(T){return T===null||Ke(T)?h(T):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),k(T))}function k(T){return T===null||Ke(T)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(T)):T===96&&T===l?r(T):(e.consume(T),k)}function w(T){return e.attempt(o,j,y)(T)}function y(T){return e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),x}function x(T){return d>0&&ct(T)?vt(e,g,"linePrefix",d+1)(T):g(T)}function g(T){return T===null||Ke(T)?e.check($_,w,j)(T):(e.enter("codeFlowValue"),b(T))}function b(T){return T===null||Ke(T)?(e.exit("codeFlowValue"),g(T)):(e.consume(T),b)}function j(T){return e.exit("codeFenced"),t(T)}function N(T,P,E){let L=0;return z;function z(K){return T.enter("lineEnding"),T.consume(K),T.exit("lineEnding"),F}function F(K){return T.enter("codeFencedFence"),ct(K)?vt(T,V,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(K):V(K)}function V(K){return K===l?(T.enter("codeFencedFenceSequence"),U(K)):E(K)}function U(K){return K===l?(L++,T.consume(K),U):L>=c?(T.exit("codeFencedFenceSequence"),ct(K)?vt(T,X,"whitespace")(K):X(K)):E(K)}function X(K){return K===null||Ke(K)?(T.exit("codeFencedFence"),P(K)):E(K)}}}function b8(e,t,r){const n=this;return o;function o(c){return c===null?r(c):(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d)}function d(c){return n.parser.lazy[n.now().line]?r(c):t(c)}}const Af={name:"codeIndented",tokenize:S8},w8={partial:!0,tokenize:C8};function S8(e,t,r){const n=this;return o;function o(f){return e.enter("codeIndented"),vt(e,d,"linePrefix",5)(f)}function d(f){const p=n.events[n.events.length-1];return p&&p[1].type==="linePrefix"&&p[2].sliceSerialize(p[1],!0).length>=4?c(f):r(f)}function c(f){return f===null?u(f):Ke(f)?e.attempt(w8,c,u)(f):(e.enter("codeFlowValue"),l(f))}function l(f){return f===null||Ke(f)?(e.exit("codeFlowValue"),c(f)):(e.consume(f),l)}function u(f){return e.exit("codeIndented"),t(f)}}function C8(e,t,r){const n=this;return o;function o(c){return n.parser.lazy[n.now().line]?r(c):Ke(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),o):vt(e,d,"linePrefix",5)(c)}function d(c){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(c):Ke(c)?o(c):r(c)}}const k8={name:"codeText",previous:E8,resolve:j8,tokenize:N8};function j8(e){let t=e.length-4,r=3,n,o;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)o===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(o=n):(n===t||e[n][1].type==="lineEnding")&&(e[o][1].type="codeTextData",n!==o+2&&(e[o][1].end=e[n-1][1].end,e.splice(o+2,n-o-2),t-=n-o-2,n=o+2),o=void 0);return e}function E8(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function N8(e,t,r){let n=0,o,d;return c;function c(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),n++,l):(e.exit("codeTextSequence"),u(h))}function u(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),u):h===96?(d=e.enter("codeTextSequence"),o=0,p(h)):Ke(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),u):(e.enter("codeTextData"),f(h))}function f(h){return h===null||h===32||h===96||Ke(h)?(e.exit("codeTextData"),u(h)):(e.consume(h),f)}function p(h){return h===96?(e.consume(h),o++,p):o===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(d.type="codeTextData",f(h))}}class P8{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const o=r||0;this.setCursor(Math.trunc(t));const d=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return n&&Ra(this.left,n),d.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ra(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ra(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Ra(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ra(this.left,r.reverse())}}}function Ra(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function $2(e){const t={};let r=-1,n,o,d,c,l,u,f;const p=new P8(e);for(;++r<p.length;){for(;r in t;)r=t[r];if(n=p.get(r),r&&n[1].type==="chunkFlow"&&p.get(r-1)[1].type==="listItemPrefix"&&(u=n[1]._tokenizer.events,d=0,d<u.length&&u[d][1].type==="lineEndingBlank"&&(d+=2),d<u.length&&u[d][1].type==="content"))for(;++d<u.length&&u[d][1].type!=="content";)u[d][1].type==="chunkText"&&(u[d][1]._isInFirstContentOfListItem=!0,d++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,T8(p,r)),r=t[r],f=!0);else if(n[1]._container){for(d=r,o=void 0;d--;)if(c=p.get(d),c[1].type==="lineEnding"||c[1].type==="lineEndingBlank")c[0]==="enter"&&(o&&(p.get(o)[1].type="lineEndingBlank"),c[1].type="lineEnding",o=d);else if(!(c[1].type==="linePrefix"||c[1].type==="listItemIndent"))break;o&&(n[1].end={...p.get(o)[1].start},l=p.slice(o,r),l.unshift(n),p.splice(o,r-o+1,l))}}return Hn(e,0,Number.POSITIVE_INFINITY,p.slice(0)),!f}function T8(e,t){const r=e.get(t)[1],n=e.get(t)[2];let o=t-1;const d=[];let c=r._tokenizer;c||(c=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(c._contentTypeTextTrailing=!0));const l=c.events,u=[],f={};let p,h,v=-1,_=r,k=0,w=0;const y=[w];for(;_;){for(;e.get(++o)[1]!==_;);d.push(o),_._tokenizer||(p=n.sliceStream(_),_.next||p.push(null),h&&c.defineSkip(_.start),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=!0),c.write(p),_._isInFirstContentOfListItem&&(c._gfmTasklistFirstContentOfListItem=void 0)),h=_,_=_.next}for(_=r;++v<l.length;)l[v][0]==="exit"&&l[v-1][0]==="enter"&&l[v][1].type===l[v-1][1].type&&l[v][1].start.line!==l[v][1].end.line&&(w=v+1,y.push(w),_._tokenizer=void 0,_.previous=void 0,_=_.next);for(c.events=[],_?(_._tokenizer=void 0,_.previous=void 0):y.pop(),v=y.length;v--;){const x=l.slice(y[v],y[v+1]),g=d.pop();u.push([g,g+x.length-1]),e.splice(g,2,x)}for(u.reverse(),v=-1;++v<u.length;)f[k+u[v][0]]=k+u[v][1],k+=u[v][1]-u[v][0]-1;return f}const R8={resolve:M8,tokenize:D8},A8={partial:!0,tokenize:L8};function M8(e){return $2(e),e}function D8(e,t){let r;return n;function n(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?d(l):Ke(l)?e.check(A8,c,d)(l):(e.consume(l),o)}function d(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function c(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,o}}function L8(e,t,r){const n=this;return o;function o(c){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),vt(e,d,"linePrefix")}function d(c){if(c===null||Ke(c))return r(c);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(c):e.interrupt(n.parser.constructs.flow,r,t)(c)}}function V2(e,t,r,n,o,d,c,l,u){const f=u||Number.POSITIVE_INFINITY;let p=0;return h;function h(x){return x===60?(e.enter(n),e.enter(o),e.enter(d),e.consume(x),e.exit(d),v):x===null||x===32||x===41||Ap(x)?r(x):(e.enter(n),e.enter(c),e.enter(l),e.enter("chunkString",{contentType:"string"}),w(x))}function v(x){return x===62?(e.enter(d),e.consume(x),e.exit(d),e.exit(o),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),_(x))}function _(x){return x===62?(e.exit("chunkString"),e.exit(l),v(x)):x===null||x===60||Ke(x)?r(x):(e.consume(x),x===92?k:_)}function k(x){return x===60||x===62||x===92?(e.consume(x),_):_(x)}function w(x){return!p&&(x===null||x===41||Fr(x))?(e.exit("chunkString"),e.exit(l),e.exit(c),e.exit(n),t(x)):p<f&&x===40?(e.consume(x),p++,w):x===41?(e.consume(x),p--,w):x===null||x===32||x===40||Ap(x)?r(x):(e.consume(x),x===92?y:w)}function y(x){return x===40||x===41||x===92?(e.consume(x),w):w(x)}}function U2(e,t,r,n,o,d){const c=this;let l=0,u;return f;function f(_){return e.enter(n),e.enter(o),e.consume(_),e.exit(o),e.enter(d),p}function p(_){return l>999||_===null||_===91||_===93&&!u||_===94&&!l&&"_hiddenFootnoteSupport"in c.parser.constructs?r(_):_===93?(e.exit(d),e.enter(o),e.consume(_),e.exit(o),e.exit(n),t):Ke(_)?(e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),p):(e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||_===91||_===93||Ke(_)||l++>999?(e.exit("chunkString"),p(_)):(e.consume(_),u||(u=!ct(_)),_===92?v:h)}function v(_){return _===91||_===92||_===93?(e.consume(_),l++,h):h(_)}}function W2(e,t,r,n,o,d){let c;return l;function l(v){return v===34||v===39||v===40?(e.enter(n),e.enter(o),e.consume(v),e.exit(o),c=v===40?41:v,u):r(v)}function u(v){return v===c?(e.enter(o),e.consume(v),e.exit(o),e.exit(n),t):(e.enter(d),f(v))}function f(v){return v===c?(e.exit(d),u(c)):v===null?r(v):Ke(v)?(e.enter("lineEnding"),e.consume(v),e.exit("lineEnding"),vt(e,f,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===c||v===null||Ke(v)?(e.exit("chunkString"),f(v)):(e.consume(v),v===92?h:p)}function h(v){return v===c||v===92?(e.consume(v),p):p(v)}}function Va(e,t){let r;return n;function n(o){return Ke(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),r=!0,n):ct(o)?vt(e,n,r?"linePrefix":"lineSuffix")(o):t(o)}}const I8={name:"definition",tokenize:B8},O8={partial:!0,tokenize:F8};function B8(e,t,r){const n=this;let o;return d;function d(_){return e.enter("definition"),c(_)}function c(_){return U2.call(n,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(_)}function l(_){return o=_o(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),_===58?(e.enter("definitionMarker"),e.consume(_),e.exit("definitionMarker"),u):r(_)}function u(_){return Fr(_)?Va(e,f)(_):f(_)}function f(_){return V2(e,p,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(_)}function p(_){return e.attempt(O8,h,h)(_)}function h(_){return ct(_)?vt(e,v,"whitespace")(_):v(_)}function v(_){return _===null||Ke(_)?(e.exit("definition"),n.parser.defined.push(o),t(_)):r(_)}}function F8(e,t,r){return n;function n(l){return Fr(l)?Va(e,o)(l):r(l)}function o(l){return W2(e,d,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function d(l){return ct(l)?vt(e,c,"whitespace")(l):c(l)}function c(l){return l===null||Ke(l)?t(l):r(l)}}const z8={name:"hardBreakEscape",tokenize:H8};function H8(e,t,r){return n;function n(d){return e.enter("hardBreakEscape"),e.consume(d),o}function o(d){return Ke(d)?(e.exit("hardBreakEscape"),t(d)):r(d)}}const $8={name:"headingAtx",resolve:V8,tokenize:U8};function V8(e,t){let r=e.length-2,n=3,o,d;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(o={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},d={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Hn(e,n,r-n+1,[["enter",o,t],["enter",d,t],["exit",d,t],["exit",o,t]])),e}function U8(e,t,r){let n=0;return o;function o(p){return e.enter("atxHeading"),d(p)}function d(p){return e.enter("atxHeadingSequence"),c(p)}function c(p){return p===35&&n++<6?(e.consume(p),c):p===null||Fr(p)?(e.exit("atxHeadingSequence"),l(p)):r(p)}function l(p){return p===35?(e.enter("atxHeadingSequence"),u(p)):p===null||Ke(p)?(e.exit("atxHeading"),t(p)):ct(p)?vt(e,l,"whitespace")(p):(e.enter("atxHeadingText"),f(p))}function u(p){return p===35?(e.consume(p),u):(e.exit("atxHeadingSequence"),l(p))}function f(p){return p===null||p===35||Fr(p)?(e.exit("atxHeadingText"),l(p)):(e.consume(p),f)}}const W8=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],U_=["pre","script","style","textarea"],K8={concrete:!0,name:"htmlFlow",resolveTo:Y8,tokenize:X8},G8={partial:!0,tokenize:Q8},q8={partial:!0,tokenize:J8};function Y8(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function X8(e,t,r){const n=this;let o,d,c,l,u;return f;function f(O){return p(O)}function p(O){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(O),h}function h(O){return O===33?(e.consume(O),v):O===47?(e.consume(O),d=!0,w):O===63?(e.consume(O),o=3,n.interrupt?t:A):Ln(O)?(e.consume(O),c=String.fromCharCode(O),y):r(O)}function v(O){return O===45?(e.consume(O),o=2,_):O===91?(e.consume(O),o=5,l=0,k):Ln(O)?(e.consume(O),o=4,n.interrupt?t:A):r(O)}function _(O){return O===45?(e.consume(O),n.interrupt?t:A):r(O)}function k(O){const re="CDATA[";return O===re.charCodeAt(l++)?(e.consume(O),l===re.length?n.interrupt?t:V:k):r(O)}function w(O){return Ln(O)?(e.consume(O),c=String.fromCharCode(O),y):r(O)}function y(O){if(O===null||O===47||O===62||Fr(O)){const re=O===47,ue=c.toLowerCase();return!re&&!d&&U_.includes(ue)?(o=1,n.interrupt?t(O):V(O)):W8.includes(c.toLowerCase())?(o=6,re?(e.consume(O),x):n.interrupt?t(O):V(O)):(o=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(O):d?g(O):b(O))}return O===45||Yr(O)?(e.consume(O),c+=String.fromCharCode(O),y):r(O)}function x(O){return O===62?(e.consume(O),n.interrupt?t:V):r(O)}function g(O){return ct(O)?(e.consume(O),g):z(O)}function b(O){return O===47?(e.consume(O),z):O===58||O===95||Ln(O)?(e.consume(O),j):ct(O)?(e.consume(O),b):z(O)}function j(O){return O===45||O===46||O===58||O===95||Yr(O)?(e.consume(O),j):N(O)}function N(O){return O===61?(e.consume(O),T):ct(O)?(e.consume(O),N):b(O)}function T(O){return O===null||O===60||O===61||O===62||O===96?r(O):O===34||O===39?(e.consume(O),u=O,P):ct(O)?(e.consume(O),T):E(O)}function P(O){return O===u?(e.consume(O),u=null,L):O===null||Ke(O)?r(O):(e.consume(O),P)}function E(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||Fr(O)?N(O):(e.consume(O),E)}function L(O){return O===47||O===62||ct(O)?b(O):r(O)}function z(O){return O===62?(e.consume(O),F):r(O)}function F(O){return O===null||Ke(O)?V(O):ct(O)?(e.consume(O),F):r(O)}function V(O){return O===45&&o===2?(e.consume(O),q):O===60&&o===1?(e.consume(O),G):O===62&&o===4?(e.consume(O),I):O===63&&o===3?(e.consume(O),A):O===93&&o===5?(e.consume(O),D):Ke(O)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(G8,W,U)(O)):O===null||Ke(O)?(e.exit("htmlFlowData"),U(O)):(e.consume(O),V)}function U(O){return e.check(q8,X,W)(O)}function X(O){return e.enter("lineEnding"),e.consume(O),e.exit("lineEnding"),K}function K(O){return O===null||Ke(O)?U(O):(e.enter("htmlFlowData"),V(O))}function q(O){return O===45?(e.consume(O),A):V(O)}function G(O){return O===47?(e.consume(O),c="",B):V(O)}function B(O){if(O===62){const re=c.toLowerCase();return U_.includes(re)?(e.consume(O),I):V(O)}return Ln(O)&&c.length<8?(e.consume(O),c+=String.fromCharCode(O),B):V(O)}function D(O){return O===93?(e.consume(O),A):V(O)}function A(O){return O===62?(e.consume(O),I):O===45&&o===2?(e.consume(O),A):V(O)}function I(O){return O===null||Ke(O)?(e.exit("htmlFlowData"),W(O)):(e.consume(O),I)}function W(O){return e.exit("htmlFlow"),t(O)}}function J8(e,t,r){const n=this;return o;function o(c){return Ke(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),d):r(c)}function d(c){return n.parser.lazy[n.now().line]?r(c):t(c)}}function Q8(e,t,r){return n;function n(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(ud,t,r)}}const Z8={name:"htmlText",tokenize:e7};function e7(e,t,r){const n=this;let o,d,c;return l;function l(A){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(A),u}function u(A){return A===33?(e.consume(A),f):A===47?(e.consume(A),N):A===63?(e.consume(A),b):Ln(A)?(e.consume(A),E):r(A)}function f(A){return A===45?(e.consume(A),p):A===91?(e.consume(A),d=0,k):Ln(A)?(e.consume(A),g):r(A)}function p(A){return A===45?(e.consume(A),_):r(A)}function h(A){return A===null?r(A):A===45?(e.consume(A),v):Ke(A)?(c=h,G(A)):(e.consume(A),h)}function v(A){return A===45?(e.consume(A),_):h(A)}function _(A){return A===62?q(A):A===45?v(A):h(A)}function k(A){const I="CDATA[";return A===I.charCodeAt(d++)?(e.consume(A),d===I.length?w:k):r(A)}function w(A){return A===null?r(A):A===93?(e.consume(A),y):Ke(A)?(c=w,G(A)):(e.consume(A),w)}function y(A){return A===93?(e.consume(A),x):w(A)}function x(A){return A===62?q(A):A===93?(e.consume(A),x):w(A)}function g(A){return A===null||A===62?q(A):Ke(A)?(c=g,G(A)):(e.consume(A),g)}function b(A){return A===null?r(A):A===63?(e.consume(A),j):Ke(A)?(c=b,G(A)):(e.consume(A),b)}function j(A){return A===62?q(A):b(A)}function N(A){return Ln(A)?(e.consume(A),T):r(A)}function T(A){return A===45||Yr(A)?(e.consume(A),T):P(A)}function P(A){return Ke(A)?(c=P,G(A)):ct(A)?(e.consume(A),P):q(A)}function E(A){return A===45||Yr(A)?(e.consume(A),E):A===47||A===62||Fr(A)?L(A):r(A)}function L(A){return A===47?(e.consume(A),q):A===58||A===95||Ln(A)?(e.consume(A),z):Ke(A)?(c=L,G(A)):ct(A)?(e.consume(A),L):q(A)}function z(A){return A===45||A===46||A===58||A===95||Yr(A)?(e.consume(A),z):F(A)}function F(A){return A===61?(e.consume(A),V):Ke(A)?(c=F,G(A)):ct(A)?(e.consume(A),F):L(A)}function V(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(e.consume(A),o=A,U):Ke(A)?(c=V,G(A)):ct(A)?(e.consume(A),V):(e.consume(A),X)}function U(A){return A===o?(e.consume(A),o=void 0,K):A===null?r(A):Ke(A)?(c=U,G(A)):(e.consume(A),U)}function X(A){return A===null||A===34||A===39||A===60||A===61||A===96?r(A):A===47||A===62||Fr(A)?L(A):(e.consume(A),X)}function K(A){return A===47||A===62||Fr(A)?L(A):r(A)}function q(A){return A===62?(e.consume(A),e.exit("htmlTextData"),e.exit("htmlText"),t):r(A)}function G(A){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),B}function B(A){return ct(A)?vt(e,D,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):D(A)}function D(A){return e.enter("htmlTextData"),c(A)}}const Pg={name:"labelEnd",resolveAll:s7,resolveTo:i7,tokenize:o7},t7={tokenize:a7},r7={tokenize:l7},n7={tokenize:c7};function s7(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const o=n.type==="labelImage"?4:2;n.type="data",t+=o}}return e.length!==r.length&&Hn(e,0,e.length,r),e}function i7(e,t){let r=e.length,n=0,o,d,c,l;for(;r--;)if(o=e[r][1],d){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[r][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(c){if(e[r][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(d=r,o.type!=="labelLink")){n=2;break}}else o.type==="labelEnd"&&(c=r);const u={type:e[d][1].type==="labelLink"?"link":"image",start:{...e[d][1].start},end:{...e[e.length-1][1].end}},f={type:"label",start:{...e[d][1].start},end:{...e[c][1].end}},p={type:"labelText",start:{...e[d+n+2][1].end},end:{...e[c-2][1].start}};return l=[["enter",u,t],["enter",f,t]],l=un(l,e.slice(d+1,d+n+3)),l=un(l,[["enter",p,t]]),l=un(l,Ng(t.parser.constructs.insideSpan.null,e.slice(d+n+4,c-3),t)),l=un(l,[["exit",p,t],e[c-2],e[c-1],["exit",f,t]]),l=un(l,e.slice(c+1)),l=un(l,[["exit",u,t]]),Hn(e,d,e.length,l),e}function o7(e,t,r){const n=this;let o=n.events.length,d,c;for(;o--;)if((n.events[o][1].type==="labelImage"||n.events[o][1].type==="labelLink")&&!n.events[o][1]._balanced){d=n.events[o][1];break}return l;function l(v){return d?d._inactive?h(v):(c=n.parser.defined.includes(_o(n.sliceSerialize({start:d.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(v),e.exit("labelMarker"),e.exit("labelEnd"),u):r(v)}function u(v){return v===40?e.attempt(t7,p,c?p:h)(v):v===91?e.attempt(r7,p,c?f:h)(v):c?p(v):h(v)}function f(v){return e.attempt(n7,p,h)(v)}function p(v){return t(v)}function h(v){return d._balanced=!0,r(v)}}function a7(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),o}function o(h){return Fr(h)?Va(e,d)(h):d(h)}function d(h){return h===41?p(h):V2(e,c,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function c(h){return Fr(h)?Va(e,u)(h):p(h)}function l(h){return r(h)}function u(h){return h===34||h===39||h===40?W2(e,f,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):p(h)}function f(h){return Fr(h)?Va(e,p)(h):p(h)}function p(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function l7(e,t,r){const n=this;return o;function o(l){return U2.call(n,e,d,c,"reference","referenceMarker","referenceString")(l)}function d(l){return n.parser.defined.includes(_o(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function c(l){return r(l)}}function c7(e,t,r){return n;function n(d){return e.enter("reference"),e.enter("referenceMarker"),e.consume(d),e.exit("referenceMarker"),o}function o(d){return d===93?(e.enter("referenceMarker"),e.consume(d),e.exit("referenceMarker"),e.exit("reference"),t):r(d)}}const u7={name:"labelStartImage",resolveAll:Pg.resolveAll,tokenize:d7};function d7(e,t,r){const n=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),d}function d(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),c):r(l)}function c(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const h7={name:"labelStartLink",resolveAll:Pg.resolveAll,tokenize:f7};function f7(e,t,r){const n=this;return o;function o(c){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelLink"),d}function d(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(c):t(c)}}const Mf={name:"lineEnding",tokenize:p7};function p7(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),vt(e,t,"linePrefix")}}const tu={name:"thematicBreak",tokenize:m7};function m7(e,t,r){let n=0,o;return d;function d(f){return e.enter("thematicBreak"),c(f)}function c(f){return o=f,l(f)}function l(f){return f===o?(e.enter("thematicBreakSequence"),u(f)):n>=3&&(f===null||Ke(f))?(e.exit("thematicBreak"),t(f)):r(f)}function u(f){return f===o?(e.consume(f),n++,u):(e.exit("thematicBreakSequence"),ct(f)?vt(e,l,"whitespace")(f):l(f))}}const Dr={continuation:{tokenize:x7},exit:b7,name:"list",tokenize:y7},g7={partial:!0,tokenize:w7},v7={partial:!0,tokenize:_7};function y7(e,t,r){const n=this,o=n.events[n.events.length-1];let d=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,c=0;return l;function l(_){const k=n.containerState.type||(_===42||_===43||_===45?"listUnordered":"listOrdered");if(k==="listUnordered"?!n.containerState.marker||_===n.containerState.marker:Mp(_)){if(n.containerState.type||(n.containerState.type=k,e.enter(k,{_container:!0})),k==="listUnordered")return e.enter("listItemPrefix"),_===42||_===45?e.check(tu,r,f)(_):f(_);if(!n.interrupt||_===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(_)}return r(_)}function u(_){return Mp(_)&&++c<10?(e.consume(_),u):(!n.interrupt||c<2)&&(n.containerState.marker?_===n.containerState.marker:_===41||_===46)?(e.exit("listItemValue"),f(_)):r(_)}function f(_){return e.enter("listItemMarker"),e.consume(_),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||_,e.check(ud,n.interrupt?r:p,e.attempt(g7,v,h))}function p(_){return n.containerState.initialBlankLine=!0,d++,v(_)}function h(_){return ct(_)?(e.enter("listItemPrefixWhitespace"),e.consume(_),e.exit("listItemPrefixWhitespace"),v):r(_)}function v(_){return n.containerState.size=d+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(_)}}function x7(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(ud,o,d);function o(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,vt(e,t,"listItemIndent",n.containerState.size+1)(l)}function d(l){return n.containerState.furtherBlankLines||!ct(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,c(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(v7,t,c)(l))}function c(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,vt(e,e.attempt(Dr,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function _7(e,t,r){const n=this;return vt(e,o,"listItemIndent",n.containerState.size+1);function o(d){const c=n.events[n.events.length-1];return c&&c[1].type==="listItemIndent"&&c[2].sliceSerialize(c[1],!0).length===n.containerState.size?t(d):r(d)}}function b7(e){e.exit(this.containerState.type)}function w7(e,t,r){const n=this;return vt(e,o,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(d){const c=n.events[n.events.length-1];return!ct(d)&&c&&c[1].type==="listItemPrefixWhitespace"?t(d):r(d)}}const W_={name:"setextUnderline",resolveTo:S7,tokenize:C7};function S7(e,t){let r=e.length,n,o,d;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(o=r)}else e[r][1].type==="content"&&e.splice(r,1),!d&&e[r][1].type==="definition"&&(d=r);const c={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",d?(e.splice(o,0,["enter",c,t]),e.splice(d+1,0,["exit",e[n][1],t]),e[n][1].end={...e[d][1].end}):e[n][1]=c,e.push(["exit",c,t]),e}function C7(e,t,r){const n=this;let o;return d;function d(f){let p=n.events.length,h;for(;p--;)if(n.events[p][1].type!=="lineEnding"&&n.events[p][1].type!=="linePrefix"&&n.events[p][1].type!=="content"){h=n.events[p][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),o=f,c(f)):r(f)}function c(f){return e.enter("setextHeadingLineSequence"),l(f)}function l(f){return f===o?(e.consume(f),l):(e.exit("setextHeadingLineSequence"),ct(f)?vt(e,u,"lineSuffix")(f):u(f))}function u(f){return f===null||Ke(f)?(e.exit("setextHeadingLine"),t(f)):r(f)}}const k7={tokenize:j7};function j7(e){const t=this,r=e.attempt(ud,n,e.attempt(this.parser.constructs.flowInitial,o,vt(e,e.attempt(this.parser.constructs.flow,o,e.attempt(R8,o)),"linePrefix")));return r;function n(d){if(d===null){e.consume(d);return}return e.enter("lineEndingBlank"),e.consume(d),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function o(d){if(d===null){e.consume(d);return}return e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const E7={resolveAll:G2()},N7=K2("string"),P7=K2("text");function K2(e){return{resolveAll:G2(e==="text"?T7:void 0),tokenize:t};function t(r){const n=this,o=this.parser.constructs[e],d=r.attempt(o,c,l);return c;function c(p){return f(p)?d(p):l(p)}function l(p){if(p===null){r.consume(p);return}return r.enter("data"),r.consume(p),u}function u(p){return f(p)?(r.exit("data"),d(p)):(r.consume(p),u)}function f(p){if(p===null)return!0;const h=o[p];let v=-1;if(h)for(;++v<h.length;){const _=h[v];if(!_.previous||_.previous.call(n,n.previous))return!0}return!1}}}function G2(e){return t;function t(r,n){let o=-1,d;for(;++o<=r.length;)d===void 0?r[o]&&r[o][1].type==="data"&&(d=o,o++):(!r[o]||r[o][1].type!=="data")&&(o!==d+2&&(r[d][1].end=r[o-1][1].end,r.splice(d+2,o-d-2),o=d+2),d=void 0);return e?e(r,n):r}}function T7(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],o=t.sliceStream(n);let d=o.length,c=-1,l=0,u;for(;d--;){const f=o[d];if(typeof f=="string"){for(c=f.length;f.charCodeAt(c-1)===32;)l++,c--;if(c)break;c=-1}else if(f===-2)u=!0,l++;else if(f!==-1){d++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const f={type:r===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:d?c:n.start._bufferIndex+c,_index:n.start._index+d,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...f.start},n.start.offset===n.end.offset?Object.assign(n,f):(e.splice(r,0,["enter",f,t],["exit",f,t]),r+=2)}r++}return e}const R7={42:Dr,43:Dr,45:Dr,48:Dr,49:Dr,50:Dr,51:Dr,52:Dr,53:Dr,54:Dr,55:Dr,56:Dr,57:Dr,62:F2},A7={91:I8},M7={[-2]:Af,[-1]:Af,32:Af},D7={35:$8,42:tu,45:[W_,tu],60:K8,61:W_,95:tu,96:V_,126:V_},L7={38:H2,92:z2},I7={[-5]:Mf,[-4]:Mf,[-3]:Mf,33:u7,38:H2,42:Dp,60:[h8,Z8],91:h7,92:[z8,z2],93:Pg,95:Dp,96:k8},O7={null:[Dp,E7]},B7={null:[42,95]},F7={null:[]},z7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:B7,contentInitial:A7,disable:F7,document:R7,flow:D7,flowInitial:M7,insideSpan:O7,string:L7,text:I7},Symbol.toStringTag,{value:"Module"}));function H7(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const o={},d=[];let c=[],l=[];const u={attempt:P(N),check:P(T),consume:g,enter:b,exit:j,interrupt:P(T,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:k,parser:e,previous:null,sliceSerialize:v,sliceStream:_,write:h};let p=t.tokenize.call(f,u);return t.resolveAll&&d.push(t),f;function h(F){return c=un(c,F),y(),c[c.length-1]!==null?[]:(E(t,0),f.events=Ng(d,f.events,f),f.events)}function v(F,V){return V7(_(F),V)}function _(F){return $7(c,F)}function k(){const{_bufferIndex:F,_index:V,line:U,column:X,offset:K}=n;return{_bufferIndex:F,_index:V,line:U,column:X,offset:K}}function w(F){o[F.line]=F.column,z()}function y(){let F;for(;n._index<c.length;){const V=c[n._index];if(typeof V=="string")for(F=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===F&&n._bufferIndex<V.length;)x(V.charCodeAt(n._bufferIndex));else x(V)}}function x(F){p=p(F)}function g(F){Ke(F)?(n.line++,n.column=1,n.offset+=F===-3?2:1,z()):F!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===c[n._index].length&&(n._bufferIndex=-1,n._index++)),f.previous=F}function b(F,V){const U=V||{};return U.type=F,U.start=k(),f.events.push(["enter",U,f]),l.push(U),U}function j(F){const V=l.pop();return V.end=k(),f.events.push(["exit",V,f]),V}function N(F,V){E(F,V.from)}function T(F,V){V.restore()}function P(F,V){return U;function U(X,K,q){let G,B,D,A;return Array.isArray(X)?W(X):"tokenize"in X?W([X]):I(X);function I(he){return Y;function Y(H){const se=H!==null&&he[H],ee=H!==null&&he.null,Q=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(ee)?ee:ee?[ee]:[]];return W(Q)(H)}}function W(he){return G=he,B=0,he.length===0?q:O(he[B])}function O(he){return Y;function Y(H){return A=L(),D=he,he.partial||(f.currentConstruct=he),he.name&&f.parser.constructs.disable.null.includes(he.name)?ue():he.tokenize.call(V?Object.assign(Object.create(f),V):f,u,re,ue)(H)}}function re(he){return F(D,A),K}function ue(he){return A.restore(),++B<G.length?O(G[B]):q}}}function E(F,V){F.resolveAll&&!d.includes(F)&&d.push(F),F.resolve&&Hn(f.events,V,f.events.length-V,F.resolve(f.events.slice(V),f)),F.resolveTo&&(f.events=F.resolveTo(f.events,f))}function L(){const F=k(),V=f.previous,U=f.currentConstruct,X=f.events.length,K=Array.from(l);return{from:X,restore:q};function q(){n=F,f.previous=V,f.currentConstruct=U,f.events.length=X,l=K,z()}}function z(){n.line in o&&n.column<2&&(n.column=o[n.line],n.offset+=o[n.line]-1)}}function $7(e,t){const r=t.start._index,n=t.start._bufferIndex,o=t.end._index,d=t.end._bufferIndex;let c;if(r===o)c=[e[r].slice(n,d)];else{if(c=e.slice(r,o),n>-1){const l=c[0];typeof l=="string"?c[0]=l.slice(n):c.shift()}d>0&&c.push(e[o].slice(0,d))}return c}function V7(e,t){let r=-1;const n=[];let o;for(;++r<e.length;){const d=e[r];let c;if(typeof d=="string")c=d;else switch(d){case-5:{c="\r";break}case-4:{c=`
`;break}case-3:{c=`\r
`;break}case-2:{c=t?" ":"	";break}case-1:{if(!t&&o)continue;c=" ";break}default:c=String.fromCharCode(d)}o=d===-2,n.push(c)}return n.join("")}function U7(e){const n={constructs:JF([z7,...(e||{}).extensions||[]]),content:o(i8),defined:[],document:o(a8),flow:o(k7),lazy:{},string:o(N7),text:o(P7)};return n;function o(d){return c;function c(l){return H7(n,d,l)}}}function W7(e){for(;!$2(e););return e}const K_=/[\0\t\n\r]/g;function K7(){let e=1,t="",r=!0,n;return o;function o(d,c,l){const u=[];let f,p,h,v,_;for(d=t+(typeof d=="string"?d.toString():new TextDecoder(c||void 0).decode(d)),h=0,t="",r&&(d.charCodeAt(0)===65279&&h++,r=void 0);h<d.length;){if(K_.lastIndex=h,f=K_.exec(d),v=f&&f.index!==void 0?f.index:d.length,_=d.charCodeAt(v),!f){t=d.slice(h);break}if(_===10&&h===v&&n)u.push(-3),n=void 0;else switch(n&&(u.push(-5),n=void 0),h<v&&(u.push(d.slice(h,v)),e+=v-h),_){case 0:{u.push(65533),e++;break}case 9:{for(p=Math.ceil(e/4)*4,u.push(-2);e++<p;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:n=!0,e=1}h=v+1}return l&&(n&&u.push(-5),t&&u.push(t),u.push(null)),u}}const G7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function q7(e){return e.replace(G7,Y7)}function Y7(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const o=r.charCodeAt(1),d=o===120||o===88;return B2(r.slice(d?2:1),d?16:10)}return Eg(r)||e}const q2={}.hasOwnProperty;function X7(e,t,r){return typeof t!="string"&&(r=t,t=void 0),J7(r)(W7(U7(r).document().write(K7()(e,t,!0))))}function J7(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:d(Re),autolinkProtocol:L,autolinkEmail:L,atxHeading:d(ze),blockQuote:d(ee),characterEscape:L,characterReference:L,codeFenced:d(Q),codeFencedFenceInfo:c,codeFencedFenceMeta:c,codeIndented:d(Q,c),codeText:d(ne,c),codeTextData:L,data:L,codeFlowValue:L,definition:d(ye),definitionDestinationString:c,definitionLabelString:c,definitionTitleString:c,emphasis:d(Oe),hardBreakEscape:d(Xe),hardBreakTrailing:d(Xe),htmlFlow:d(Te,c),htmlFlowData:L,htmlText:d(Te,c),htmlTextData:L,image:d(Me),label:c,link:d(Re),listItem:d(Ze),listItemValue:v,listOrdered:d(Qe,h),listUnordered:d(Qe),paragraph:d(nt),reference:O,referenceString:c,resourceDestinationString:c,resourceTitleString:c,setextHeading:d(ze),strong:d(st),thematicBreak:d(Mt)},exit:{atxHeading:u(),atxHeadingSequence:N,autolink:u(),autolinkEmail:se,autolinkProtocol:H,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:ue,characterReferenceMarkerNumeric:ue,characterReferenceValue:he,characterReference:Y,codeFenced:u(y),codeFencedFence:w,codeFencedFenceInfo:_,codeFencedFenceMeta:k,codeFlowValue:z,codeIndented:u(x),codeText:u(K),codeTextData:z,data:z,definition:u(),definitionDestinationString:j,definitionLabelString:g,definitionTitleString:b,emphasis:u(),hardBreakEscape:u(V),hardBreakTrailing:u(V),htmlFlow:u(U),htmlFlowData:z,htmlText:u(X),htmlTextData:z,image:u(G),label:D,labelText:B,lineEnding:F,link:u(q),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:re,resourceDestinationString:A,resourceTitleString:I,resource:W,setextHeading:u(E),setextHeadingLineSequence:P,setextHeadingText:T,strong:u(),thematicBreak:u()}};Y2(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(de){let ae={type:"root",children:[]};const fe={stack:[ae],tokenStack:[],config:t,enter:l,exit:f,buffer:c,resume:p,data:r},ve=[];let Pe=-1;for(;++Pe<de.length;)if(de[Pe][1].type==="listOrdered"||de[Pe][1].type==="listUnordered")if(de[Pe][0]==="enter")ve.push(Pe);else{const at=ve.pop();Pe=o(de,at,Pe)}for(Pe=-1;++Pe<de.length;){const at=t[de[Pe][0]];q2.call(at,de[Pe][1].type)&&at[de[Pe][1].type].call(Object.assign({sliceSerialize:de[Pe][2].sliceSerialize},fe),de[Pe][1])}if(fe.tokenStack.length>0){const at=fe.tokenStack[fe.tokenStack.length-1];(at[1]||G_).call(fe,void 0,at[0])}for(ae.position={start:Bs(de.length>0?de[0][1].start:{line:1,column:1,offset:0}),end:Bs(de.length>0?de[de.length-2][1].end:{line:1,column:1,offset:0})},Pe=-1;++Pe<t.transforms.length;)ae=t.transforms[Pe](ae)||ae;return ae}function o(de,ae,fe){let ve=ae-1,Pe=-1,at=!1,qe,zt,tr,jr;for(;++ve<=fe;){const wt=de[ve];switch(wt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{wt[0]==="enter"?Pe++:Pe--,jr=void 0;break}case"lineEndingBlank":{wt[0]==="enter"&&(qe&&!jr&&!Pe&&!tr&&(tr=ve),jr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:jr=void 0}if(!Pe&&wt[0]==="enter"&&wt[1].type==="listItemPrefix"||Pe===-1&&wt[0]==="exit"&&(wt[1].type==="listUnordered"||wt[1].type==="listOrdered")){if(qe){let Er=ve;for(zt=void 0;Er--;){const rr=de[Er];if(rr[1].type==="lineEnding"||rr[1].type==="lineEndingBlank"){if(rr[0]==="exit")continue;zt&&(de[zt][1].type="lineEndingBlank",at=!0),rr[1].type="lineEnding",zt=Er}else if(!(rr[1].type==="linePrefix"||rr[1].type==="blockQuotePrefix"||rr[1].type==="blockQuotePrefixWhitespace"||rr[1].type==="blockQuoteMarker"||rr[1].type==="listItemIndent"))break}tr&&(!zt||tr<zt)&&(qe._spread=!0),qe.end=Object.assign({},zt?de[zt][1].start:wt[1].end),de.splice(zt||ve,0,["exit",qe,wt[2]]),ve++,fe++}if(wt[1].type==="listItemPrefix"){const Er={type:"listItem",_spread:!1,start:Object.assign({},wt[1].start),end:void 0};qe=Er,de.splice(ve,0,["enter",Er,wt[2]]),ve++,fe++,tr=void 0,jr=!0}}}return de[ae][1]._spread=at,fe}function d(de,ae){return fe;function fe(ve){l.call(this,de(ve),ve),ae&&ae.call(this,ve)}}function c(){this.stack.push({type:"fragment",children:[]})}function l(de,ae,fe){this.stack[this.stack.length-1].children.push(de),this.stack.push(de),this.tokenStack.push([ae,fe||void 0]),de.position={start:Bs(ae.start),end:void 0}}function u(de){return ae;function ae(fe){de&&de.call(this,fe),f.call(this,fe)}}function f(de,ae){const fe=this.stack.pop(),ve=this.tokenStack.pop();if(ve)ve[0].type!==de.type&&(ae?ae.call(this,de,ve[0]):(ve[1]||G_).call(this,de,ve[0]));else throw new Error("Cannot close `"+de.type+"` ("+$a({start:de.start,end:de.end})+"): its not open");fe.position.end=Bs(de.end)}function p(){return YF(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function v(de){if(this.data.expectingFirstListItemValue){const ae=this.stack[this.stack.length-2];ae.start=Number.parseInt(this.sliceSerialize(de),10),this.data.expectingFirstListItemValue=void 0}}function _(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.lang=de}function k(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.meta=de}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.value=de.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.value=de.replace(/(\r?\n|\r)$/g,"")}function g(de){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.label=ae,fe.identifier=_o(this.sliceSerialize(de)).toLowerCase()}function b(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.title=de}function j(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.url=de}function N(de){const ae=this.stack[this.stack.length-1];if(!ae.depth){const fe=this.sliceSerialize(de).length;ae.depth=fe}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function P(de){const ae=this.stack[this.stack.length-1];ae.depth=this.sliceSerialize(de).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function L(de){const fe=this.stack[this.stack.length-1].children;let ve=fe[fe.length-1];(!ve||ve.type!=="text")&&(ve=br(),ve.position={start:Bs(de.start),end:void 0},fe.push(ve)),this.stack.push(ve)}function z(de){const ae=this.stack.pop();ae.value+=this.sliceSerialize(de),ae.position.end=Bs(de.end)}function F(de){const ae=this.stack[this.stack.length-1];if(this.data.atHardBreak){const fe=ae.children[ae.children.length-1];fe.position.end=Bs(de.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ae.type)&&(L.call(this,de),z.call(this,de))}function V(){this.data.atHardBreak=!0}function U(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.value=de}function X(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.value=de}function K(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.value=de}function q(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=ae,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function G(){const de=this.stack[this.stack.length-1];if(this.data.inReference){const ae=this.data.referenceType||"shortcut";de.type+="Reference",de.referenceType=ae,delete de.url,delete de.title}else delete de.identifier,delete de.label;this.data.referenceType=void 0}function B(de){const ae=this.sliceSerialize(de),fe=this.stack[this.stack.length-2];fe.label=q7(ae),fe.identifier=_o(ae).toLowerCase()}function D(){const de=this.stack[this.stack.length-1],ae=this.resume(),fe=this.stack[this.stack.length-1];if(this.data.inReference=!0,fe.type==="link"){const ve=de.children;fe.children=ve}else fe.alt=ae}function A(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.url=de}function I(){const de=this.resume(),ae=this.stack[this.stack.length-1];ae.title=de}function W(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function re(de){const ae=this.resume(),fe=this.stack[this.stack.length-1];fe.label=ae,fe.identifier=_o(this.sliceSerialize(de)).toLowerCase(),this.data.referenceType="full"}function ue(de){this.data.characterReferenceType=de.type}function he(de){const ae=this.sliceSerialize(de),fe=this.data.characterReferenceType;let ve;fe?(ve=B2(ae,fe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ve=Eg(ae);const Pe=this.stack[this.stack.length-1];Pe.value+=ve}function Y(de){const ae=this.stack.pop();ae.position.end=Bs(de.end)}function H(de){z.call(this,de);const ae=this.stack[this.stack.length-1];ae.url=this.sliceSerialize(de)}function se(de){z.call(this,de);const ae=this.stack[this.stack.length-1];ae.url="mailto:"+this.sliceSerialize(de)}function ee(){return{type:"blockquote",children:[]}}function Q(){return{type:"code",lang:null,meta:null,value:""}}function ne(){return{type:"inlineCode",value:""}}function ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Oe(){return{type:"emphasis",children:[]}}function ze(){return{type:"heading",depth:0,children:[]}}function Xe(){return{type:"break"}}function Te(){return{type:"html",value:""}}function Me(){return{type:"image",title:null,url:"",alt:null}}function Re(){return{type:"link",title:null,url:"",children:[]}}function Qe(de){return{type:"list",ordered:de.type==="listOrdered",start:null,spread:de._spread,children:[]}}function Ze(de){return{type:"listItem",spread:de._spread,checked:null,children:[]}}function nt(){return{type:"paragraph",children:[]}}function st(){return{type:"strong",children:[]}}function br(){return{type:"text",value:""}}function Mt(){return{type:"thematicBreak"}}}function Bs(e){return{line:e.line,column:e.column,offset:e.offset}}function Y2(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?Y2(e,n):Q7(e,n)}}function Q7(e,t){let r;for(r in t)if(q2.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function G_(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+$a({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+$a({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+$a({start:t.start,end:t.end})+") is still open")}function Z7(e){const t=this;t.parser=r;function r(n){return X7(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function e9(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function t9(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function r9(e,t){const r=t.value?t.value+`
`:"",n={},o=t.lang?t.lang.split(/\s+/):[];o.length>0&&(n.className=["language-"+o[0]]);let d={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(d.data={meta:t.meta}),e.patch(t,d),d=e.applyData(t,d),d={type:"element",tagName:"pre",properties:{},children:[d]},e.patch(t,d),d}function n9(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function s9(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function i9(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),o=Vo(n.toLowerCase()),d=e.footnoteOrder.indexOf(n);let c,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),c=e.footnoteOrder.length):c=d+1,l+=1,e.footnoteCounts.set(n,l);const u={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+o,id:r+"fnref-"+o+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(c)}]};e.patch(t,u);const f={type:"element",tagName:"sup",properties:{},children:[u]};return e.patch(t,f),e.applyData(t,f)}function o9(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function a9(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function X2(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const o=e.all(t),d=o[0];d&&d.type==="text"?d.value="["+d.value:o.unshift({type:"text",value:"["});const c=o[o.length-1];return c&&c.type==="text"?c.value+=n:o.push({type:"text",value:n}),o}function l9(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return X2(e,t);const o={src:Vo(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(o.title=n.title);const d={type:"element",tagName:"img",properties:o,children:[]};return e.patch(t,d),e.applyData(t,d)}function c9(e,t){const r={src:Vo(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function u9(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function d9(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return X2(e,t);const o={href:Vo(n.url||"")};n.title!==null&&n.title!==void 0&&(o.title=n.title);const d={type:"element",tagName:"a",properties:o,children:e.all(t)};return e.patch(t,d),e.applyData(t,d)}function h9(e,t){const r={href:Vo(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f9(e,t,r){const n=e.all(t),o=r?p9(r):J2(t),d={},c=[];if(typeof t.checked=="boolean"){const p=n[0];let h;p&&p.type==="element"&&p.tagName==="p"?h=p:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),d.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const p=n[l];(o||l!==0||p.type!=="element"||p.tagName!=="p")&&c.push({type:"text",value:`
`}),p.type==="element"&&p.tagName==="p"&&!o?c.push(...p.children):c.push(p)}const u=n[n.length-1];u&&(o||u.type!=="element"||u.tagName!=="p")&&c.push({type:"text",value:`
`});const f={type:"element",tagName:"li",properties:d,children:c};return e.patch(t,f),e.applyData(t,f)}function p9(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=J2(r[n])}return t}function J2(e){const t=e.spread;return t??e.children.length>1}function m9(e,t){const r={},n=e.all(t);let o=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++o<n.length;){const c=n[o];if(c.type==="element"&&c.tagName==="li"&&c.properties&&Array.isArray(c.properties.className)&&c.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const d={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,d),e.applyData(t,d)}function g9(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v9(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function y9(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function x9(e,t){const r=e.all(t),n=r.shift(),o=[];if(n){const c={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],c),o.push(c)}if(r.length>0){const c={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=Sg(t.children[1]),u=R2(t.children[t.children.length-1]);l&&u&&(c.position={start:l,end:u}),o.push(c)}const d={type:"element",tagName:"table",properties:{},children:e.wrap(o,!0)};return e.patch(t,d),e.applyData(t,d)}function _9(e,t,r){const n=r?r.children:void 0,d=(n?n.indexOf(t):1)===0?"th":"td",c=r&&r.type==="table"?r.align:void 0,l=c?c.length:t.children.length;let u=-1;const f=[];for(;++u<l;){const h=t.children[u],v={},_=c?c[u]:void 0;_&&(v.align=_);let k={type:"element",tagName:d,properties:v,children:[]};h&&(k.children=e.all(h),e.patch(h,k),k=e.applyData(h,k)),f.push(k)}const p={type:"element",tagName:"tr",properties:{},children:e.wrap(f,!0)};return e.patch(t,p),e.applyData(t,p)}function b9(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const q_=9,Y_=32;function w9(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),o=0;const d=[];for(;n;)d.push(X_(t.slice(o,n.index),o>0,!0),n[0]),o=n.index+n[0].length,n=r.exec(t);return d.push(X_(t.slice(o),o>0,!1)),d.join("")}function X_(e,t,r){let n=0,o=e.length;if(t){let d=e.codePointAt(n);for(;d===q_||d===Y_;)n++,d=e.codePointAt(n)}if(r){let d=e.codePointAt(o-1);for(;d===q_||d===Y_;)o--,d=e.codePointAt(o-1)}return o>n?e.slice(n,o):""}function S9(e,t){const r={type:"text",value:w9(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function C9(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const k9={blockquote:e9,break:t9,code:r9,delete:n9,emphasis:s9,footnoteReference:i9,heading:o9,html:a9,imageReference:l9,image:c9,inlineCode:u9,linkReference:d9,link:h9,listItem:f9,list:m9,paragraph:g9,root:v9,strong:y9,table:x9,tableCell:b9,tableRow:_9,text:S9,thematicBreak:C9,toml:Uc,yaml:Uc,definition:Uc,footnoteDefinition:Uc};function Uc(){}const Q2=-1,dd=0,Ua=1,Eu=2,Tg=3,Rg=4,Ag=5,Mg=6,Z2=7,ej=8,J_=typeof self=="object"?self:globalThis,j9=(e,t)=>{const r=(o,d)=>(e.set(d,o),o),n=o=>{if(e.has(o))return e.get(o);const[d,c]=t[o];switch(d){case dd:case Q2:return r(c,o);case Ua:{const l=r([],o);for(const u of c)l.push(n(u));return l}case Eu:{const l=r({},o);for(const[u,f]of c)l[n(u)]=n(f);return l}case Tg:return r(new Date(c),o);case Rg:{const{source:l,flags:u}=c;return r(new RegExp(l,u),o)}case Ag:{const l=r(new Map,o);for(const[u,f]of c)l.set(n(u),n(f));return l}case Mg:{const l=r(new Set,o);for(const u of c)l.add(n(u));return l}case Z2:{const{name:l,message:u}=c;return r(new J_[l](u),o)}case ej:return r(BigInt(c),o);case"BigInt":return r(Object(BigInt(c)),o);case"ArrayBuffer":return r(new Uint8Array(c).buffer,c);case"DataView":{const{buffer:l}=new Uint8Array(c);return r(new DataView(l),c)}}return r(new J_[d](c),o)};return n},Q_=e=>j9(new Map,e)(0),uo="",{toString:E9}={},{keys:N9}=Object,Aa=e=>{const t=typeof e;if(t!=="object"||!e)return[dd,t];const r=E9.call(e).slice(8,-1);switch(r){case"Array":return[Ua,uo];case"Object":return[Eu,uo];case"Date":return[Tg,uo];case"RegExp":return[Rg,uo];case"Map":return[Ag,uo];case"Set":return[Mg,uo];case"DataView":return[Ua,r]}return r.includes("Array")?[Ua,r]:r.includes("Error")?[Z2,r]:[Eu,r]},Wc=([e,t])=>e===dd&&(t==="function"||t==="symbol"),P9=(e,t,r,n)=>{const o=(c,l)=>{const u=n.push(c)-1;return r.set(l,u),u},d=c=>{if(r.has(c))return r.get(c);let[l,u]=Aa(c);switch(l){case dd:{let p=c;switch(u){case"bigint":l=ej,p=c.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+u);p=null;break;case"undefined":return o([Q2],c)}return o([l,p],c)}case Ua:{if(u){let v=c;return u==="DataView"?v=new Uint8Array(c.buffer):u==="ArrayBuffer"&&(v=new Uint8Array(c)),o([u,[...v]],c)}const p=[],h=o([l,p],c);for(const v of c)p.push(d(v));return h}case Eu:{if(u)switch(u){case"BigInt":return o([u,c.toString()],c);case"Boolean":case"Number":case"String":return o([u,c.valueOf()],c)}if(t&&"toJSON"in c)return d(c.toJSON());const p=[],h=o([l,p],c);for(const v of N9(c))(e||!Wc(Aa(c[v])))&&p.push([d(v),d(c[v])]);return h}case Tg:return o([l,c.toISOString()],c);case Rg:{const{source:p,flags:h}=c;return o([l,{source:p,flags:h}],c)}case Ag:{const p=[],h=o([l,p],c);for(const[v,_]of c)(e||!(Wc(Aa(v))||Wc(Aa(_))))&&p.push([d(v),d(_)]);return h}case Mg:{const p=[],h=o([l,p],c);for(const v of c)(e||!Wc(Aa(v)))&&p.push(d(v));return h}}const{message:f}=c;return o([l,{name:u,message:f}],c)};return d},Z_=(e,{json:t,lossy:r}={})=>{const n=[];return P9(!(t||r),!!t,new Map,n)(e),n},Nu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Q_(Z_(e,t)):structuredClone(e):(e,t)=>Q_(Z_(e,t));function T9(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function R9(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function A9(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||T9,n=e.options.footnoteBackLabel||R9,o=e.options.footnoteLabel||"Footnotes",d=e.options.footnoteLabelTagName||"h2",c=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let u=-1;for(;++u<e.footnoteOrder.length;){const f=e.footnoteById.get(e.footnoteOrder[u]);if(!f)continue;const p=e.all(f),h=String(f.identifier).toUpperCase(),v=Vo(h.toLowerCase());let _=0;const k=[],w=e.footnoteCounts.get(h);for(;w!==void 0&&++_<=w;){k.length>0&&k.push({type:"text",value:" "});let g=typeof r=="string"?r:r(u,_);typeof g=="string"&&(g={type:"text",value:g}),k.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+v+(_>1?"-"+_:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(u,_),className:["data-footnote-backref"]},children:Array.isArray(g)?g:[g]})}const y=p[p.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const g=y.children[y.children.length-1];g&&g.type==="text"?g.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...k)}else p.push(...k);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+v},children:e.wrap(p,!0)};e.patch(f,x),l.push(x)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:d,properties:{...Nu(c),id:"footnote-label"},children:[{type:"text",value:o}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const tj=(function(e){if(e==null)return I9;if(typeof e=="function")return hd(e);if(typeof e=="object")return Array.isArray(e)?M9(e):D9(e);if(typeof e=="string")return L9(e);throw new Error("Expected function, string, or object as test")});function M9(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=tj(e[r]);return hd(n);function n(...o){let d=-1;for(;++d<t.length;)if(t[d].apply(this,o))return!0;return!1}}function D9(e){const t=e;return hd(r);function r(n){const o=n;let d;for(d in e)if(o[d]!==t[d])return!1;return!0}}function L9(e){return hd(t);function t(r){return r&&r.type===e}}function hd(e){return t;function t(r,n,o){return!!(O9(r)&&e.call(this,r,typeof n=="number"?n:void 0,o||void 0))}}function I9(){return!0}function O9(e){return e!==null&&typeof e=="object"&&"type"in e}const rj=[],B9=!0,eb=!1,F9="skip";function z9(e,t,r,n){let o;typeof t=="function"&&typeof r!="function"?(n=r,r=t):o=t;const d=tj(o),c=n?-1:1;l(e,void 0,[])();function l(u,f,p){const h=u&&typeof u=="object"?u:{};if(typeof h.type=="string"){const _=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(v,"name",{value:"node ("+(u.type+(_?"<"+_+">":""))+")"})}return v;function v(){let _=rj,k,w,y;if((!t||d(u,f,p[p.length-1]||void 0))&&(_=H9(r(u,p)),_[0]===eb))return _;if("children"in u&&u.children){const x=u;if(x.children&&_[0]!==F9)for(w=(n?x.children.length:-1)+c,y=p.concat(x);w>-1&&w<x.children.length;){const g=x.children[w];if(k=l(g,w,y)(),k[0]===eb)return k;w=typeof k[1]=="number"?k[1]:w+c}}return _}}}function H9(e){return Array.isArray(e)?e:typeof e=="number"?[B9,e]:e==null?rj:[e]}function nj(e,t,r,n){let o,d,c;typeof t=="function"&&typeof r!="function"?(d=void 0,c=t,o=r):(d=t,c=r,o=n),z9(e,d,l,o);function l(u,f){const p=f[f.length-1],h=p?p.children.indexOf(u):void 0;return c(u,h,p)}}const Lp={}.hasOwnProperty,$9={};function V9(e,t){const r=t||$9,n=new Map,o=new Map,d=new Map,c={...k9,...r.handlers},l={all:f,applyData:W9,definitionById:n,footnoteById:o,footnoteCounts:d,footnoteOrder:[],handlers:c,one:u,options:r,patch:U9,wrap:G9};return nj(e,function(p){if(p.type==="definition"||p.type==="footnoteDefinition"){const h=p.type==="definition"?n:o,v=String(p.identifier).toUpperCase();h.has(v)||h.set(v,p)}}),l;function u(p,h){const v=p.type,_=l.handlers[v];if(Lp.call(l.handlers,v)&&_)return _(l,p,h);if(l.options.passThrough&&l.options.passThrough.includes(v)){if("children"in p){const{children:w,...y}=p,x=Nu(y);return x.children=l.all(p),x}return Nu(p)}return(l.options.unknownHandler||K9)(l,p,h)}function f(p){const h=[];if("children"in p){const v=p.children;let _=-1;for(;++_<v.length;){const k=l.one(v[_],p);if(k){if(_&&v[_-1].type==="break"&&(!Array.isArray(k)&&k.type==="text"&&(k.value=tb(k.value)),!Array.isArray(k)&&k.type==="element")){const w=k.children[0];w&&w.type==="text"&&(w.value=tb(w.value))}Array.isArray(k)?h.push(...k):h.push(k)}}}return h}}function U9(e,t){e.position&&(t.position=EF(e))}function W9(e,t){let r=t;if(e&&e.data){const n=e.data.hName,o=e.data.hChildren,d=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const c="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:c}}r.type==="element"&&d&&Object.assign(r.properties,Nu(d)),"children"in r&&r.children&&o!==null&&o!==void 0&&(r.children=o)}return r}function K9(e,t){const r=t.data||{},n="value"in t&&!(Lp.call(r,"hProperties")||Lp.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function G9(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function tb(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function rb(e,t){const r=V9(e,t),n=r.one(e,void 0),o=A9(r),d=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return o&&d.children.push({type:"text",value:`
`},o),d}function q9(e,t){return e&&"run"in e?async function(r,n){const o=rb(r,{file:n,...t});await e.run(o,n)}:function(r,n){return rb(r,{file:n,...e||t})}}function nb(e){if(e)throw e}var Df,sb;function Y9(){if(sb)return Df;sb=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,o=function(f){return typeof Array.isArray=="function"?Array.isArray(f):t.call(f)==="[object Array]"},d=function(f){if(!f||t.call(f)!=="[object Object]")return!1;var p=e.call(f,"constructor"),h=f.constructor&&f.constructor.prototype&&e.call(f.constructor.prototype,"isPrototypeOf");if(f.constructor&&!p&&!h)return!1;var v;for(v in f);return typeof v>"u"||e.call(f,v)},c=function(f,p){r&&p.name==="__proto__"?r(f,p.name,{enumerable:!0,configurable:!0,value:p.newValue,writable:!0}):f[p.name]=p.newValue},l=function(f,p){if(p==="__proto__")if(e.call(f,p)){if(n)return n(f,p).value}else return;return f[p]};return Df=function u(){var f,p,h,v,_,k,w=arguments[0],y=1,x=arguments.length,g=!1;for(typeof w=="boolean"&&(g=w,w=arguments[1]||{},y=2),(w==null||typeof w!="object"&&typeof w!="function")&&(w={});y<x;++y)if(f=arguments[y],f!=null)for(p in f)h=l(w,p),v=l(f,p),w!==v&&(g&&v&&(d(v)||(_=o(v)))?(_?(_=!1,k=h&&o(h)?h:[]):k=h&&d(h)?h:{},c(w,{name:p,newValue:u(g,k,v)})):typeof v<"u"&&c(w,{name:p,newValue:v}));return w},Df}var X9=Y9();const Lf=il(X9);function Ip(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function J9(){const e=[],t={run:r,use:n};return t;function r(...o){let d=-1;const c=o.pop();if(typeof c!="function")throw new TypeError("Expected function as last argument, not "+c);l(null,...o);function l(u,...f){const p=e[++d];let h=-1;if(u){c(u);return}for(;++h<o.length;)(f[h]===null||f[h]===void 0)&&(f[h]=o[h]);o=f,p?Q9(p,l)(...f):c(null,...f)}}function n(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}function Q9(e,t){let r;return n;function n(...c){const l=e.length>c.length;let u;l&&c.push(o);try{u=e.apply(this,c)}catch(f){const p=f;if(l&&r)throw p;return o(p)}l||(u&&u.then&&typeof u.then=="function"?u.then(d,o):u instanceof Error?o(u):d(u))}function o(c,...l){r||(r=!0,t(c,...l))}function d(c){o(null,c)}}const Mn={basename:Z9,dirname:ez,extname:tz,join:rz,sep:"/"};function Z9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Cl(e);let r=0,n=-1,o=e.length,d;if(t===void 0||t.length===0||t.length>e.length){for(;o--;)if(e.codePointAt(o)===47){if(d){r=o+1;break}}else n<0&&(d=!0,n=o+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let c=-1,l=t.length-1;for(;o--;)if(e.codePointAt(o)===47){if(d){r=o+1;break}}else c<0&&(d=!0,c=o+1),l>-1&&(e.codePointAt(o)===t.codePointAt(l--)?l<0&&(n=o):(l=-1,n=c));return r===n?n=c:n<0&&(n=e.length),e.slice(r,n)}function ez(e){if(Cl(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function tz(e){Cl(e);let t=e.length,r=-1,n=0,o=-1,d=0,c;for(;t--;){const l=e.codePointAt(t);if(l===47){if(c){n=t+1;break}continue}r<0&&(c=!0,r=t+1),l===46?o<0?o=t:d!==1&&(d=1):o>-1&&(d=-1)}return o<0||r<0||d===0||d===1&&o===r-1&&o===n+1?"":e.slice(o,r)}function rz(...e){let t=-1,r;for(;++t<e.length;)Cl(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":nz(r)}function nz(e){Cl(e);const t=e.codePointAt(0)===47;let r=sz(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function sz(e,t){let r="",n=0,o=-1,d=0,c=-1,l,u;for(;++c<=e.length;){if(c<e.length)l=e.codePointAt(c);else{if(l===47)break;l=47}if(l===47){if(!(o===c-1||d===1))if(o!==c-1&&d===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(u=r.lastIndexOf("/"),u!==r.length-1){u<0?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),o=c,d=0;continue}}else if(r.length>0){r="",n=0,o=c,d=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(o+1,c):r=e.slice(o+1,c),n=c-o-1;o=c,d=0}else l===46&&d>-1?d++:d=-1}return r}function Cl(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const iz={cwd:oz};function oz(){return"/"}function Op(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function az(e){if(typeof e=="string")e=new URL(e);else if(!Op(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return lz(e)}function lz(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const o=new TypeError("File URL path must not include encoded / characters");throw o.code="ERR_INVALID_FILE_URL_PATH",o}}return decodeURIComponent(t)}const If=["history","path","basename","stem","extname","dirname"];class sj{constructor(t){let r;t?Op(t)?r={path:t}:typeof t=="string"||cz(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":iz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<If.length;){const d=If[n];d in r&&r[d]!==void 0&&r[d]!==null&&(this[d]=d==="history"?[...r[d]]:r[d])}let o;for(o in r)If.includes(o)||(this[o]=r[o])}get basename(){return typeof this.path=="string"?Mn.basename(this.path):void 0}set basename(t){Bf(t,"basename"),Of(t,"basename"),this.path=Mn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Mn.dirname(this.path):void 0}set dirname(t){ib(this.basename,"dirname"),this.path=Mn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Mn.extname(this.path):void 0}set extname(t){if(Of(t,"extname"),ib(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Mn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Op(t)&&(t=az(t)),Bf(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Mn.basename(this.path,this.extname):void 0}set stem(t){Bf(t,"stem"),Of(t,"stem"),this.path=Mn.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const o=this.message(t,r,n);throw o.fatal=!0,o}info(t,r,n){const o=this.message(t,r,n);return o.fatal=void 0,o}message(t,r,n){const o=new _r(t,r,n);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Of(e,t){if(e&&e.includes(Mn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Mn.sep+"`")}function Bf(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function ib(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function cz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const uz=(function(e){const n=this.constructor.prototype,o=n[e],d=function(){return o.apply(d,arguments)};return Object.setPrototypeOf(d,n),d}),dz={}.hasOwnProperty;class Dg extends uz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=J9()}copy(){const t=new Dg;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(Lf(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(Hf("data",this.frozen),this.namespace[t]=r,this):dz.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Hf("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const o=r.call(t,...n);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=Kc(t),n=this.parser||this.Parser;return Ff("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),Ff("process",this.parser||this.Parser),zf("process",this.compiler||this.Compiler),r?o(void 0,r):new Promise(o);function o(d,c){const l=Kc(t),u=n.parse(l);n.run(u,l,function(p,h,v){if(p||!h||!v)return f(p);const _=h,k=n.stringify(_,v);pz(k)?v.value=k:v.result=k,f(p,v)});function f(p,h){p||!h?c(p):d?d(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),Ff("processSync",this.parser||this.Parser),zf("processSync",this.compiler||this.Compiler),this.process(t,o),ab("processSync","process",r),n;function o(d,c){r=!0,nb(d),n=c}}run(t,r,n){ob(t),this.freeze();const o=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?d(void 0,n):new Promise(d);function d(c,l){const u=Kc(r);o.run(t,u,f);function f(p,h,v){const _=h||t;p?l(p):c?c(_):n(void 0,_,v)}}}runSync(t,r){let n=!1,o;return this.run(t,r,d),ab("runSync","run",n),o;function d(c,l){nb(c),o=l,n=!0}}stringify(t,r){this.freeze();const n=Kc(r),o=this.compiler||this.Compiler;return zf("stringify",o),ob(t),o(t,n)}use(t,...r){const n=this.attachers,o=this.namespace;if(Hf("use",this.frozen),t!=null)if(typeof t=="function")u(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):c(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function d(f){if(typeof f=="function")u(f,[]);else if(typeof f=="object")if(Array.isArray(f)){const[p,...h]=f;u(p,h)}else c(f);else throw new TypeError("Expected usable value, not `"+f+"`")}function c(f){if(!("plugins"in f)&&!("settings"in f))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(f.plugins),f.settings&&(o.settings=Lf(!0,o.settings,f.settings))}function l(f){let p=-1;if(f!=null)if(Array.isArray(f))for(;++p<f.length;){const h=f[p];d(h)}else throw new TypeError("Expected a list of plugins, not `"+f+"`")}function u(f,p){let h=-1,v=-1;for(;++h<n.length;)if(n[h][0]===f){v=h;break}if(v===-1)n.push([f,...p]);else if(p.length>0){let[_,...k]=p;const w=n[v][1];Ip(w)&&Ip(_)&&(_=Lf(!0,w,_)),n[v]=[f,_,...k]}}}}const hz=new Dg().freeze();function Ff(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zf(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Hf(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function ob(e){if(!Ip(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ab(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Kc(e){return fz(e)?e:new sj(e)}function fz(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function pz(e){return typeof e=="string"||mz(e)}function mz(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const gz="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",lb=[],cb={allowDangerousHtml:!0},vz=/^(https?|ircs?|mailto|xmpp)$/i,yz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function xz(e){const t=_z(e),r=bz(e);return wz(t.runSync(t.parse(r),r),e)}function _z(e){const t=e.rehypePlugins||lb,r=e.remarkPlugins||lb,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...cb}:cb;return hz().use(Z7).use(r).use(q9,n).use(t)}function bz(e){const t=e.children||"",r=new sj;return typeof t=="string"&&(r.value=t),r}function wz(e,t){const r=t.allowedElements,n=t.allowElement,o=t.components,d=t.disallowedElements,c=t.skipHtml,l=t.unwrapDisallowed,u=t.urlTransform||Sz;for(const p of yz)Object.hasOwn(t,p.from)&&(""+p.from+(p.to?"use `"+p.to+"` instead":"remove it")+gz+p.id,void 0);return nj(e,f),AF(e,{Fragment:i.Fragment,components:o,ignoreInvalidStyle:!0,jsx:i.jsx,jsxs:i.jsxs,passKeys:!0,passNode:!0});function f(p,h,v){if(p.type==="raw"&&v&&typeof h=="number")return c?v.children.splice(h,1):v.children[h]={type:"text",value:p.value},h;if(p.type==="element"){let _;for(_ in Rf)if(Object.hasOwn(Rf,_)&&Object.hasOwn(p.properties,_)){const k=p.properties[_],w=Rf[_];(w===null||w.includes(p.tagName))&&(p.properties[_]=u(String(k||""),_,p))}}if(p.type==="element"){let _=r?!r.includes(p.tagName):d?d.includes(p.tagName):!1;if(!_&&n&&typeof h=="number"&&(_=!n(p,h,v)),_&&v&&typeof h=="number")return l&&p.children?v.children.splice(h,1,...p.children):v.children.splice(h,1),h}}}function Sz(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),o=e.indexOf("/");return t===-1||o!==-1&&t>o||r!==-1&&t>r||n!==-1&&t>n||vz.test(e.slice(0,t))?e:""}function Cz(){var K,q;const[e,t]=C.useState(null),[r,n]=C.useState(""),[o,d]=C.useState({open:!1,field:null,type:"directory"}),[c,l]=C.useState(!0),[u,f]=C.useState(!1),[p,h]=C.useState(null),[v,_]=C.useState(!1),[k,w]=C.useState(null),[y,x]=C.useState([]),[g,b]=C.useState({open:!1,content:"",loading:!1});C.useEffect(()=>{z(),j(),N()},[]);const j=async()=>{try{const G=await Ce.checkVersion();h(G)}catch(G){console.error("Failed to load version info:",G)}},N=async()=>{try{const G=await Ce.getProject();w(G.dir),T(G.dir)}catch(G){console.error("Failed to load project info:",G)}},T=async G=>{if(G)try{const B=await Ce.getHiddenSubprojects(G);x(B.hidden||[])}catch(B){console.error("Failed to load hidden sub-projects:",B)}},P=async G=>{if(k)try{const B=await Ce.unhideSubproject(k,G);B.success?(ie.success("Sub-project unhidden"),T(k)):ie.error(B.error||"Failed to unhide")}catch(B){ie.error("Failed to unhide: "+B.message)}},E=async()=>{var G;if(!(p!=null&&p.updateAvailable)){ie.error("No update available");return}_(!0);try{const B=await Ce.performUpdate({updateMethod:p.updateMethod,sourcePath:p.sourcePath});B.success?(B.updateMethod==="npm"?ie.success(B.message||"Updated via npm! Restart the server to apply."):ie.success(`Updated! Files: ${((G=B.updated)==null?void 0:G.join(", "))||"all"}. Restart the server to apply.`),j()):ie.error("Update failed: "+B.error)}catch(B){ie.error("Update failed: "+B.message)}finally{_(!1)}},L=async()=>{b(G=>({...G,open:!0,loading:!0}));try{const G=await Ce.getChangelog();G.success?b(B=>({...B,content:G.content,loading:!1})):(ie.error("Failed to load changelog"),b(B=>({...B,open:!1,loading:!1})))}catch(G){ie.error("Failed to load changelog: "+G.message),b(B=>({...B,open:!1,loading:!1}))}},z=async()=>{try{l(!0);const G=await Ce.getConfig();t(G.config),n(G.path)}catch{ie.error("Failed to load settings")}finally{l(!1)}},F=async()=>{f(!0);try{await Ce.saveConfig(e),ie.success("Preferences saved!")}catch{ie.error("Failed to save preferences")}finally{f(!1)}},V=(G,B)=>{t(D=>({...D,[G]:B}))},U=(G,B,D)=>{t(A=>({...A,[G]:{...A[G],[B]:D}}))},X=async G=>{const B=(e==null?void 0:e.enabledTools)||["claude"];let D;if(B.includes(G)){if(B.length<=1){ie.error("At least one tool must be enabled");return}D=B.filter(I=>I!==G)}else D=[...B,G];const A={...e,enabledTools:D};t(A);try{await Ce.saveConfig(A),ie.success(`${G==="claude"?"Claude Code":G==="gemini"?"Gemini CLI":"Antigravity"} ${D.includes(G)?"enabled":"disabled"}`)}catch{t(e),ie.error("Failed to save preference")}};return c?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(gt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:i.jsx(l1,{className:"w-5 h-5 text-muted-foreground"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"claude-config Preferences"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Tool settings for this configuration manager"})]})]}),i.jsxs("div",{className:"bg-card rounded-xl border border-border p-6 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Stored in: ",i.jsx("code",{className:"bg-muted px-2 py-0.5 rounded",children:r})]})}),i.jsxs(pe,{onClick:F,disabled:u,children:[u?i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Save"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(ar,{className:"w-4 h-4"}),"Directories"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"MCP Tools Directories"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Folders containing local MCP tool repositories for discovery"}),i.jsxs("div",{className:"space-y-2",children:[((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).map((G,B)=>i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{value:G||"",onChange:D=>{const A=[...(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])];A[B]=D.target.value,V("toolsDirs",A),e!=null&&e.toolsDir&&t(I=>{const{toolsDir:W,...O}=I;return{...O,toolsDirs:A}})},placeholder:"~/mcp-tools",className:"font-mono flex-1"}),i.jsx(pe,{variant:"outline",size:"icon",onClick:()=>d({open:!0,field:"toolsDirs",type:"directory",index:B}),title:"Browse...",children:i.jsx(Ks,{className:"w-4 h-4"})}),i.jsx(pe,{variant:"outline",size:"icon",onClick:()=>{const A=((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[])).filter((I,W)=>W!==B);t(I=>{const{toolsDir:W,...O}=I;return{...O,toolsDirs:A.length>0?A:void 0}})},title:"Remove",className:"text-destructive hover:text-destructive",children:i.jsx(km,{className:"w-4 h-4"})})]},B)),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>d({open:!0,field:"toolsDirs",type:"directory",index:-1}),className:"mt-2",children:[i.jsx(t1,{className:"w-4 h-4 mr-2"}),"Add Tools Folder"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Global Registry Path"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Path to the global MCP registry file"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{value:(e==null?void 0:e.registryPath)||"",onChange:G=>V("registryPath",G.target.value),placeholder:"~/.claude/registry.json",className:"font-mono flex-1"}),i.jsx(pe,{variant:"outline",size:"icon",onClick:()=>d({open:!0,field:"registryPath",type:"file"}),title:"Browse...",children:i.jsx(Ks,{className:"w-4 h-4"})})]})]})]})]}),i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(Do,{className:"w-4 h-4"}),"User Interface"]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Default Port"}),i.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Port for the web UI server"}),i.jsx(ot,{type:"number",value:((K=e==null?void 0:e.ui)==null?void 0:K.port)||3333,onChange:G=>U("ui","port",parseInt(G.target.value)||3333),placeholder:"3333",className:"w-32"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Open Browser on Start"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Automatically open browser when starting the UI"})]}),i.jsx(dt,{checked:((q=e==null?void 0:e.ui)==null?void 0:q.openBrowser)??!0,onCheckedChange:G=>U("ui","openBrowser",G)})]})]})]}),i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(M4,{className:"w-4 h-4"}),"AI Assistant"]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Choose which AI assistant to use for features like MCP creation and tool import."}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${((e==null?void 0:e.aiAssistant)||"claude")==="claude"?"border-orange-500 bg-orange-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>V("aiAssistant","claude"),children:[i.jsx("input",{type:"radio",name:"aiAssistant",value:"claude",checked:((e==null?void 0:e.aiAssistant)||"claude")==="claude",onChange:()=>V("aiAssistant","claude"),className:"sr-only"}),i.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:i.jsx(gr,{className:"w-4 h-4 text-orange-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Command: ",i.jsx("code",{className:"text-xs",children:"claude"})]})]}),((e==null?void 0:e.aiAssistant)||"claude")==="claude"&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-500"})]}),i.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg cursor-pointer border-2 transition-colors ${(e==null?void 0:e.aiAssistant)==="gemini"?"border-blue-500 bg-blue-500/5":"border-transparent bg-muted/50 hover:bg-muted"}`,onClick:()=>V("aiAssistant","gemini"),children:[i.jsx("input",{type:"radio",name:"aiAssistant",value:"gemini",checked:(e==null?void 0:e.aiAssistant)==="gemini",onChange:()=>V("aiAssistant","gemini"),className:"sr-only"}),i.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:i.jsx(At,{className:"w-4 h-4 text-blue-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("span",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI coding assistant  Command: ",i.jsx("code",{className:"text-xs",children:"gemini"})]})]}),(e==null?void 0:e.aiAssistant)==="gemini"&&i.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500"})]})]})]}),i.jsxs("div",{className:"border-b border-border pb-6",children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(Q4,{className:"w-4 h-4"}),"Enabled AI Tools"]}),i.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Select which AI coding tools to generate MCP configurations for. The Apply button will update all enabled tools."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-md bg-orange-500/10 flex items-center justify-center",children:i.jsx(gr,{className:"w-4 h-4 text-orange-500"})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Claude Code"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Anthropic's AI coding assistant  Output: ",i.jsx("code",{className:"text-xs",children:".mcp.json"})]})]})]}),i.jsx(dt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("claude"),onCheckedChange:()=>X("claude")})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-md bg-blue-500/10 flex items-center justify-center",children:i.jsx(gr,{className:"w-4 h-4 text-blue-500"})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Gemini CLI"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's terminal AI coding assistant  Output: ",i.jsx("code",{className:"text-xs",children:"~/.gemini/settings.json"})]})]})]}),i.jsx(dt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("gemini"),onCheckedChange:()=>X("gemini")})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-md bg-purple-500/10 flex items-center justify-center",children:i.jsx(gr,{className:"w-4 h-4 text-purple-500"})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-foreground",children:"Antigravity"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Google's AI IDE  Output: ",i.jsx("code",{className:"text-xs",children:"~/.gemini/antigravity/mcp_config.json"})]})]})]}),i.jsx(dt,{checked:((e==null?void 0:e.enabledTools)||["claude"]).includes("antigravity"),onCheckedChange:()=>X("antigravity")})]}),i.jsxs("p",{className:"text-xs text-muted-foreground italic",children:["Note: Antigravity does not support environment variable interpolation (",i.jsx("code",{children:"${VAR}"}),"). Variables are resolved to actual values when generating its config."]})]})]}),y.length>0&&i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(Qw,{className:"w-4 h-4"}),"Hidden Sub-projects"]}),i.jsx("div",{className:"space-y-2",children:y.map(G=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ar,{className:"w-4 h-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-foreground",children:G.name}),i.jsx("p",{className:"text-xs text-muted-foreground font-mono",children:G.dir.replace(k+"/","")})]})]}),i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>P(G.dir),className:"h-7",children:[i.jsx(Zw,{className:"w-3 h-3 mr-1"}),"Unhide"]})]},G.dir))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-medium text-foreground mb-4 flex items-center gap-2",children:[i.jsx(Or,{className:"w-4 h-4"}),"About"]}),i.jsxs("div",{className:"bg-muted rounded-lg p-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Installed Version"}),i.jsx("span",{className:"font-medium font-mono text-foreground",children:(p==null?void 0:p.installedVersion)||"Loading..."})]}),(p==null?void 0:p.updateAvailable)&&i.jsx("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Update Available!"}),i.jsxs("p",{className:"text-xs text-green-600/80 dark:text-green-400/80",children:["Version ",p.latestVersion," via ",p.updateMethod==="npm"?"npm":p.sourcePath]})]}),i.jsxs(pe,{size:"sm",onClick:E,disabled:v,className:"bg-green-600 hover:bg-green-700 text-white",children:[v?i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Lu,{className:"w-4 h-4 mr-2"}),"Update Now"]})]})}),!(p!=null&&p.updateAvailable)&&(p==null?void 0:p.latestVersion)&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Latest Version"}),i.jsxs("span",{className:"font-mono text-green-600 dark:text-green-400",children:[p.latestVersion," "]})]}),(p==null?void 0:p.sourcePath)&&!(p!=null&&p.updateAvailable)&&i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Dev Source"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"text-xs text-muted-foreground",children:p.sourcePath}),i.jsx(pe,{size:"sm",variant:"outline",onClick:E,disabled:v,className:"h-7",children:v?i.jsx(gt,{className:"w-3 h-3 animate-spin"}):i.jsx(yr,{className:"w-3 h-3"})})]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Install Location"}),i.jsx("code",{className:"text-xs text-muted-foreground",children:(p==null?void 0:p.installDir)||"~/.claude-config"})]}),i.jsxs("div",{className:"border-t border-border pt-3 mt-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Documentation"}),i.jsx("a",{href:"https://github.com/regression-io/claude-config",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"GitHub"})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"What's New"}),i.jsxs("button",{onClick:L,className:"text-primary hover:underline flex items-center gap-1",children:[i.jsx(Fx,{className:"w-3 h-3"}),"Changelog"]})]}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["After updating, restart the server with ",i.jsx("code",{className:"bg-muted-foreground/10 px-1 rounded",children:"claude-config ui"})]})]})]})]})]})]}),i.jsx(_g,{open:o.open,onOpenChange:G=>d(B=>({...B,open:G})),onSelect:G=>{if(o.field==="toolsDirs"){const B=(e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]);if(o.index===-1)t(D=>{const{toolsDir:A,...I}=D;return{...I,toolsDirs:[...B,G]}});else{const D=[...B];D[o.index]=G,t(A=>{const{toolsDir:I,...W}=A;return{...W,toolsDirs:D}})}}else o.field&&V(o.field,G)},type:o.type,initialPath:o.field==="toolsDirs"&&o.index>=0?((e==null?void 0:e.toolsDirs)||(e!=null&&e.toolsDir?[e.toolsDir]:[]))[o.index]||"~":(e==null?void 0:e[o.field])||"~",title:o.type==="directory"?"Select Directory":"Select File"}),i.jsx(Zt,{open:g.open,onOpenChange:G=>b(B=>({...B,open:G})),children:i.jsxs(Wt,{className:"max-w-2xl max-h-[80vh] flex flex-col overflow-hidden",children:[i.jsx(Kt,{className:"flex-shrink-0",children:i.jsxs(Gt,{className:"flex items-center gap-2",children:[i.jsx(Fx,{className:"w-5 h-5"}),"Changelog"]})}),g.loading?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(gt,{className:"w-6 h-6 animate-spin text-primary"})}):i.jsx(ds,{className:"flex-1 min-h-0",children:i.jsx("div",{className:"prose prose-sm dark:prose-invert max-w-none pr-4",children:i.jsx(xz,{components:{h1:({children:G})=>i.jsx("h1",{className:"text-xl font-bold text-foreground mb-4",children:G}),h2:({children:G})=>i.jsx("h2",{className:"text-lg font-semibold text-foreground mt-6 mb-3 pb-2 border-b border-border",children:G}),h3:({children:G})=>i.jsx("h3",{className:"text-base font-medium text-foreground mt-4 mb-2",children:G}),p:({children:G})=>i.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:G}),ul:({children:G})=>i.jsx("ul",{className:"text-sm text-muted-foreground list-disc pl-5 mb-3 space-y-1",children:G}),li:({children:G})=>i.jsx("li",{className:"text-sm",children:G}),code:({children:G})=>i.jsx("code",{className:"bg-muted px-1 py-0.5 rounded text-xs font-mono",children:G}),hr:()=>i.jsx("hr",{className:"my-4 border-border"}),strong:({children:G})=>i.jsx("strong",{className:"font-semibold text-foreground",children:G})},children:g.content})})})]})})]})}function kz(){const[e,t]=C.useState(null),[r,n]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const c=await Ce.getClaudeSettings();t(c.settings)}catch(c){console.error("Failed to load Claude settings:",c)}finally{n(!1)}},d=async c=>{try{await Ce.saveClaudeSettings(c),t(c),ie.success("Claude Code settings saved!")}catch(l){ie.error("Failed to save settings: "+l.message)}};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(gt,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:i.jsx(Yk,{settings:e,onSave:d,loading:r,settingsPath:"~/.claude/settings.json"})})})}function jz(){const[e,t]=C.useState(null),[r,n]=C.useState(!0);C.useEffect(()=>{o()},[]);const o=async()=>{try{n(!0);const c=await Ce.getGeminiSettings();t(c.settings)}catch(c){console.error("Failed to load Gemini settings:",c)}finally{n(!1)}},d=async c=>{try{await Ce.saveGeminiSettings(c),t(c),ie.success("Gemini CLI settings saved!")}catch(l){ie.error("Failed to save settings: "+l.message)}};return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(gt,{className:"w-8 h-8 animate-spin text-blue-600"})}):i.jsx("div",{className:"space-y-6",children:i.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-6 shadow-sm",children:i.jsx(Xk,{settings:e,onSave:d,loading:r,settingsPath:"~/.gemini/settings.json"})})})}var $f={exports:{}},ub;function Ez(){return ub||(ub=1,(function(e,t){(function(r,n){e.exports=n()})(globalThis,(()=>(()=>{var r={4567:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,N){var T,P=arguments.length,E=P<3?b:N===null?N=Object.getOwnPropertyDescriptor(b,j):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,b,j,N);else for(var L=g.length-1;L>=0;L--)(T=g[L])&&(E=(P<3?T(E):P>3?T(b,j,E):T(b,j))||E);return P>3&&E&&Object.defineProperty(b,j,E),E},p=this&&this.__param||function(g,b){return function(j,N){b(j,N,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.AccessibilityManager=void 0;const h=u(9042),v=u(9924),_=u(844),k=u(4725),w=u(2585),y=u(3656);let x=l.AccessibilityManager=class extends _.Disposable{constructor(g,b,j,N){super(),this._terminal=g,this._coreBrowserService=j,this._renderService=N,this._rowColumns=new WeakMap,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=this._coreBrowserService.mainDocument.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=this._coreBrowserService.mainDocument.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let T=0;T<this._terminal.rows;T++)this._rowElements[T]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[T]);if(this._topBoundaryFocusListener=T=>this._handleBoundaryFocus(T,0),this._bottomBoundaryFocusListener=T=>this._handleBoundaryFocus(T,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=this._coreBrowserService.mainDocument.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new v.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize((T=>this._handleResize(T.rows)))),this.register(this._terminal.onRender((T=>this._refreshRows(T.start,T.end)))),this.register(this._terminal.onScroll((()=>this._refreshRows()))),this.register(this._terminal.onA11yChar((T=>this._handleChar(T)))),this.register(this._terminal.onLineFeed((()=>this._handleChar(`
`)))),this.register(this._terminal.onA11yTab((T=>this._handleTab(T)))),this.register(this._terminal.onKey((T=>this._handleKey(T.key)))),this.register(this._terminal.onBlur((()=>this._clearLiveRegion()))),this.register(this._renderService.onDimensionsChange((()=>this._refreshRowsDimensions()))),this.register((0,y.addDisposableDomListener)(document,"selectionchange",(()=>this._handleSelectionChange()))),this.register(this._coreBrowserService.onDprChange((()=>this._refreshRowsDimensions()))),this._refreshRows(),this.register((0,_.toDisposable)((()=>{this._accessibilityContainer.remove(),this._rowElements.length=0})))}_handleTab(g){for(let b=0;b<g;b++)this._handleChar(" ")}_handleChar(g){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==g&&(this._charsToAnnounce+=g):this._charsToAnnounce+=g,g===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=h.tooMuchOutput)))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0}_handleKey(g){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(g)||this._charsToConsume.push(g)}_refreshRows(g,b){this._liveRegionDebouncer.refresh(g,b,this._terminal.rows)}_renderRows(g,b){const j=this._terminal.buffer,N=j.lines.length.toString();for(let T=g;T<=b;T++){const P=j.lines.get(j.ydisp+T),E=[],L=(P==null?void 0:P.translateToString(!0,void 0,void 0,E))||"",z=(j.ydisp+T+1).toString(),F=this._rowElements[T];F&&(L.length===0?(F.innerText="",this._rowColumns.set(F,[0,1])):(F.textContent=L,this._rowColumns.set(F,E)),F.setAttribute("aria-posinset",z),F.setAttribute("aria-setsize",N))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(g,b){const j=g.target,N=this._rowElements[b===0?1:this._rowElements.length-2];if(j.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||g.relatedTarget!==N)return;let T,P;if(b===0?(T=j,P=this._rowElements.pop(),this._rowContainer.removeChild(P)):(T=this._rowElements.shift(),P=j,this._rowContainer.removeChild(T)),T.removeEventListener("focus",this._topBoundaryFocusListener),P.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const E=this._createAccessibilityTreeNode();this._rowElements.unshift(E),this._rowContainer.insertAdjacentElement("afterbegin",E)}else{const E=this._createAccessibilityTreeNode();this._rowElements.push(E),this._rowContainer.appendChild(E)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),g.preventDefault(),g.stopImmediatePropagation()}_handleSelectionChange(){var L;if(this._rowElements.length===0)return;const g=document.getSelection();if(!g)return;if(g.isCollapsed)return void(this._rowContainer.contains(g.anchorNode)&&this._terminal.clearSelection());if(!g.anchorNode||!g.focusNode)return void console.error("anchorNode and/or focusNode are null");let b={node:g.anchorNode,offset:g.anchorOffset},j={node:g.focusNode,offset:g.focusOffset};if((b.node.compareDocumentPosition(j.node)&Node.DOCUMENT_POSITION_PRECEDING||b.node===j.node&&b.offset>j.offset)&&([b,j]=[j,b]),b.node.compareDocumentPosition(this._rowElements[0])&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_FOLLOWING)&&(b={node:this._rowElements[0].childNodes[0],offset:0}),!this._rowContainer.contains(b.node))return;const N=this._rowElements.slice(-1)[0];if(j.node.compareDocumentPosition(N)&(Node.DOCUMENT_POSITION_CONTAINED_BY|Node.DOCUMENT_POSITION_PRECEDING)&&(j={node:N,offset:((L=N.textContent)==null?void 0:L.length)??0}),!this._rowContainer.contains(j.node))return;const T=({node:z,offset:F})=>{const V=z instanceof Text?z.parentNode:z;let U=parseInt(V==null?void 0:V.getAttribute("aria-posinset"),10)-1;if(isNaN(U))return console.warn("row is invalid. Race condition?"),null;const X=this._rowColumns.get(V);if(!X)return console.warn("columns is null. Race condition?"),null;let K=F<X.length?X[F]:X.slice(-1)[0]+1;return K>=this._terminal.cols&&(++U,K=0),{row:U,column:K}},P=T(b),E=T(j);if(P&&E){if(P.row>E.row||P.row===E.row&&P.column>=E.column)throw new Error("invalid range");this._terminal.select(P.column,P.row,(E.row-P.row)*this._terminal.cols-P.column+E.column)}}_handleResize(g){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>g;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const g=this._coreBrowserService.mainDocument.createElement("div");return g.setAttribute("role","listitem"),g.tabIndex=-1,this._refreshRowDimensions(g),g}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let g=0;g<this._terminal.rows;g++)this._refreshRowDimensions(this._rowElements[g])}}_refreshRowDimensions(g){g.style.height=`${this._renderService.dimensions.css.cell.height}px`}};l.AccessibilityManager=x=f([p(1,w.IInstantiationService),p(2,k.ICoreBrowserService),p(3,k.IRenderService)],x)},3614:(c,l)=>{function u(v){return v.replace(/\r?\n/g,"\r")}function f(v,_){return _?"\x1B[200~"+v+"\x1B[201~":v}function p(v,_,k,w){v=f(v=u(v),k.decPrivateModes.bracketedPasteMode&&w.rawOptions.ignoreBracketedPasteMode!==!0),k.triggerDataEvent(v,!0),_.value=""}function h(v,_,k){const w=k.getBoundingClientRect(),y=v.clientX-w.left-10,x=v.clientY-w.top-10;_.style.width="20px",_.style.height="20px",_.style.left=`${y}px`,_.style.top=`${x}px`,_.style.zIndex="1000",_.focus()}Object.defineProperty(l,"__esModule",{value:!0}),l.rightClickHandler=l.moveTextAreaUnderMouseCursor=l.paste=l.handlePasteEvent=l.copyHandler=l.bracketTextForPaste=l.prepareTextForTerminal=void 0,l.prepareTextForTerminal=u,l.bracketTextForPaste=f,l.copyHandler=function(v,_){v.clipboardData&&v.clipboardData.setData("text/plain",_.selectionText),v.preventDefault()},l.handlePasteEvent=function(v,_,k,w){v.stopPropagation(),v.clipboardData&&p(v.clipboardData.getData("text/plain"),_,k,w)},l.paste=p,l.moveTextAreaUnderMouseCursor=h,l.rightClickHandler=function(v,_,k,w,y){h(v,_,k),y&&w.rightClickSelect(v),_.value=w.selectionText,_.select()}},7239:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorContrastCache=void 0;const f=u(1505);l.ColorContrastCache=class{constructor(){this._color=new f.TwoKeyMap,this._css=new f.TwoKeyMap}setCss(p,h,v){this._css.set(p,h,v)}getCss(p,h){return this._css.get(p,h)}setColor(p,h,v){this._color.set(p,h,v)}getColor(p,h){return this._color.get(p,h)}clear(){this._color.clear(),this._css.clear()}}},3656:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.addDisposableDomListener=void 0,l.addDisposableDomListener=function(u,f,p,h){u.addEventListener(f,p,h);let v=!1;return{dispose:()=>{v||(v=!0,u.removeEventListener(f,p,h))}}}},3551:function(c,l,u){var f=this&&this.__decorate||function(x,g,b,j){var N,T=arguments.length,P=T<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,b):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(x,g,b,j);else for(var E=x.length-1;E>=0;E--)(N=x[E])&&(P=(T<3?N(P):T>3?N(g,b,P):N(g,b))||P);return T>3&&P&&Object.defineProperty(g,b,P),P},p=this&&this.__param||function(x,g){return function(b,j){g(b,j,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Linkifier=void 0;const h=u(3656),v=u(8460),_=u(844),k=u(2585),w=u(4725);let y=l.Linkifier=class extends _.Disposable{get currentLink(){return this._currentLink}constructor(x,g,b,j,N){super(),this._element=x,this._mouseService=g,this._renderService=b,this._bufferService=j,this._linkProviderService=N,this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new v.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new v.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,_.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,_.toDisposable)((()=>{var T;this._lastMouseEvent=void 0,(T=this._activeProviderReplies)==null||T.clear()}))),this.register(this._bufferService.onResize((()=>{this._clearCurrentLink(),this._wasResized=!0}))),this.register((0,h.addDisposableDomListener)(this._element,"mouseleave",(()=>{this._isMouseOut=!0,this._clearCurrentLink()}))),this.register((0,h.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,h.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(x){this._lastMouseEvent=x;const g=this._positionFromMouseEvent(x,this._element,this._mouseService);if(!g)return;this._isMouseOut=!1;const b=x.composedPath();for(let j=0;j<b.length;j++){const N=b[j];if(N.classList.contains("xterm"))break;if(N.classList.contains("xterm-hover"))return}this._lastBufferCell&&g.x===this._lastBufferCell.x&&g.y===this._lastBufferCell.y||(this._handleHover(g),this._lastBufferCell=g)}_handleHover(x){if(this._activeLine!==x.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(x,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,x)||(this._clearCurrentLink(),this._askForLink(x,!0))}_askForLink(x,g){var j,N;this._activeProviderReplies&&g||((j=this._activeProviderReplies)==null||j.forEach((T=>{T==null||T.forEach((P=>{P.link.dispose&&P.link.dispose()}))})),this._activeProviderReplies=new Map,this._activeLine=x.y);let b=!1;for(const[T,P]of this._linkProviderService.linkProviders.entries())g?(N=this._activeProviderReplies)!=null&&N.get(T)&&(b=this._checkLinkProviderResult(T,x,b)):P.provideLinks(x.y,(E=>{var z,F;if(this._isMouseOut)return;const L=E==null?void 0:E.map((V=>({link:V})));(z=this._activeProviderReplies)==null||z.set(T,L),b=this._checkLinkProviderResult(T,x,b),((F=this._activeProviderReplies)==null?void 0:F.size)===this._linkProviderService.linkProviders.length&&this._removeIntersectingLinks(x.y,this._activeProviderReplies)}))}_removeIntersectingLinks(x,g){const b=new Set;for(let j=0;j<g.size;j++){const N=g.get(j);if(N)for(let T=0;T<N.length;T++){const P=N[T],E=P.link.range.start.y<x?0:P.link.range.start.x,L=P.link.range.end.y>x?this._bufferService.cols:P.link.range.end.x;for(let z=E;z<=L;z++){if(b.has(z)){N.splice(T--,1);break}b.add(z)}}}}_checkLinkProviderResult(x,g,b){var T;if(!this._activeProviderReplies)return b;const j=this._activeProviderReplies.get(x);let N=!1;for(let P=0;P<x;P++)this._activeProviderReplies.has(P)&&!this._activeProviderReplies.get(P)||(N=!0);if(!N&&j){const P=j.find((E=>this._linkAtPosition(E.link,g)));P&&(b=!0,this._handleNewLink(P))}if(this._activeProviderReplies.size===this._linkProviderService.linkProviders.length&&!b)for(let P=0;P<this._activeProviderReplies.size;P++){const E=(T=this._activeProviderReplies.get(P))==null?void 0:T.find((L=>this._linkAtPosition(L.link,g)));if(E){b=!0,this._handleNewLink(E);break}}return b}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(x){if(!this._currentLink)return;const g=this._positionFromMouseEvent(x,this._element,this._mouseService);g&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,g)&&this._currentLink.link.activate(x,this._currentLink.link.text)}_clearCurrentLink(x,g){this._currentLink&&this._lastMouseEvent&&(!x||!g||this._currentLink.link.range.start.y>=x&&this._currentLink.link.range.end.y<=g)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,_.disposeArray)(this._linkCacheDisposables))}_handleNewLink(x){if(!this._lastMouseEvent)return;const g=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);g&&this._linkAtPosition(x.link,g)&&(this._currentLink=x,this._currentLink.state={decorations:{underline:x.link.decorations===void 0||x.link.decorations.underline,pointerCursor:x.link.decorations===void 0||x.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,x.link,this._lastMouseEvent),x.link.decorations={},Object.defineProperties(x.link.decorations,{pointerCursor:{get:()=>{var b,j;return(j=(b=this._currentLink)==null?void 0:b.state)==null?void 0:j.decorations.pointerCursor},set:b=>{var j;(j=this._currentLink)!=null&&j.state&&this._currentLink.state.decorations.pointerCursor!==b&&(this._currentLink.state.decorations.pointerCursor=b,this._currentLink.state.isHovered&&this._element.classList.toggle("xterm-cursor-pointer",b))}},underline:{get:()=>{var b,j;return(j=(b=this._currentLink)==null?void 0:b.state)==null?void 0:j.decorations.underline},set:b=>{var j,N,T;(j=this._currentLink)!=null&&j.state&&((T=(N=this._currentLink)==null?void 0:N.state)==null?void 0:T.decorations.underline)!==b&&(this._currentLink.state.decorations.underline=b,this._currentLink.state.isHovered&&this._fireUnderlineEvent(x.link,b))}}}),this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange((b=>{if(!this._currentLink)return;const j=b.start===0?0:b.start+1+this._bufferService.buffer.ydisp,N=this._bufferService.buffer.ydisp+1+b.end;if(this._currentLink.link.range.start.y>=j&&this._currentLink.link.range.end.y<=N&&(this._clearCurrentLink(j,N),this._lastMouseEvent)){const T=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);T&&this._askForLink(T,!1)}}))))}_linkHover(x,g,b){var j;(j=this._currentLink)!=null&&j.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!0),this._currentLink.state.decorations.pointerCursor&&x.classList.add("xterm-cursor-pointer")),g.hover&&g.hover(b,g.text)}_fireUnderlineEvent(x,g){const b=x.range,j=this._bufferService.buffer.ydisp,N=this._createLinkUnderlineEvent(b.start.x-1,b.start.y-j-1,b.end.x,b.end.y-j-1,void 0);(g?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(N)}_linkLeave(x,g,b){var j;(j=this._currentLink)!=null&&j.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(g,!1),this._currentLink.state.decorations.pointerCursor&&x.classList.remove("xterm-cursor-pointer")),g.leave&&g.leave(b,g.text)}_linkAtPosition(x,g){const b=x.range.start.y*this._bufferService.cols+x.range.start.x,j=x.range.end.y*this._bufferService.cols+x.range.end.x,N=g.y*this._bufferService.cols+g.x;return b<=N&&N<=j}_positionFromMouseEvent(x,g,b){const j=b.getCoords(x,g,this._bufferService.cols,this._bufferService.rows);if(j)return{x:j[0],y:j[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(x,g,b,j,N){return{x1:x,y1:g,x2:b,y2:j,cols:this._bufferService.cols,fg:N}}};l.Linkifier=y=f([p(1,w.IMouseService),p(2,w.IRenderService),p(3,k.IBufferService),p(4,w.ILinkProviderService)],y)},9042:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.tooMuchOutput=l.promptLabel=void 0,l.promptLabel="Terminal input",l.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(c,l,u){var f=this&&this.__decorate||function(w,y,x,g){var b,j=arguments.length,N=j<3?y:g===null?g=Object.getOwnPropertyDescriptor(y,x):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(w,y,x,g);else for(var T=w.length-1;T>=0;T--)(b=w[T])&&(N=(j<3?b(N):j>3?b(y,x,N):b(y,x))||N);return j>3&&N&&Object.defineProperty(y,x,N),N},p=this&&this.__param||function(w,y){return function(x,g){y(x,g,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkProvider=void 0;const h=u(511),v=u(2585);let _=l.OscLinkProvider=class{constructor(w,y,x){this._bufferService=w,this._optionsService=y,this._oscLinkService=x}provideLinks(w,y){var L;const x=this._bufferService.buffer.lines.get(w-1);if(!x)return void y(void 0);const g=[],b=this._optionsService.rawOptions.linkHandler,j=new h.CellData,N=x.getTrimmedLength();let T=-1,P=-1,E=!1;for(let z=0;z<N;z++)if(P!==-1||x.hasContent(z)){if(x.loadCell(z,j),j.hasExtendedAttrs()&&j.extended.urlId){if(P===-1){P=z,T=j.extended.urlId;continue}E=j.extended.urlId!==T}else P!==-1&&(E=!0);if(E||P!==-1&&z===N-1){const F=(L=this._oscLinkService.getLinkData(T))==null?void 0:L.uri;if(F){const V={start:{x:P+1,y:w},end:{x:z+(E||z!==N-1?0:1),y:w}};let U=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const X=new URL(F);["http:","https:"].includes(X.protocol)||(U=!0)}catch{U=!0}U||g.push({text:F,range:V,activate:(X,K)=>b?b.activate(X,K,V):k(0,K),hover:(X,K)=>{var q;return(q=b==null?void 0:b.hover)==null?void 0:q.call(b,X,K,V)},leave:(X,K)=>{var q;return(q=b==null?void 0:b.leave)==null?void 0:q.call(b,X,K,V)}})}E=!1,j.hasExtendedAttrs()&&j.extended.urlId?(P=z,T=j.extended.urlId):(P=-1,T=-1)}}y(g)}};function k(w,y){if(confirm(`Do you want to navigate to ${y}?

WARNING: This link could potentially be dangerous`)){const x=window.open();if(x){try{x.opener=null}catch{}x.location.href=y}else console.warn("Opening link blocked as opener could not be cleared")}}l.OscLinkProvider=_=f([p(0,v.IBufferService),p(1,v.IOptionsService),p(2,v.IOscLinkService)],_)},6193:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.RenderDebouncer=void 0,l.RenderDebouncer=class{constructor(u,f){this._renderCallback=u,this._coreBrowserService=f,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._coreBrowserService.window.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(u){return this._refreshCallbacks.push(u),this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh()))),this._animationFrame}refresh(u,f,p){this._rowCount=p,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f,this._animationFrame||(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const u of this._refreshCallbacks)u(0);this._refreshCallbacks=[]}}},3236:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Terminal=void 0;const f=u(3614),p=u(3656),h=u(3551),v=u(9042),_=u(3730),k=u(1680),w=u(3107),y=u(5744),x=u(2950),g=u(1296),b=u(428),j=u(4269),N=u(5114),T=u(8934),P=u(3230),E=u(9312),L=u(4725),z=u(6731),F=u(8055),V=u(8969),U=u(8460),X=u(844),K=u(6114),q=u(8437),G=u(2584),B=u(7399),D=u(5941),A=u(9074),I=u(2585),W=u(5435),O=u(4567),re=u(779);class ue extends V.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(Y={}){super(Y),this.browser=K,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new X.MutableDisposable),this._onCursorMove=this.register(new U.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new U.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new U.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new U.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new U.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new U.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new U.EventEmitter),this._onBlur=this.register(new U.EventEmitter),this._onA11yCharEmitter=this.register(new U.EventEmitter),this._onA11yTabEmitter=this.register(new U.EventEmitter),this._onWillOpen=this.register(new U.EventEmitter),this._setup(),this._decorationService=this._instantiationService.createInstance(A.DecorationService),this._instantiationService.setService(I.IDecorationService,this._decorationService),this._linkProviderService=this._instantiationService.createInstance(re.LinkProviderService),this._instantiationService.setService(L.ILinkProviderService,this._linkProviderService),this._linkProviderService.registerLinkProvider(this._instantiationService.createInstance(_.OscLinkProvider)),this.register(this._inputHandler.onRequestBell((()=>this._onBell.fire()))),this.register(this._inputHandler.onRequestRefreshRows(((H,se)=>this.refresh(H,se)))),this.register(this._inputHandler.onRequestSendFocus((()=>this._reportFocus()))),this.register(this._inputHandler.onRequestReset((()=>this.reset()))),this.register(this._inputHandler.onRequestWindowsOptionsReport((H=>this._reportWindowsOptions(H)))),this.register(this._inputHandler.onColor((H=>this._handleColorEvent(H)))),this.register((0,U.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,U.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,U.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,U.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize((H=>this._afterResize(H.cols,H.rows)))),this.register((0,X.toDisposable)((()=>{var H,se;this._customKeyEventHandler=void 0,(se=(H=this.element)==null?void 0:H.parentNode)==null||se.removeChild(this.element)})))}_handleColorEvent(Y){if(this._themeService)for(const H of Y){let se,ee="";switch(H.index){case 256:se="foreground",ee="10";break;case 257:se="background",ee="11";break;case 258:se="cursor",ee="12";break;default:se="ansi",ee="4;"+H.index}switch(H.type){case 0:const Q=F.color.toColorRGB(se==="ansi"?this._themeService.colors.ansi[H.index]:this._themeService.colors[se]);this.coreService.triggerDataEvent(`${G.C0.ESC}]${ee};${(0,D.toRgbString)(Q)}${G.C1_ESCAPED.ST}`);break;case 1:if(se==="ansi")this._themeService.modifyColors((ne=>ne.ansi[H.index]=F.channels.toColor(...H.color)));else{const ne=se;this._themeService.modifyColors((ye=>ye[ne]=F.channels.toColor(...H.color)))}break;case 2:this._themeService.restoreColor(H.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(Y){Y?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(O.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(Y){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[I"),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var Y;return(Y=this.textarea)==null?void 0:Y.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(G.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const Y=this.buffer.ybase+this.buffer.y,H=this.buffer.lines.get(Y);if(!H)return;const se=Math.min(this.buffer.x,this.cols-1),ee=this._renderService.dimensions.css.cell.height,Q=H.getWidth(se),ne=this._renderService.dimensions.css.cell.width*Q,ye=this.buffer.y*this._renderService.dimensions.css.cell.height,Oe=se*this._renderService.dimensions.css.cell.width;this.textarea.style.left=Oe+"px",this.textarea.style.top=ye+"px",this.textarea.style.width=ne+"px",this.textarea.style.height=ee+"px",this.textarea.style.lineHeight=ee+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,p.addDisposableDomListener)(this.element,"copy",(H=>{this.hasSelection()&&(0,f.copyHandler)(H,this._selectionService)})));const Y=H=>(0,f.handlePasteEvent)(H,this.textarea,this.coreService,this.optionsService);this.register((0,p.addDisposableDomListener)(this.textarea,"paste",Y)),this.register((0,p.addDisposableDomListener)(this.element,"paste",Y)),K.isFirefox?this.register((0,p.addDisposableDomListener)(this.element,"mousedown",(H=>{H.button===2&&(0,f.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))):this.register((0,p.addDisposableDomListener)(this.element,"contextmenu",(H=>{(0,f.rightClickHandler)(H,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)}))),K.isLinux&&this.register((0,p.addDisposableDomListener)(this.element,"auxclick",(H=>{H.button===1&&(0,f.moveTextAreaUnderMouseCursor)(H,this.textarea,this.screenElement)})))}_bindKeys(){this.register((0,p.addDisposableDomListener)(this.textarea,"keyup",(Y=>this._keyUp(Y)),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keydown",(Y=>this._keyDown(Y)),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"keypress",(Y=>this._keyPress(Y)),!0)),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionstart",(()=>this._compositionHelper.compositionstart()))),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionupdate",(Y=>this._compositionHelper.compositionupdate(Y)))),this.register((0,p.addDisposableDomListener)(this.textarea,"compositionend",(()=>this._compositionHelper.compositionend()))),this.register((0,p.addDisposableDomListener)(this.textarea,"input",(Y=>this._inputEvent(Y)),!0)),this.register(this.onRender((()=>this._compositionHelper.updateCompositionElements())))}open(Y){var se;if(!Y)throw new Error("Terminal requires a parent element.");if(Y.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),((se=this.element)==null?void 0:se.ownerDocument.defaultView)&&this._coreBrowserService)return void(this.element.ownerDocument.defaultView!==this._coreBrowserService.window&&(this._coreBrowserService.window=this.element.ownerDocument.defaultView));this._document=Y.ownerDocument,this.options.documentOverride&&this.options.documentOverride instanceof Document&&(this._document=this.optionsService.rawOptions.documentOverride),this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),Y.appendChild(this.element);const H=this._document.createDocumentFragment();this._viewportElement=this._document.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),H.appendChild(this._viewportElement),this._viewportScrollArea=this._document.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=this._document.createElement("div"),this.screenElement.classList.add("xterm-screen"),this.register((0,p.addDisposableDomListener)(this.screenElement,"mousemove",(ee=>this.updateCursorStyle(ee)))),this._helperContainer=this._document.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),H.appendChild(this.screenElement),this.textarea=this._document.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",v.promptLabel),K.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this.register(this._instantiationService.createInstance(N.CoreBrowserService,this.textarea,Y.ownerDocument.defaultView??window,this._document??typeof window<"u"?window.document:null)),this._instantiationService.setService(L.ICoreBrowserService,this._coreBrowserService),this.register((0,p.addDisposableDomListener)(this.textarea,"focus",(ee=>this._handleTextAreaFocus(ee)))),this.register((0,p.addDisposableDomListener)(this.textarea,"blur",(()=>this._handleTextAreaBlur()))),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(b.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(L.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(z.ThemeService),this._instantiationService.setService(L.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(j.CharacterJoinerService),this._instantiationService.setService(L.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(P.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(L.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange((ee=>this._onRender.fire(ee)))),this.onResize((ee=>this._renderService.resize(ee.cols,ee.rows))),this._compositionView=this._document.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(x.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this._mouseService=this._instantiationService.createInstance(T.MouseService),this._instantiationService.setService(L.IMouseService,this._mouseService),this.linkifier=this.register(this._instantiationService.createInstance(h.Linkifier,this.screenElement)),this.element.appendChild(H);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this.viewport=this._instantiationService.createInstance(k.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines((ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent,1))),this.register(this._inputHandler.onRequestSyncScrollBar((()=>this.viewport.syncScrollArea()))),this.register(this.viewport),this.register(this.onCursorMove((()=>{this._renderService.handleCursorMove(),this._syncTextArea()}))),this.register(this.onResize((()=>this._renderService.handleResize(this.cols,this.rows)))),this.register(this.onBlur((()=>this._renderService.handleBlur()))),this.register(this.onFocus((()=>this._renderService.handleFocus()))),this.register(this._renderService.onDimensionsChange((()=>this.viewport.syncScrollArea()))),this._selectionService=this.register(this._instantiationService.createInstance(E.SelectionService,this.element,this.screenElement,this.linkifier)),this._instantiationService.setService(L.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines((ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent)))),this.register(this._selectionService.onSelectionChange((()=>this._onSelectionChange.fire()))),this.register(this._selectionService.onRequestRedraw((ee=>this._renderService.handleSelectionChanged(ee.start,ee.end,ee.columnSelectMode)))),this.register(this._selectionService.onLinuxMouseSelection((ee=>{this.textarea.value=ee,this.textarea.focus(),this.textarea.select()}))),this.register(this._onScroll.event((ee=>{this.viewport.syncScrollArea(),this._selectionService.refresh()}))),this.register((0,p.addDisposableDomListener)(this._viewportElement,"scroll",(()=>this._selectionService.refresh()))),this.register(this._instantiationService.createInstance(w.BufferDecorationRenderer,this.screenElement)),this.register((0,p.addDisposableDomListener)(this.element,"mousedown",(ee=>this._selectionService.handleMouseDown(ee)))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(O.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",(ee=>this._handleScreenReaderModeOptionChange(ee)))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(y.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",(ee=>{!this._overviewRulerRenderer&&ee&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(y.OverviewRulerRenderer,this._viewportElement,this.screenElement)))})),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(g.DomRenderer,this,this._document,this.element,this.screenElement,this._viewportElement,this._helperContainer,this.linkifier)}bindMouse(){const Y=this,H=this.element;function se(ne){const ye=Y._mouseService.getMouseReportCoords(ne,Y.screenElement);if(!ye)return!1;let Oe,ze;switch(ne.overrideType||ne.type){case"mousemove":ze=32,ne.buttons===void 0?(Oe=3,ne.button!==void 0&&(Oe=ne.button<3?ne.button:3)):Oe=1&ne.buttons?0:4&ne.buttons?1:2&ne.buttons?2:3;break;case"mouseup":ze=0,Oe=ne.button<3?ne.button:3;break;case"mousedown":ze=1,Oe=ne.button<3?ne.button:3;break;case"wheel":if(Y._customWheelEventHandler&&Y._customWheelEventHandler(ne)===!1||Y.viewport.getLinesScrolled(ne)===0)return!1;ze=ne.deltaY<0?0:1,Oe=4;break;default:return!1}return!(ze===void 0||Oe===void 0||Oe>4)&&Y.coreMouseService.triggerMouseEvent({col:ye.col,row:ye.row,x:ye.x,y:ye.y,button:Oe,action:ze,ctrl:ne.ctrlKey,alt:ne.altKey,shift:ne.shiftKey})}const ee={mouseup:null,wheel:null,mousedrag:null,mousemove:null},Q={mouseup:ne=>(se(ne),ne.buttons||(this._document.removeEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.removeEventListener("mousemove",ee.mousedrag)),this.cancel(ne)),wheel:ne=>(se(ne),this.cancel(ne,!0)),mousedrag:ne=>{ne.buttons&&se(ne)},mousemove:ne=>{ne.buttons||se(ne)}};this.register(this.coreMouseService.onProtocolChange((ne=>{ne?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ne)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ne?ee.mousemove||(H.addEventListener("mousemove",Q.mousemove),ee.mousemove=Q.mousemove):(H.removeEventListener("mousemove",ee.mousemove),ee.mousemove=null),16&ne?ee.wheel||(H.addEventListener("wheel",Q.wheel,{passive:!1}),ee.wheel=Q.wheel):(H.removeEventListener("wheel",ee.wheel),ee.wheel=null),2&ne?ee.mouseup||(ee.mouseup=Q.mouseup):(this._document.removeEventListener("mouseup",ee.mouseup),ee.mouseup=null),4&ne?ee.mousedrag||(ee.mousedrag=Q.mousedrag):(this._document.removeEventListener("mousemove",ee.mousedrag),ee.mousedrag=null)}))),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,p.addDisposableDomListener)(H,"mousedown",(ne=>{if(ne.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ne))return se(ne),ee.mouseup&&this._document.addEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.addEventListener("mousemove",ee.mousedrag),this.cancel(ne)}))),this.register((0,p.addDisposableDomListener)(H,"wheel",(ne=>{if(!ee.wheel){if(this._customWheelEventHandler&&this._customWheelEventHandler(ne)===!1)return!1;if(!this.buffer.hasScrollback){const ye=this.viewport.getLinesScrolled(ne);if(ye===0)return;const Oe=G.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ne.deltaY<0?"A":"B");let ze="";for(let Xe=0;Xe<Math.abs(ye);Xe++)ze+=Oe;return this.coreService.triggerDataEvent(ze,!0),this.cancel(ne,!0)}return this.viewport.handleWheel(ne)?this.cancel(ne):void 0}}),{passive:!1})),this.register((0,p.addDisposableDomListener)(H,"touchstart",(ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ne),this.cancel(ne)}),{passive:!0})),this.register((0,p.addDisposableDomListener)(H,"touchmove",(ne=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ne)?void 0:this.cancel(ne)}),{passive:!1}))}refresh(Y,H){var se;(se=this._renderService)==null||se.refreshRows(Y,H)}updateCursorStyle(Y){var H;(H=this._selectionService)!=null&&H.shouldColumnSelect(Y)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(Y,H,se=0){var ee;se===1?(super.scrollLines(Y,H,se),this.refresh(0,this.rows-1)):(ee=this.viewport)==null||ee.scrollLines(Y)}paste(Y){(0,f.paste)(Y,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(Y){this._customKeyEventHandler=Y}attachCustomWheelEventHandler(Y){this._customWheelEventHandler=Y}registerLinkProvider(Y){return this._linkProviderService.registerLinkProvider(Y)}registerCharacterJoiner(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const H=this._characterJoinerService.register(Y);return this.refresh(0,this.rows-1),H}deregisterCharacterJoiner(Y){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(Y)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(Y){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+Y)}registerDecoration(Y){return this._decorationService.registerDecoration(Y)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(Y,H,se){this._selectionService.setSelection(Y,H,se)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var Y;(Y=this._selectionService)==null||Y.clearSelection()}selectAll(){var Y;(Y=this._selectionService)==null||Y.selectAll()}selectLines(Y,H){var se;(se=this._selectionService)==null||se.selectLines(Y,H)}_keyDown(Y){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(Y)===!1)return!1;const H=this.browser.isMac&&this.options.macOptionIsMeta&&Y.altKey;if(!H&&!this._compositionHelper.keydown(Y))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;H||Y.key!=="Dead"&&Y.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const se=(0,B.evaluateKeyboardEvent)(Y,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(Y),se.type===3||se.type===2){const ee=this.rows-1;return this.scrollLines(se.type===2?-ee:ee),this.cancel(Y,!0)}return se.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,Y)||(se.cancel&&this.cancel(Y,!0),!se.key||!!(Y.key&&!Y.ctrlKey&&!Y.altKey&&!Y.metaKey&&Y.key.length===1&&Y.key.charCodeAt(0)>=65&&Y.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(se.key!==G.C0.ETX&&se.key!==G.C0.CR||(this.textarea.value=""),this._onKey.fire({key:se.key,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(se.key,!0),!this.optionsService.rawOptions.screenReaderMode||Y.altKey||Y.ctrlKey?this.cancel(Y,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(Y,H){const se=Y.isMac&&!this.options.macOptionIsMeta&&H.altKey&&!H.ctrlKey&&!H.metaKey||Y.isWindows&&H.altKey&&H.ctrlKey&&!H.metaKey||Y.isWindows&&H.getModifierState("AltGraph");return H.type==="keypress"?se:se&&(!H.keyCode||H.keyCode>47)}_keyUp(Y){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(Y)===!1||((function(H){return H.keyCode===16||H.keyCode===17||H.keyCode===18})(Y)||this.focus(),this.updateCursorStyle(Y),this._keyPressHandled=!1)}_keyPress(Y){let H;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(Y)===!1)return!1;if(this.cancel(Y),Y.charCode)H=Y.charCode;else if(Y.which===null||Y.which===void 0)H=Y.keyCode;else{if(Y.which===0||Y.charCode===0)return!1;H=Y.which}return!(!H||(Y.altKey||Y.ctrlKey||Y.metaKey)&&!this._isThirdLevelShift(this.browser,Y)||(H=String.fromCharCode(H),this._onKey.fire({key:H,domEvent:Y}),this._showCursor(),this.coreService.triggerDataEvent(H,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(Y){if(Y.data&&Y.inputType==="insertText"&&(!Y.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const H=Y.data;return this.coreService.triggerDataEvent(H,!0),this.cancel(Y),!0}return!1}resize(Y,H){Y!==this.cols||H!==this.rows?super.resize(Y,H):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(Y,H){var se,ee;(se=this._charSizeService)==null||se.measure(),(ee=this.viewport)==null||ee.syncScrollArea(!0)}clear(){var Y;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let H=1;H<this.rows;H++)this.buffer.lines.push(this.buffer.getBlankLine(q.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(Y=this.viewport)==null||Y.reset(),this.refresh(0,this.rows-1)}}reset(){var H,se;this.options.rows=this.rows,this.options.cols=this.cols;const Y=this._customKeyEventHandler;this._setup(),super.reset(),(H=this._selectionService)==null||H.reset(),this._decorationService.reset(),(se=this.viewport)==null||se.reset(),this._customKeyEventHandler=Y,this.refresh(0,this.rows-1)}clearTextureAtlas(){var Y;(Y=this._renderService)==null||Y.clearTextureAtlas()}_reportFocus(){var Y;(Y=this.element)!=null&&Y.classList.contains("focus")?this.coreService.triggerDataEvent(G.C0.ESC+"[I"):this.coreService.triggerDataEvent(G.C0.ESC+"[O")}_reportWindowsOptions(Y){if(this._renderService)switch(Y){case W.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const H=this._renderService.dimensions.css.canvas.width.toFixed(0),se=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[4;${se};${H}t`);break;case W.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ee=this._renderService.dimensions.css.cell.width.toFixed(0),Q=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${G.C0.ESC}[6;${Q};${ee}t`)}}cancel(Y,H){if(this.options.cancelEvents||H)return Y.preventDefault(),Y.stopPropagation(),!1}}l.Terminal=ue},9924:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TimeBasedDebouncer=void 0,l.TimeBasedDebouncer=class{constructor(u,f=1e3){this._renderCallback=u,this._debounceThresholdMS=f,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(u,f,p){this._rowCount=p,u=u!==void 0?u:0,f=f!==void 0?f:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,u):u,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,f):f;const h=Date.now();if(h-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=h,this._innerRefresh();else if(!this._additionalRefreshRequested){const v=h-this._lastRefreshMs,_=this._debounceThresholdMS-v;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout((()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0}),_)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const u=Math.max(this._rowStart,0),f=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(u,f)}}},1680:function(c,l,u){var f=this&&this.__decorate||function(x,g,b,j){var N,T=arguments.length,P=T<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,b):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(x,g,b,j);else for(var E=x.length-1;E>=0;E--)(N=x[E])&&(P=(T<3?N(P):T>3?N(g,b,P):N(g,b))||P);return T>3&&P&&Object.defineProperty(g,b,P),P},p=this&&this.__param||function(x,g){return function(b,j){g(b,j,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.Viewport=void 0;const h=u(3656),v=u(4725),_=u(8460),k=u(844),w=u(2585);let y=l.Viewport=class extends k.Disposable{constructor(x,g,b,j,N,T,P,E){super(),this._viewportElement=x,this._scrollArea=g,this._bufferService=b,this._optionsService=j,this._charSizeService=N,this._renderService=T,this._coreBrowserService=P,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new _.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,h.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((L=>this._activeBuffer=L.activeBuffer))),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange((L=>this._renderDimensions=L))),this._handleThemeChange(E.colors),this.register(E.onChangeColors((L=>this._handleThemeChange(L)))),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.syncScrollArea()))),setTimeout((()=>this.syncScrollArea()))}_handleThemeChange(x){this._viewportElement.style.backgroundColor=x.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame((()=>this.syncScrollArea()))}_refresh(x){if(x)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._innerRefresh())))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderDimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderDimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const g=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderDimensions.css.canvas.height);this._lastRecordedBufferHeight!==g&&(this._lastRecordedBufferHeight=g,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const x=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==x&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=x),this._refreshAnimationFrame=null}syncScrollArea(x=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(x);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(x)}_handleScroll(x){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const g=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:g,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const x=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(x*(this._smoothScrollState.target-this._smoothScrollState.origin)),x<1?this._coreBrowserService.window.requestAnimationFrame((()=>this._smoothScroll())):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(x,g){const b=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(g<0&&this._viewportElement.scrollTop!==0||g>0&&b<this._lastRecordedBufferHeight)||(x.cancelable&&x.preventDefault(),!1)}handleWheel(x){const g=this._getPixelsScrolled(x);return g!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+g:this._smoothScrollState.target+=g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=g,this._bubbleScroll(x,g))}scrollLines(x){if(x!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const g=x*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+g,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!1})}_getPixelsScrolled(x){if(x.deltaY===0||x.shiftKey)return 0;let g=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_LINE?g*=this._currentRowHeight:x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._currentRowHeight*this._bufferService.rows),g}getBufferElements(x,g){var E;let b,j="";const N=[],T=g??this._bufferService.buffer.lines.length,P=this._bufferService.buffer.lines;for(let L=x;L<T;L++){const z=P.get(L);if(!z)continue;const F=(E=P.get(L+1))==null?void 0:E.isWrapped;if(j+=z.translateToString(!F),!F||L===P.length-1){const V=document.createElement("div");V.textContent=j,N.push(V),j.length>0&&(b=V),j=""}}return{bufferElements:N,cursorElement:b}}getLinesScrolled(x){if(x.deltaY===0||x.shiftKey)return 0;let g=this._applyScrollModifier(x.deltaY,x);return x.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(g/=this._currentRowHeight+0,this._wheelPartialScroll+=g,g=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):x.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(g*=this._bufferService.rows),g}_applyScrollModifier(x,g){const b=this._optionsService.rawOptions.fastScrollModifier;return b==="alt"&&g.altKey||b==="ctrl"&&g.ctrlKey||b==="shift"&&g.shiftKey?x*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:x*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(x){this._lastTouchY=x.touches[0].pageY}handleTouchMove(x){const g=this._lastTouchY-x.touches[0].pageY;return this._lastTouchY=x.touches[0].pageY,g!==0&&(this._viewportElement.scrollTop+=g,this._bubbleScroll(x,g))}};l.Viewport=y=f([p(2,w.IBufferService),p(3,w.IOptionsService),p(4,v.ICharSizeService),p(5,v.IRenderService),p(6,v.ICoreBrowserService),p(7,v.IThemeService)],y)},3107:function(c,l,u){var f=this&&this.__decorate||function(w,y,x,g){var b,j=arguments.length,N=j<3?y:g===null?g=Object.getOwnPropertyDescriptor(y,x):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(w,y,x,g);else for(var T=w.length-1;T>=0;T--)(b=w[T])&&(N=(j<3?b(N):j>3?b(y,x,N):b(y,x))||N);return j>3&&N&&Object.defineProperty(y,x,N),N},p=this&&this.__param||function(w,y){return function(x,g){y(x,g,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferDecorationRenderer=void 0;const h=u(4725),v=u(844),_=u(2585);let k=l.BufferDecorationRenderer=class extends v.Disposable{constructor(w,y,x,g,b){super(),this._screenElement=w,this._bufferService=y,this._coreBrowserService=x,this._decorationService=g,this._renderService=b,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange((()=>this._doRefreshDecorations()))),this.register(this._renderService.onDimensionsChange((()=>{this._dimensionsChanged=!0,this._queueRefresh()}))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt}))),this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh()))),this.register(this._decorationService.onDecorationRemoved((j=>this._removeDecoration(j)))),this.register((0,v.toDisposable)((()=>{this._container.remove(),this._decorationElements.clear()})))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback((()=>{this._doRefreshDecorations(),this._animationFrame=void 0})))}_doRefreshDecorations(){for(const w of this._decorationService.decorations)this._renderDecoration(w);this._dimensionsChanged=!1}_renderDecoration(w){this._refreshStyle(w),this._dimensionsChanged&&this._refreshXPosition(w)}_createElement(w){var g;const y=this._coreBrowserService.mainDocument.createElement("div");y.classList.add("xterm-decoration"),y.classList.toggle("xterm-decoration-top-layer",((g=w==null?void 0:w.options)==null?void 0:g.layer)==="top"),y.style.width=`${Math.round((w.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,y.style.height=(w.options.height||1)*this._renderService.dimensions.css.cell.height+"px",y.style.top=(w.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",y.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const x=w.options.x??0;return x&&x>this._bufferService.cols&&(y.style.display="none"),this._refreshXPosition(w,y),y}_refreshStyle(w){const y=w.marker.line-this._bufferService.buffers.active.ydisp;if(y<0||y>=this._bufferService.rows)w.element&&(w.element.style.display="none",w.onRenderEmitter.fire(w.element));else{let x=this._decorationElements.get(w);x||(x=this._createElement(w),w.element=x,this._decorationElements.set(w,x),this._container.appendChild(x),w.onDispose((()=>{this._decorationElements.delete(w),x.remove()}))),x.style.top=y*this._renderService.dimensions.css.cell.height+"px",x.style.display=this._altBufferIsActive?"none":"block",w.onRenderEmitter.fire(x)}}_refreshXPosition(w,y=w.element){if(!y)return;const x=w.options.x??0;(w.options.anchor||"left")==="right"?y.style.right=x?x*this._renderService.dimensions.css.cell.width+"px":"":y.style.left=x?x*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(w){var y;(y=this._decorationElements.get(w))==null||y.remove(),this._decorationElements.delete(w),w.dispose()}};l.BufferDecorationRenderer=k=f([p(1,_.IBufferService),p(2,h.ICoreBrowserService),p(3,_.IDecorationService),p(4,h.IRenderService)],k)},5871:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ColorZoneStore=void 0,l.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(u){if(u.options.overviewRulerOptions){for(const f of this._zones)if(f.color===u.options.overviewRulerOptions.color&&f.position===u.options.overviewRulerOptions.position){if(this._lineIntersectsZone(f,u.marker.line))return;if(this._lineAdjacentToZone(f,u.marker.line,u.options.overviewRulerOptions.position))return void this._addLineToZone(f,u.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=u.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=u.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=u.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=u.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:u.options.overviewRulerOptions.color,position:u.options.overviewRulerOptions.position,startBufferLine:u.marker.line,endBufferLine:u.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(u){this._linePadding=u}_lineIntersectsZone(u,f){return f>=u.startBufferLine&&f<=u.endBufferLine}_lineAdjacentToZone(u,f,p){return f>=u.startBufferLine-this._linePadding[p||"full"]&&f<=u.endBufferLine+this._linePadding[p||"full"]}_addLineToZone(u,f){u.startBufferLine=Math.min(u.startBufferLine,f),u.endBufferLine=Math.max(u.endBufferLine,f)}}},5744:function(c,l,u){var f=this&&this.__decorate||function(b,j,N,T){var P,E=arguments.length,L=E<3?j:T===null?T=Object.getOwnPropertyDescriptor(j,N):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(b,j,N,T);else for(var z=b.length-1;z>=0;z--)(P=b[z])&&(L=(E<3?P(L):E>3?P(j,N,L):P(j,N))||L);return E>3&&L&&Object.defineProperty(j,N,L),L},p=this&&this.__param||function(b,j){return function(N,T){j(N,T,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OverviewRulerRenderer=void 0;const h=u(5871),v=u(4725),_=u(844),k=u(2585),w={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0};let g=l.OverviewRulerRenderer=class extends _.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,j,N,T,P,E,L){var F;super(),this._viewportElement=b,this._screenElement=j,this._bufferService=N,this._decorationService=T,this._renderService=P,this._optionsService=E,this._coreBrowserService=L,this._colorZoneStore=new h.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=this._coreBrowserService.mainDocument.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(F=this._viewportElement.parentElement)==null||F.insertBefore(this._canvas,this._viewportElement);const z=this._canvas.getContext("2d");if(!z)throw new Error("Ctx cannot be null");this._ctx=z,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,_.toDisposable)((()=>{var V;(V=this._canvas)==null||V.remove()})))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered((()=>this._queueRefresh(void 0,!0)))),this.register(this._decorationService.onDecorationRemoved((()=>this._queueRefresh(void 0,!0))))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange((()=>this._queueRefresh()))),this.register(this._bufferService.buffers.onBufferActivate((()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"}))),this.register(this._bufferService.onScroll((()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())})))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender((()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)}))),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",(()=>this._queueRefresh(!0)))),this.register(this._coreBrowserService.onDprChange((()=>this._queueRefresh(!0)))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),j=Math.ceil(this._canvas.width/3);y.full=this._canvas.width,y.left=b,y.center=j,y.right=b,this._refreshDrawHeightConstants(),x.full=0,x.left=0,x.center=y.left,x.right=y.left+y.center}_refreshDrawHeightConstants(){w.full=Math.round(2*this._coreBrowserService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,j=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowserService.dpr);w.left=j,w.center=j,w.right=j}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*w.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowserService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowserService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const j of this._decorationService.decorations)this._colorZoneStore.addDecoration(j);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const j of b)j.position!=="full"&&this._renderColorZone(j);for(const j of b)j.position==="full"&&this._renderColorZone(j);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(x[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-w[b.position||"full"]/2),y[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+w[b.position||"full"]))}_queueRefresh(b,j){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=j||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>{this._refreshDecorations(),this._animationFrame=void 0})))}};l.OverviewRulerRenderer=g=f([p(2,k.IBufferService),p(3,k.IDecorationService),p(4,v.IRenderService),p(5,k.IOptionsService),p(6,v.ICoreBrowserService)],g)},2950:function(c,l,u){var f=this&&this.__decorate||function(w,y,x,g){var b,j=arguments.length,N=j<3?y:g===null?g=Object.getOwnPropertyDescriptor(y,x):g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(w,y,x,g);else for(var T=w.length-1;T>=0;T--)(b=w[T])&&(N=(j<3?b(N):j>3?b(y,x,N):b(y,x))||N);return j>3&&N&&Object.defineProperty(y,x,N),N},p=this&&this.__param||function(w,y){return function(x,g){y(x,g,w)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CompositionHelper=void 0;const h=u(4725),v=u(2585),_=u(2584);let k=l.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(w,y,x,g,b,j){this._textarea=w,this._compositionView=y,this._bufferService=x,this._optionsService=g,this._coreService=b,this._renderService=j,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(w){this._compositionView.textContent=w.data,this.updateCompositionElements(),setTimeout((()=>{this._compositionPosition.end=this._textarea.value.length}),0)}compositionend(){this._finalizeComposition(!0)}keydown(w){if(this._isComposing||this._isSendingComposition){if(w.keyCode===229||w.keyCode===16||w.keyCode===17||w.keyCode===18)return!1;this._finalizeComposition(!1)}return w.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(w){if(this._compositionView.classList.remove("active"),this._isComposing=!1,w){const y={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout((()=>{if(this._isSendingComposition){let x;this._isSendingComposition=!1,y.start+=this._dataAlreadySent.length,x=this._isComposing?this._textarea.value.substring(y.start,y.end):this._textarea.value.substring(y.start),x.length>0&&this._coreService.triggerDataEvent(x,!0)}}),0)}else{this._isSendingComposition=!1;const y=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(y,!0)}}_handleAnyTextareaChanges(){const w=this._textarea.value;setTimeout((()=>{if(!this._isComposing){const y=this._textarea.value,x=y.replace(w,"");this._dataAlreadySent=x,y.length>w.length?this._coreService.triggerDataEvent(x,!0):y.length<w.length?this._coreService.triggerDataEvent(`${_.C0.DEL}`,!0):y.length===w.length&&y!==w&&this._coreService.triggerDataEvent(y,!0)}}),0)}updateCompositionElements(w){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const y=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),x=this._renderService.dimensions.css.cell.height,g=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,b=y*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=b+"px",this._compositionView.style.top=g+"px",this._compositionView.style.height=x+"px",this._compositionView.style.lineHeight=x+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const j=this._compositionView.getBoundingClientRect();this._textarea.style.left=b+"px",this._textarea.style.top=g+"px",this._textarea.style.width=Math.max(j.width,1)+"px",this._textarea.style.height=Math.max(j.height,1)+"px",this._textarea.style.lineHeight=j.height+"px"}w||setTimeout((()=>this.updateCompositionElements(!0)),0)}}};l.CompositionHelper=k=f([p(2,v.IBufferService),p(3,v.IOptionsService),p(4,v.ICoreService),p(5,h.IRenderService)],k)},9806:(c,l)=>{function u(f,p,h){const v=h.getBoundingClientRect(),_=f.getComputedStyle(h),k=parseInt(_.getPropertyValue("padding-left")),w=parseInt(_.getPropertyValue("padding-top"));return[p.clientX-v.left-k,p.clientY-v.top-w]}Object.defineProperty(l,"__esModule",{value:!0}),l.getCoords=l.getCoordsRelativeToElement=void 0,l.getCoordsRelativeToElement=u,l.getCoords=function(f,p,h,v,_,k,w,y,x){if(!k)return;const g=u(f,p,h);return g?(g[0]=Math.ceil((g[0]+(x?w/2:0))/w),g[1]=Math.ceil(g[1]/y),g[0]=Math.min(Math.max(g[0],1),v+(x?1:0)),g[1]=Math.min(Math.max(g[1],1),_),g):void 0}},9504:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.moveToCellSequence=void 0;const f=u(2584);function p(y,x,g,b){const j=y-h(y,g),N=x-h(x,g),T=Math.abs(j-N)-(function(P,E,L){let z=0;const F=P-h(P,L),V=E-h(E,L);for(let U=0;U<Math.abs(F-V);U++){const X=v(P,E)==="A"?-1:1,K=L.buffer.lines.get(F+X*U);K!=null&&K.isWrapped&&z++}return z})(y,x,g);return w(T,k(v(y,x),b))}function h(y,x){let g=0,b=x.buffer.lines.get(y),j=b==null?void 0:b.isWrapped;for(;j&&y>=0&&y<x.rows;)g++,b=x.buffer.lines.get(--y),j=b==null?void 0:b.isWrapped;return g}function v(y,x){return y>x?"A":"B"}function _(y,x,g,b,j,N){let T=y,P=x,E="";for(;T!==g||P!==b;)T+=j?1:-1,j&&T>N.cols-1?(E+=N.buffer.translateBufferLineToString(P,!1,y,T),T=0,y=0,P++):!j&&T<0&&(E+=N.buffer.translateBufferLineToString(P,!1,0,y+1),T=N.cols-1,y=T,P--);return E+N.buffer.translateBufferLineToString(P,!1,y,T)}function k(y,x){const g=x?"O":"[";return f.C0.ESC+g+y}function w(y,x){y=Math.floor(y);let g="";for(let b=0;b<y;b++)g+=x;return g}l.moveToCellSequence=function(y,x,g,b){const j=g.buffer.x,N=g.buffer.y;if(!g.buffer.hasScrollback)return(function(E,L,z,F,V,U){return p(L,F,V,U).length===0?"":w(_(E,L,E,L-h(L,V),!1,V).length,k("D",U))})(j,N,0,x,g,b)+p(N,x,g,b)+(function(E,L,z,F,V,U){let X;X=p(L,F,V,U).length>0?F-h(F,V):L;const K=F,q=(function(G,B,D,A,I,W){let O;return O=p(D,A,I,W).length>0?A-h(A,I):B,G<D&&O<=A||G>=D&&O<A?"C":"D"})(E,L,z,F,V,U);return w(_(E,X,z,K,q==="C",V).length,k(q,U))})(j,N,y,x,g,b);let T;if(N===x)return T=j>y?"D":"C",w(Math.abs(j-y),k(T,b));T=N>x?"D":"C";const P=Math.abs(N-x);return w((function(E,L){return L.cols-E})(N>x?y:j,g)+(P-1)*g.cols+1+((N>x?j:y)-1),k(T,b))}},1296:function(c,l,u){var f=this&&this.__decorate||function(U,X,K,q){var G,B=arguments.length,D=B<3?X:q===null?q=Object.getOwnPropertyDescriptor(X,K):q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(U,X,K,q);else for(var A=U.length-1;A>=0;A--)(G=U[A])&&(D=(B<3?G(D):B>3?G(X,K,D):G(X,K))||D);return B>3&&D&&Object.defineProperty(X,K,D),D},p=this&&this.__param||function(U,X){return function(K,q){X(K,q,U)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRenderer=void 0;const h=u(3787),v=u(2550),_=u(2223),k=u(6171),w=u(6052),y=u(4725),x=u(8055),g=u(8460),b=u(844),j=u(2585),N="xterm-dom-renderer-owner-",T="xterm-rows",P="xterm-fg-",E="xterm-bg-",L="xterm-focus",z="xterm-selection";let F=1,V=l.DomRenderer=class extends b.Disposable{constructor(U,X,K,q,G,B,D,A,I,W,O,re,ue){super(),this._terminal=U,this._document=X,this._element=K,this._screenElement=q,this._viewportElement=G,this._helperContainer=B,this._linkifier2=D,this._charSizeService=I,this._optionsService=W,this._bufferService=O,this._coreBrowserService=re,this._themeService=ue,this._terminalClass=F++,this._rowElements=[],this._selectionRenderModel=(0,w.createSelectionRenderModel)(),this.onRequestRedraw=this.register(new g.EventEmitter).event,this._rowContainer=this._document.createElement("div"),this._rowContainer.classList.add(T),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=this._document.createElement("div"),this._selectionContainer.classList.add(z),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,k.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._themeService.onChangeColors((he=>this._injectCss(he)))),this._injectCss(this._themeService.colors),this._rowFactory=A.createInstance(h.DomRendererRowFactory,document),this._element.classList.add(N+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline((he=>this._handleLinkHover(he)))),this.register(this._linkifier2.onHideLinkUnderline((he=>this._handleLinkLeave(he)))),this.register((0,b.toDisposable)((()=>{this._element.classList.remove(N+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()}))),this._widthCache=new v.WidthCache(this._document,this._helperContainer),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const U=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*U,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*U),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/U),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/U),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const K of this._rowElements)K.style.width=`${this.dimensions.css.canvas.width}px`,K.style.height=`${this.dimensions.css.cell.height}px`,K.style.lineHeight=`${this.dimensions.css.cell.height}px`,K.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const X=`${this._terminalSelector} .${T} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=X,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(U){this._themeStyleElement||(this._themeStyleElement=this._document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let X=`${this._terminalSelector} .${T} { color: ${U.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;X+=`${this._terminalSelector} .${T} .xterm-dim { color: ${x.color.multiplyOpacity(U.foreground,.5).css};}`,X+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`;const K=`blink_underline_${this._terminalClass}`,q=`blink_bar_${this._terminalClass}`,G=`blink_block_${this._terminalClass}`;X+=`@keyframes ${K} { 50% {  border-bottom-style: hidden; }}`,X+=`@keyframes ${q} { 50% {  box-shadow: none; }}`,X+=`@keyframes ${G} { 0% {  background-color: ${U.cursor.css};  color: ${U.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${U.cursor.css}; }}`,X+=`${this._terminalSelector} .${T}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-underline { animation: ${K} 1s step-end infinite;}${this._terminalSelector} .${T}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-bar { animation: ${q} 1s step-end infinite;}${this._terminalSelector} .${T}.${L} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: ${G} 1s step-end infinite;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-block { background-color: ${U.cursor.css}; color: ${U.cursorAccent.css};}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-block:not(.xterm-cursor-blink) { background-color: ${U.cursor.css} !important; color: ${U.cursorAccent.css} !important;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${U.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${U.cursor.css} inset;}${this._terminalSelector} .${T} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${U.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,X+=`${this._terminalSelector} .${z} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${z} div { position: absolute; background-color: ${U.selectionBackgroundOpaque.css};}${this._terminalSelector} .${z} div { position: absolute; background-color: ${U.selectionInactiveBackgroundOpaque.css};}`;for(const[B,D]of U.ansi.entries())X+=`${this._terminalSelector} .${P}${B} { color: ${D.css}; }${this._terminalSelector} .${P}${B}.xterm-dim { color: ${x.color.multiplyOpacity(D,.5).css}; }${this._terminalSelector} .${E}${B} { background-color: ${D.css}; }`;X+=`${this._terminalSelector} .${P}${_.INVERTED_DEFAULT_COLOR} { color: ${x.color.opaque(U.background).css}; }${this._terminalSelector} .${P}${_.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${x.color.multiplyOpacity(x.color.opaque(U.background),.5).css}; }${this._terminalSelector} .${E}${_.INVERTED_DEFAULT_COLOR} { background-color: ${U.foreground.css}; }`,this._themeStyleElement.textContent=X}_setDefaultSpacing(){const U=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${U}px`,this._rowFactory.defaultSpacing=U}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(U,X){for(let K=this._rowElements.length;K<=X;K++){const q=this._document.createElement("div");this._rowContainer.appendChild(q),this._rowElements.push(q)}for(;this._rowElements.length>X;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(U,X){this._refreshRowElements(U,X),this._updateDimensions(),this.handleSelectionChanged(this._selectionRenderModel.selectionStart,this._selectionRenderModel.selectionEnd,this._selectionRenderModel.columnSelectMode)}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(L),this.renderRows(0,this._bufferService.rows-1)}handleFocus(){this._rowContainer.classList.add(L),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(U,X,K){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(U,X,K),this.renderRows(0,this._bufferService.rows-1),!U||!X)return;this._selectionRenderModel.update(this._terminal,U,X,K);const q=this._selectionRenderModel.viewportStartRow,G=this._selectionRenderModel.viewportEndRow,B=this._selectionRenderModel.viewportCappedStartRow,D=this._selectionRenderModel.viewportCappedEndRow;if(B>=this._bufferService.rows||D<0)return;const A=this._document.createDocumentFragment();if(K){const I=U[0]>X[0];A.appendChild(this._createSelectionElement(B,I?X[0]:U[0],I?U[0]:X[0],D-B+1))}else{const I=q===B?U[0]:0,W=B===G?X[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(B,I,W));const O=D-B-1;if(A.appendChild(this._createSelectionElement(B+1,0,this._bufferService.cols,O)),B!==D){const re=G===D?X[0]:this._bufferService.cols;A.appendChild(this._createSelectionElement(D,0,re))}}this._selectionContainer.appendChild(A)}_createSelectionElement(U,X,K,q=1){const G=this._document.createElement("div"),B=X*this.dimensions.css.cell.width;let D=this.dimensions.css.cell.width*(K-X);return B+D>this.dimensions.css.canvas.width&&(D=this.dimensions.css.canvas.width-B),G.style.height=q*this.dimensions.css.cell.height+"px",G.style.top=U*this.dimensions.css.cell.height+"px",G.style.left=`${B}px`,G.style.width=`${D}px`,G}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const U of this._rowElements)U.replaceChildren()}renderRows(U,X){const K=this._bufferService.buffer,q=K.ybase+K.y,G=Math.min(K.x,this._bufferService.cols-1),B=this._optionsService.rawOptions.cursorBlink,D=this._optionsService.rawOptions.cursorStyle,A=this._optionsService.rawOptions.cursorInactiveStyle;for(let I=U;I<=X;I++){const W=I+K.ydisp,O=this._rowElements[I],re=K.lines.get(W);if(!O||!re)break;O.replaceChildren(...this._rowFactory.createRow(re,W,W===q,D,A,G,B,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${N}${this._terminalClass}`}_handleLinkHover(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!0)}_handleLinkLeave(U){this._setCellUnderline(U.x1,U.x2,U.y1,U.y2,U.cols,!1)}_setCellUnderline(U,X,K,q,G,B){K<0&&(U=0),q<0&&(X=0);const D=this._bufferService.rows-1;K=Math.max(Math.min(K,D),0),q=Math.max(Math.min(q,D),0),G=Math.min(G,this._bufferService.cols);const A=this._bufferService.buffer,I=A.ybase+A.y,W=Math.min(A.x,G-1),O=this._optionsService.rawOptions.cursorBlink,re=this._optionsService.rawOptions.cursorStyle,ue=this._optionsService.rawOptions.cursorInactiveStyle;for(let he=K;he<=q;++he){const Y=he+A.ydisp,H=this._rowElements[he],se=A.lines.get(Y);if(!H||!se)break;H.replaceChildren(...this._rowFactory.createRow(se,Y,Y===I,re,ue,W,O,this.dimensions.css.cell.width,this._widthCache,B?he===K?U:0:-1,B?(he===q?X:G)-1:-1))}}};l.DomRenderer=V=f([p(7,j.IInstantiationService),p(8,y.ICharSizeService),p(9,j.IOptionsService),p(10,j.IBufferService),p(11,y.ICoreBrowserService),p(12,y.IThemeService)],V)},3787:function(c,l,u){var f=this&&this.__decorate||function(T,P,E,L){var z,F=arguments.length,V=F<3?P:L===null?L=Object.getOwnPropertyDescriptor(P,E):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")V=Reflect.decorate(T,P,E,L);else for(var U=T.length-1;U>=0;U--)(z=T[U])&&(V=(F<3?z(V):F>3?z(P,E,V):z(P,E))||V);return F>3&&V&&Object.defineProperty(P,E,V),V},p=this&&this.__param||function(T,P){return function(E,L){P(E,L,T)}};Object.defineProperty(l,"__esModule",{value:!0}),l.DomRendererRowFactory=void 0;const h=u(2223),v=u(643),_=u(511),k=u(2585),w=u(8055),y=u(4725),x=u(4269),g=u(6171),b=u(3734);let j=l.DomRendererRowFactory=class{constructor(T,P,E,L,z,F,V){this._document=T,this._characterJoinerService=P,this._optionsService=E,this._coreBrowserService=L,this._coreService=z,this._decorationService=F,this._themeService=V,this._workCell=new _.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(T,P,E){this._selectionStart=T,this._selectionEnd=P,this._columnSelectMode=E}createRow(T,P,E,L,z,F,V,U,X,K,q){const G=[],B=this._characterJoinerService.getJoinedCharacters(P),D=this._themeService.colors;let A,I=T.getNoBgTrimmedLength();E&&I<F+1&&(I=F+1);let W=0,O="",re=0,ue=0,he=0,Y=!1,H=0,se=!1,ee=0;const Q=[],ne=K!==-1&&q!==-1;for(let ye=0;ye<I;ye++){T.loadCell(ye,this._workCell);let Oe=this._workCell.getWidth();if(Oe===0)continue;let ze=!1,Xe=ye,Te=this._workCell;if(B.length>0&&ye===B[0][0]){ze=!0;const qe=B.shift();Te=new x.JoinedCellData(this._workCell,T.translateToString(!0,qe[0],qe[1]),qe[1]-qe[0]),Xe=qe[1]-1,Oe=Te.getWidth()}const Me=this._isCellInSelection(ye,P),Re=E&&ye===F,Qe=ne&&ye>=K&&ye<=q;let Ze=!1;this._decorationService.forEachDecorationAtCell(ye,P,void 0,(qe=>{Ze=!0}));let nt=Te.getChars()||v.WHITESPACE_CELL_CHAR;if(nt===" "&&(Te.isUnderline()||Te.isOverline())&&(nt=""),ee=Oe*U-X.get(nt,Te.isBold(),Te.isItalic()),A){if(W&&(Me&&se||!Me&&!se&&Te.bg===re)&&(Me&&se&&D.selectionForeground||Te.fg===ue)&&Te.extended.ext===he&&Qe===Y&&ee===H&&!Re&&!ze&&!Ze){Te.isInvisible()?O+=v.WHITESPACE_CELL_CHAR:O+=nt,W++;continue}W&&(A.textContent=O),A=this._document.createElement("span"),W=0,O=""}else A=this._document.createElement("span");if(re=Te.bg,ue=Te.fg,he=Te.extended.ext,Y=Qe,H=ee,se=Me,ze&&F>=ye&&F<=Xe&&(F=ye),!this._coreService.isCursorHidden&&Re&&this._coreService.isCursorInitialized){if(Q.push("xterm-cursor"),this._coreBrowserService.isFocused)V&&Q.push("xterm-cursor-blink"),Q.push(L==="bar"?"xterm-cursor-bar":L==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(z)switch(z){case"outline":Q.push("xterm-cursor-outline");break;case"block":Q.push("xterm-cursor-block");break;case"bar":Q.push("xterm-cursor-bar");break;case"underline":Q.push("xterm-cursor-underline")}}if(Te.isBold()&&Q.push("xterm-bold"),Te.isItalic()&&Q.push("xterm-italic"),Te.isDim()&&Q.push("xterm-dim"),O=Te.isInvisible()?v.WHITESPACE_CELL_CHAR:Te.getChars()||v.WHITESPACE_CELL_CHAR,Te.isUnderline()&&(Q.push(`xterm-underline-${Te.extended.underlineStyle}`),O===" "&&(O=""),!Te.isUnderlineColorDefault()))if(Te.isUnderlineColorRGB())A.style.textDecorationColor=`rgb(${b.AttributeData.toColorRGB(Te.getUnderlineColor()).join(",")})`;else{let qe=Te.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&Te.isBold()&&qe<8&&(qe+=8),A.style.textDecorationColor=D.ansi[qe].css}Te.isOverline()&&(Q.push("xterm-overline"),O===" "&&(O="")),Te.isStrikethrough()&&Q.push("xterm-strikethrough"),Qe&&(A.style.textDecoration="underline");let st=Te.getFgColor(),br=Te.getFgColorMode(),Mt=Te.getBgColor(),de=Te.getBgColorMode();const ae=!!Te.isInverse();if(ae){const qe=st;st=Mt,Mt=qe;const zt=br;br=de,de=zt}let fe,ve,Pe,at=!1;switch(this._decorationService.forEachDecorationAtCell(ye,P,void 0,(qe=>{qe.options.layer!=="top"&&at||(qe.backgroundColorRGB&&(de=50331648,Mt=qe.backgroundColorRGB.rgba>>8&16777215,fe=qe.backgroundColorRGB),qe.foregroundColorRGB&&(br=50331648,st=qe.foregroundColorRGB.rgba>>8&16777215,ve=qe.foregroundColorRGB),at=qe.options.layer==="top")})),!at&&Me&&(fe=this._coreBrowserService.isFocused?D.selectionBackgroundOpaque:D.selectionInactiveBackgroundOpaque,Mt=fe.rgba>>8&16777215,de=50331648,at=!0,D.selectionForeground&&(br=50331648,st=D.selectionForeground.rgba>>8&16777215,ve=D.selectionForeground)),at&&Q.push("xterm-decoration-top"),de){case 16777216:case 33554432:Pe=D.ansi[Mt],Q.push(`xterm-bg-${Mt}`);break;case 50331648:Pe=w.channels.toColor(Mt>>16,Mt>>8&255,255&Mt),this._addStyle(A,`background-color:#${N((Mt>>>0).toString(16),"0",6)}`);break;default:ae?(Pe=D.foreground,Q.push(`xterm-bg-${h.INVERTED_DEFAULT_COLOR}`)):Pe=D.background}switch(fe||Te.isDim()&&(fe=w.color.multiplyOpacity(Pe,.5)),br){case 16777216:case 33554432:Te.isBold()&&st<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(st+=8),this._applyMinimumContrast(A,Pe,D.ansi[st],Te,fe,void 0)||Q.push(`xterm-fg-${st}`);break;case 50331648:const qe=w.channels.toColor(st>>16&255,st>>8&255,255&st);this._applyMinimumContrast(A,Pe,qe,Te,fe,ve)||this._addStyle(A,`color:#${N(st.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(A,Pe,D.foreground,Te,fe,ve)||ae&&Q.push(`xterm-fg-${h.INVERTED_DEFAULT_COLOR}`)}Q.length&&(A.className=Q.join(" "),Q.length=0),Re||ze||Ze?A.textContent=O:W++,ee!==this.defaultSpacing&&(A.style.letterSpacing=`${ee}px`),G.push(A),ye=Xe}return A&&W&&(A.textContent=O),G}_applyMinimumContrast(T,P,E,L,z,F){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,g.treatGlyphAsBackgroundColor)(L.getCode()))return!1;const V=this._getContrastCache(L);let U;if(z||F||(U=V.getColor(P.rgba,E.rgba)),U===void 0){const X=this._optionsService.rawOptions.minimumContrastRatio/(L.isDim()?2:1);U=w.color.ensureContrastRatio(z||P,F||E,X),V.setColor((z||P).rgba,(F||E).rgba,U??null)}return!!U&&(this._addStyle(T,`color:${U.css}`),!0)}_getContrastCache(T){return T.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(T,P){T.setAttribute("style",`${T.getAttribute("style")||""}${P};`)}_isCellInSelection(T,P){const E=this._selectionStart,L=this._selectionEnd;return!(!E||!L)&&(this._columnSelectMode?E[0]<=L[0]?T>=E[0]&&P>=E[1]&&T<L[0]&&P<=L[1]:T<E[0]&&P>=E[1]&&T>=L[0]&&P<=L[1]:P>E[1]&&P<L[1]||E[1]===L[1]&&P===E[1]&&T>=E[0]&&T<L[0]||E[1]<L[1]&&P===L[1]&&T<L[0]||E[1]<L[1]&&P===E[1]&&T>=E[0])}};function N(T,P,E){for(;T.length<E;)T=P+T;return T}l.DomRendererRowFactory=j=f([p(1,y.ICharacterJoinerService),p(2,k.IOptionsService),p(3,y.ICoreBrowserService),p(4,k.ICoreService),p(5,k.IDecorationService),p(6,y.IThemeService)],j)},2550:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WidthCache=void 0,l.WidthCache=class{constructor(u,f){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=u.createElement("div"),this._container.classList.add("xterm-width-cache-measure-container"),this._container.setAttribute("aria-hidden","true"),this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const p=u.createElement("span");p.classList.add("xterm-char-measure-element");const h=u.createElement("span");h.classList.add("xterm-char-measure-element"),h.style.fontWeight="bold";const v=u.createElement("span");v.classList.add("xterm-char-measure-element"),v.style.fontStyle="italic";const _=u.createElement("span");_.classList.add("xterm-char-measure-element"),_.style.fontWeight="bold",_.style.fontStyle="italic",this._measureElements=[p,h,v,_],this._container.appendChild(p),this._container.appendChild(h),this._container.appendChild(v),this._container.appendChild(_),f.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(u,f,p,h){u===this._font&&f===this._fontSize&&p===this._weight&&h===this._weightBold||(this._font=u,this._fontSize=f,this._weight=p,this._weightBold=h,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${p}`,this._measureElements[1].style.fontWeight=`${h}`,this._measureElements[2].style.fontWeight=`${p}`,this._measureElements[3].style.fontWeight=`${h}`,this.clear())}get(u,f,p){let h=0;if(!f&&!p&&u.length===1&&(h=u.charCodeAt(0))<256){if(this._flat[h]!==-9999)return this._flat[h];const k=this._measure(u,0);return k>0&&(this._flat[h]=k),k}let v=u;f&&(v+="B"),p&&(v+="I");let _=this._holey.get(v);if(_===void 0){let k=0;f&&(k|=1),p&&(k|=2),_=this._measure(u,k),_>0&&this._holey.set(v,_)}return _}_measure(u,f){const p=this._measureElements[f];return p.textContent=u.repeat(32),p.offsetWidth/32}}},2223:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.TEXT_BASELINE=l.DIM_OPACITY=l.INVERTED_DEFAULT_COLOR=void 0;const f=u(6114);l.INVERTED_DEFAULT_COLOR=257,l.DIM_OPACITY=.5,l.TEXT_BASELINE=f.isFirefox||f.isLegacyEdge?"bottom":"ideographic"},6171:(c,l)=>{function u(p){return 57508<=p&&p<=57558}function f(p){return p>=128512&&p<=128591||p>=127744&&p<=128511||p>=128640&&p<=128767||p>=9728&&p<=9983||p>=9984&&p<=10175||p>=65024&&p<=65039||p>=129280&&p<=129535||p>=127462&&p<=127487}Object.defineProperty(l,"__esModule",{value:!0}),l.computeNextVariantOffset=l.createRenderDimensions=l.treatGlyphAsBackgroundColor=l.allowRescaling=l.isEmoji=l.isRestrictedPowerlineGlyph=l.isPowerlineGlyph=l.throwIfFalsy=void 0,l.throwIfFalsy=function(p){if(!p)throw new Error("value must not be falsy");return p},l.isPowerlineGlyph=u,l.isRestrictedPowerlineGlyph=function(p){return 57520<=p&&p<=57527},l.isEmoji=f,l.allowRescaling=function(p,h,v,_){return h===1&&v>Math.ceil(1.5*_)&&p!==void 0&&p>255&&!f(p)&&!u(p)&&!(function(k){return 57344<=k&&k<=63743})(p)},l.treatGlyphAsBackgroundColor=function(p){return u(p)||(function(h){return 9472<=h&&h<=9631})(p)},l.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}},l.computeNextVariantOffset=function(p,h,v=0){return(p-(2*Math.round(h)-v))%(2*Math.round(h))}},6052:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createSelectionRenderModel=void 0;class u{constructor(){this.clear()}clear(){this.hasSelection=!1,this.columnSelectMode=!1,this.viewportStartRow=0,this.viewportEndRow=0,this.viewportCappedStartRow=0,this.viewportCappedEndRow=0,this.startCol=0,this.endCol=0,this.selectionStart=void 0,this.selectionEnd=void 0}update(p,h,v,_=!1){if(this.selectionStart=h,this.selectionEnd=v,!h||!v||h[0]===v[0]&&h[1]===v[1])return void this.clear();const k=p.buffers.active.ydisp,w=h[1]-k,y=v[1]-k,x=Math.max(w,0),g=Math.min(y,p.rows-1);x>=p.rows||g<0?this.clear():(this.hasSelection=!0,this.columnSelectMode=_,this.viewportStartRow=w,this.viewportEndRow=y,this.viewportCappedStartRow=x,this.viewportCappedEndRow=g,this.startCol=h[0],this.endCol=v[0])}isCellSelected(p,h,v){return!!this.hasSelection&&(v-=p.buffer.active.viewportY,this.columnSelectMode?this.startCol<=this.endCol?h>=this.startCol&&v>=this.viewportCappedStartRow&&h<this.endCol&&v<=this.viewportCappedEndRow:h<this.startCol&&v>=this.viewportCappedStartRow&&h>=this.endCol&&v<=this.viewportCappedEndRow:v>this.viewportStartRow&&v<this.viewportEndRow||this.viewportStartRow===this.viewportEndRow&&v===this.viewportStartRow&&h>=this.startCol&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&v===this.viewportEndRow&&h<this.endCol||this.viewportStartRow<this.viewportEndRow&&v===this.viewportStartRow&&h>=this.startCol)}}l.createSelectionRenderModel=function(){return new u}},456:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionModel=void 0,l.SelectionModel=class{constructor(u){this._bufferService=u,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?u%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)-1]:[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[u,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const u=this.selectionStart[0]+this.selectionStartLength;return u>this._bufferService.cols?[u%this._bufferService.cols,this.selectionStart[1]+Math.floor(u/this._bufferService.cols)]:[Math.max(u,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const u=this.selectionStart,f=this.selectionEnd;return!(!u||!f)&&(u[1]>f[1]||u[1]===f[1]&&u[0]>f[0])}handleTrim(u){return this.selectionStart&&(this.selectionStart[1]-=u),this.selectionEnd&&(this.selectionEnd[1]-=u),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,N){var T,P=arguments.length,E=P<3?b:N===null?N=Object.getOwnPropertyDescriptor(b,j):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,b,j,N);else for(var L=g.length-1;L>=0;L--)(T=g[L])&&(E=(P<3?T(E):P>3?T(b,j,E):T(b,j))||E);return P>3&&E&&Object.defineProperty(b,j,E),E},p=this&&this.__param||function(g,b){return function(j,N){b(j,N,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharSizeService=void 0;const h=u(2585),v=u(8460),_=u(844);let k=l.CharSizeService=class extends _.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(g,b,j){super(),this._optionsService=j,this.width=0,this.height=0,this._onCharSizeChange=this.register(new v.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event;try{this._measureStrategy=this.register(new x(this._optionsService))}catch{this._measureStrategy=this.register(new y(g,b,this._optionsService))}this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],(()=>this.measure())))}measure(){const g=this._measureStrategy.measure();g.width===this.width&&g.height===this.height||(this.width=g.width,this.height=g.height,this._onCharSizeChange.fire())}};l.CharSizeService=k=f([p(2,h.IOptionsService)],k);class w extends _.Disposable{constructor(){super(...arguments),this._result={width:0,height:0}}_validateAndSet(b,j){b!==void 0&&b>0&&j!==void 0&&j>0&&(this._result.width=b,this._result.height=j)}}class y extends w{constructor(b,j,N){super(),this._document=b,this._parentElement=j,this._optionsService=N,this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){return this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`,this._validateAndSet(Number(this._measureElement.offsetWidth)/32,Number(this._measureElement.offsetHeight)),this._result}}class x extends w{constructor(b){super(),this._optionsService=b,this._canvas=new OffscreenCanvas(100,100),this._ctx=this._canvas.getContext("2d");const j=this._ctx.measureText("W");if(!("width"in j&&"fontBoundingBoxAscent"in j&&"fontBoundingBoxDescent"in j))throw new Error("Required font metrics not supported")}measure(){this._ctx.font=`${this._optionsService.rawOptions.fontSize}px ${this._optionsService.rawOptions.fontFamily}`;const b=this._ctx.measureText("W");return this._validateAndSet(b.width,b.fontBoundingBoxAscent+b.fontBoundingBoxDescent),this._result}}},4269:function(c,l,u){var f=this&&this.__decorate||function(x,g,b,j){var N,T=arguments.length,P=T<3?g:j===null?j=Object.getOwnPropertyDescriptor(g,b):j;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(x,g,b,j);else for(var E=x.length-1;E>=0;E--)(N=x[E])&&(P=(T<3?N(P):T>3?N(g,b,P):N(g,b))||P);return T>3&&P&&Object.defineProperty(g,b,P),P},p=this&&this.__param||function(x,g){return function(b,j){g(b,j,x)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CharacterJoinerService=l.JoinedCellData=void 0;const h=u(3734),v=u(643),_=u(511),k=u(2585);class w extends h.AttributeData{constructor(g,b,j){super(),this.content=0,this.combinedData="",this.fg=g.fg,this.bg=g.bg,this.combinedData=b,this._width=j}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(g){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.JoinedCellData=w;let y=l.CharacterJoinerService=class ij{constructor(g){this._bufferService=g,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new _.CellData}register(g){const b={id:this._nextCharacterJoinerId++,handler:g};return this._characterJoiners.push(b),b.id}deregister(g){for(let b=0;b<this._characterJoiners.length;b++)if(this._characterJoiners[b].id===g)return this._characterJoiners.splice(b,1),!0;return!1}getJoinedCharacters(g){if(this._characterJoiners.length===0)return[];const b=this._bufferService.buffer.lines.get(g);if(!b||b.length===0)return[];const j=[],N=b.translateToString(!0);let T=0,P=0,E=0,L=b.getFg(0),z=b.getBg(0);for(let F=0;F<b.getTrimmedLength();F++)if(b.loadCell(F,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==L||this._workCell.bg!==z){if(F-T>1){const V=this._getJoinedRanges(N,E,P,b,T);for(let U=0;U<V.length;U++)j.push(V[U])}T=F,E=P,L=this._workCell.fg,z=this._workCell.bg}P+=this._workCell.getChars().length||v.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-T>1){const F=this._getJoinedRanges(N,E,P,b,T);for(let V=0;V<F.length;V++)j.push(F[V])}return j}_getJoinedRanges(g,b,j,N,T){const P=g.substring(b,j);let E=[];try{E=this._characterJoiners[0].handler(P)}catch(L){console.error(L)}for(let L=1;L<this._characterJoiners.length;L++)try{const z=this._characterJoiners[L].handler(P);for(let F=0;F<z.length;F++)ij._mergeRanges(E,z[F])}catch(z){console.error(z)}return this._stringRangesToCellRanges(E,N,T),E}_stringRangesToCellRanges(g,b,j){let N=0,T=!1,P=0,E=g[N];if(E){for(let L=j;L<this._bufferService.cols;L++){const z=b.getWidth(L),F=b.getString(L).length||v.WHITESPACE_CELL_CHAR.length;if(z!==0){if(!T&&E[0]<=P&&(E[0]=L,T=!0),E[1]<=P){if(E[1]=L,E=g[++N],!E)break;E[0]<=P?(E[0]=L,T=!0):T=!1}P+=F}}E&&(E[1]=this._bufferService.cols)}}static _mergeRanges(g,b){let j=!1;for(let N=0;N<g.length;N++){const T=g[N];if(j){if(b[1]<=T[0])return g[N-1][1]=b[1],g;if(b[1]<=T[1])return g[N-1][1]=Math.max(b[1],T[1]),g.splice(N,1),g;g.splice(N,1),N--}else{if(b[1]<=T[0])return g.splice(N,0,b),g;if(b[1]<=T[1])return T[0]=Math.min(b[0],T[0]),g;b[0]<T[1]&&(T[0]=Math.min(b[0],T[0]),j=!0)}}return j?g[g.length-1][1]=b[1]:g.push(b),g}};l.CharacterJoinerService=y=f([p(0,k.IBufferService)],y)},5114:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreBrowserService=void 0;const f=u(844),p=u(8460),h=u(3656);class v extends f.Disposable{constructor(w,y,x){super(),this._textarea=w,this._window=y,this.mainDocument=x,this._isFocused=!1,this._cachedIsFocused=void 0,this._screenDprMonitor=new _(this._window),this._onDprChange=this.register(new p.EventEmitter),this.onDprChange=this._onDprChange.event,this._onWindowChange=this.register(new p.EventEmitter),this.onWindowChange=this._onWindowChange.event,this.register(this.onWindowChange((g=>this._screenDprMonitor.setWindow(g)))),this.register((0,p.forwardEvent)(this._screenDprMonitor.onDprChange,this._onDprChange)),this._textarea.addEventListener("focus",(()=>this._isFocused=!0)),this._textarea.addEventListener("blur",(()=>this._isFocused=!1))}get window(){return this._window}set window(w){this._window!==w&&(this._window=w,this._onWindowChange.fire(this._window))}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask((()=>this._cachedIsFocused=void 0))),this._cachedIsFocused}}l.CoreBrowserService=v;class _ extends f.Disposable{constructor(w){super(),this._parentWindow=w,this._windowResizeListener=this.register(new f.MutableDisposable),this._onDprChange=this.register(new p.EventEmitter),this.onDprChange=this._onDprChange.event,this._outerListener=()=>this._setDprAndFireIfDiffers(),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._updateDpr(),this._setWindowResizeListener(),this.register((0,f.toDisposable)((()=>this.clearListener())))}setWindow(w){this._parentWindow=w,this._setWindowResizeListener(),this._setDprAndFireIfDiffers()}_setWindowResizeListener(){this._windowResizeListener.value=(0,h.addDisposableDomListener)(this._parentWindow,"resize",(()=>this._setDprAndFireIfDiffers()))}_setDprAndFireIfDiffers(){this._parentWindow.devicePixelRatio!==this._currentDevicePixelRatio&&this._onDprChange.fire(this._parentWindow.devicePixelRatio),this._updateDpr()}_updateDpr(){var w;this._outerListener&&((w=this._resolutionMediaMatchList)==null||w.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._outerListener=void 0)}}},779:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.LinkProviderService=void 0;const f=u(844);class p extends f.Disposable{constructor(){super(),this.linkProviders=[],this.register((0,f.toDisposable)((()=>this.linkProviders.length=0)))}registerLinkProvider(v){return this.linkProviders.push(v),{dispose:()=>{const _=this.linkProviders.indexOf(v);_!==-1&&this.linkProviders.splice(_,1)}}}}l.LinkProviderService=p},8934:function(c,l,u){var f=this&&this.__decorate||function(k,w,y,x){var g,b=arguments.length,j=b<3?w:x===null?x=Object.getOwnPropertyDescriptor(w,y):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(k,w,y,x);else for(var N=k.length-1;N>=0;N--)(g=k[N])&&(j=(b<3?g(j):b>3?g(w,y,j):g(w,y))||j);return b>3&&j&&Object.defineProperty(w,y,j),j},p=this&&this.__param||function(k,w){return function(y,x){w(y,x,k)}};Object.defineProperty(l,"__esModule",{value:!0}),l.MouseService=void 0;const h=u(4725),v=u(9806);let _=l.MouseService=class{constructor(k,w){this._renderService=k,this._charSizeService=w}getCoords(k,w,y,x,g){return(0,v.getCoords)(window,k,w,y,x,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,g)}getMouseReportCoords(k,w){const y=(0,v.getCoordsRelativeToElement)(window,k,w);if(this._charSizeService.hasValidSize)return y[0]=Math.min(Math.max(y[0],0),this._renderService.dimensions.css.canvas.width-1),y[1]=Math.min(Math.max(y[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(y[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(y[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(y[0]),y:Math.floor(y[1])}}};l.MouseService=_=f([p(0,h.IRenderService),p(1,h.ICharSizeService)],_)},3230:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,N){var T,P=arguments.length,E=P<3?b:N===null?N=Object.getOwnPropertyDescriptor(b,j):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,b,j,N);else for(var L=g.length-1;L>=0;L--)(T=g[L])&&(E=(P<3?T(E):P>3?T(b,j,E):T(b,j))||E);return P>3&&E&&Object.defineProperty(b,j,E),E},p=this&&this.__param||function(g,b){return function(j,N){b(j,N,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.RenderService=void 0;const h=u(6193),v=u(4725),_=u(8460),k=u(844),w=u(7226),y=u(2585);let x=l.RenderService=class extends k.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(g,b,j,N,T,P,E,L){super(),this._rowCount=g,this._charSizeService=N,this._renderer=this.register(new k.MutableDisposable),this._pausedResizeTask=new w.DebouncedIdleTask,this._observerDisposable=this.register(new k.MutableDisposable),this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new _.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new _.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new _.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new _.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer(((z,F)=>this._renderRows(z,F)),E),this.register(this._renderDebouncer),this.register(E.onDprChange((()=>this.handleDevicePixelRatioChange()))),this.register(P.onResize((()=>this._fullRefresh()))),this.register(P.buffers.onBufferActivate((()=>{var z;return(z=this._renderer.value)==null?void 0:z.clear()}))),this.register(j.onOptionChange((()=>this._handleOptionsChanged()))),this.register(this._charSizeService.onCharSizeChange((()=>this.handleCharSizeChanged()))),this.register(T.onDecorationRegistered((()=>this._fullRefresh()))),this.register(T.onDecorationRemoved((()=>this._fullRefresh()))),this.register(j.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio","rescaleOverlappingGlyphs"],(()=>{this.clear(),this.handleResize(P.cols,P.rows),this._fullRefresh()}))),this.register(j.onMultipleOptionChange(["cursorBlink","cursorStyle"],(()=>this.refreshRows(P.buffer.y,P.buffer.y,!0)))),this.register(L.onChangeColors((()=>this._fullRefresh()))),this._registerIntersectionObserver(E.window,b),this.register(E.onWindowChange((z=>this._registerIntersectionObserver(z,b))))}_registerIntersectionObserver(g,b){if("IntersectionObserver"in g){const j=new g.IntersectionObserver((N=>this._handleIntersectionChange(N[N.length-1])),{threshold:0});j.observe(b),this._observerDisposable.value=(0,k.toDisposable)((()=>j.disconnect()))}}_handleIntersectionChange(g){this._isPaused=g.isIntersecting===void 0?g.intersectionRatio===0:!g.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(g,b,j=!1){this._isPaused?this._needsFullRefresh=!0:(j||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(g,b,this._rowCount))}_renderRows(g,b){this._renderer.value&&(g=Math.min(g,this._rowCount-1),b=Math.min(b,this._rowCount-1),this._renderer.value.renderRows(g,b),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:g,end:b}),this._onRender.fire({start:g,end:b}),this._isNextRenderRedrawOnly=!0)}resize(g,b){this._rowCount=b,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(g){this._renderer.value=g,this._renderer.value&&(this._renderer.value.onRequestRedraw((b=>this.refreshRows(b.start,b.end,!0))),this._needsSelectionRefresh=!0,this._fullRefresh())}addRefreshCallback(g){return this._renderDebouncer.addRefreshCallback(g)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var g,b;this._renderer.value&&((b=(g=this._renderer.value).clearTextureAtlas)==null||b.call(g),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(g,b){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set((()=>{var j;return(j=this._renderer.value)==null?void 0:j.handleResize(g,b)})):this._renderer.value.handleResize(g,b),this._fullRefresh())}handleCharSizeChanged(){var g;(g=this._renderer.value)==null||g.handleCharSizeChanged()}handleBlur(){var g;(g=this._renderer.value)==null||g.handleBlur()}handleFocus(){var g;(g=this._renderer.value)==null||g.handleFocus()}handleSelectionChanged(g,b,j){var N;this._selectionState.start=g,this._selectionState.end=b,this._selectionState.columnSelectMode=j,(N=this._renderer.value)==null||N.handleSelectionChanged(g,b,j)}handleCursorMove(){var g;(g=this._renderer.value)==null||g.handleCursorMove()}clear(){var g;(g=this._renderer.value)==null||g.clear()}};l.RenderService=x=f([p(2,y.IOptionsService),p(3,v.ICharSizeService),p(4,y.IDecorationService),p(5,y.IBufferService),p(6,v.ICoreBrowserService),p(7,v.IThemeService)],x)},9312:function(c,l,u){var f=this&&this.__decorate||function(E,L,z,F){var V,U=arguments.length,X=U<3?L:F===null?F=Object.getOwnPropertyDescriptor(L,z):F;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(E,L,z,F);else for(var K=E.length-1;K>=0;K--)(V=E[K])&&(X=(U<3?V(X):U>3?V(L,z,X):V(L,z))||X);return U>3&&X&&Object.defineProperty(L,z,X),X},p=this&&this.__param||function(E,L){return function(z,F){L(z,F,E)}};Object.defineProperty(l,"__esModule",{value:!0}),l.SelectionService=void 0;const h=u(9806),v=u(9504),_=u(456),k=u(4725),w=u(8460),y=u(844),x=u(6114),g=u(4841),b=u(511),j=u(2585),N="",T=new RegExp(N,"g");let P=l.SelectionService=class extends y.Disposable{constructor(E,L,z,F,V,U,X,K,q){super(),this._element=E,this._screenElement=L,this._linkifier=z,this._bufferService=F,this._coreService=V,this._mouseService=U,this._optionsService=X,this._renderService=K,this._coreBrowserService=q,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new b.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new w.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new w.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new w.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new w.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=G=>this._handleMouseMove(G),this._mouseUpListener=G=>this._handleMouseUp(G),this._coreService.onUserInput((()=>{this.hasSelection&&this.clearSelection()})),this._trimListener=this._bufferService.buffer.lines.onTrim((G=>this._handleTrim(G))),this.register(this._bufferService.buffers.onBufferActivate((G=>this._handleBufferActivate(G)))),this.enable(),this._model=new _.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,y.toDisposable)((()=>{this._removeMouseDownListeners()})))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const E=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;return!(!E||!L||E[0]===L[0]&&E[1]===L[1])}get selectionText(){const E=this._model.finalSelectionStart,L=this._model.finalSelectionEnd;if(!E||!L)return"";const z=this._bufferService.buffer,F=[];if(this._activeSelectionMode===3){if(E[0]===L[0])return"";const V=E[0]<L[0]?E[0]:L[0],U=E[0]<L[0]?L[0]:E[0];for(let X=E[1];X<=L[1];X++){const K=z.translateBufferLineToString(X,!0,V,U);F.push(K)}}else{const V=E[1]===L[1]?L[0]:void 0;F.push(z.translateBufferLineToString(E[1],!0,E[0],V));for(let U=E[1]+1;U<=L[1]-1;U++){const X=z.lines.get(U),K=z.translateBufferLineToString(U,!0);X!=null&&X.isWrapped?F[F.length-1]+=K:F.push(K)}if(E[1]!==L[1]){const U=z.lines.get(L[1]),X=z.translateBufferLineToString(L[1],!0,0,L[0]);U&&U.isWrapped?F[F.length-1]+=X:F.push(X)}}return F.map((V=>V.replace(T," "))).join(x.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(E){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame((()=>this._refresh()))),x.isLinux&&E&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(E){const L=this._getMouseBufferCoords(E),z=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!!(z&&F&&L)&&this._areCoordsInSelection(L,z,F)}isCellInSelection(E,L){const z=this._model.finalSelectionStart,F=this._model.finalSelectionEnd;return!(!z||!F)&&this._areCoordsInSelection([E,L],z,F)}_areCoordsInSelection(E,L,z){return E[1]>L[1]&&E[1]<z[1]||L[1]===z[1]&&E[1]===L[1]&&E[0]>=L[0]&&E[0]<z[0]||L[1]<z[1]&&E[1]===z[1]&&E[0]<z[0]||L[1]<z[1]&&E[1]===L[1]&&E[0]>=L[0]}_selectWordAtCursor(E,L){var V,U;const z=(U=(V=this._linkifier.currentLink)==null?void 0:V.link)==null?void 0:U.range;if(z)return this._model.selectionStart=[z.start.x-1,z.start.y-1],this._model.selectionStartLength=(0,g.getRangeLength)(z,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const F=this._getMouseBufferCoords(E);return!!F&&(this._selectWordAt(F,L),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(E,L){this._model.clearSelection(),E=Math.max(E,0),L=Math.min(L,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,E],this._model.selectionEnd=[this._bufferService.cols,L],this.refresh(),this._onSelectionChange.fire()}_handleTrim(E){this._model.handleTrim(E)&&this.refresh()}_getMouseBufferCoords(E){const L=this._mouseService.getCoords(E,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(L)return L[0]--,L[1]--,L[1]+=this._bufferService.buffer.ydisp,L}_getMouseEventScrollAmount(E){let L=(0,h.getCoordsRelativeToElement)(this._coreBrowserService.window,E,this._screenElement)[1];const z=this._renderService.dimensions.css.canvas.height;return L>=0&&L<=z?0:(L>z&&(L-=z),L=Math.min(Math.max(L,-50),50),L/=50,L/Math.abs(L)+Math.round(14*L))}shouldForceSelection(E){return x.isMac?E.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:E.shiftKey}handleMouseDown(E){if(this._mouseDownTimeStamp=E.timeStamp,(E.button!==2||!this.hasSelection)&&E.button===0){if(!this._enabled){if(!this.shouldForceSelection(E))return;E.stopPropagation()}E.preventDefault(),this._dragScrollAmount=0,this._enabled&&E.shiftKey?this._handleIncrementalClick(E):E.detail===1?this._handleSingleClick(E):E.detail===2?this._handleDoubleClick(E):E.detail===3&&this._handleTripleClick(E),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval((()=>this._dragScroll()),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(E){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(E))}_handleSingleClick(E){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(E)?3:0,this._model.selectionStart=this._getMouseBufferCoords(E),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const L=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);L&&L.length!==this._model.selectionStart[0]&&L.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(E){this._selectWordAtCursor(E,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(E){const L=this._getMouseBufferCoords(E);L&&(this._activeSelectionMode=2,this._selectLineAt(L[1]))}shouldColumnSelect(E){return E.altKey&&!(x.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(E){if(E.stopImmediatePropagation(),!this._model.selectionStart)return;const L=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(E),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(E),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const z=this._bufferService.buffer;if(this._model.selectionEnd[1]<z.lines.length){const F=z.lines.get(this._model.selectionEnd[1]);F&&F.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]<this._bufferService.cols&&this._model.selectionEnd[0]++}L&&L[0]===this._model.selectionEnd[0]&&L[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const E=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(E.ydisp+this._bufferService.rows,E.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=E.ydisp),this.refresh()}}_handleMouseUp(E){const L=E.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&L<500&&E.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const z=this._mouseService.getCoords(E,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(z&&z[0]!==void 0&&z[1]!==void 0){const F=(0,v.moveToCellSequence)(z[0]-1,z[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(F,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const E=this._model.finalSelectionStart,L=this._model.finalSelectionEnd,z=!(!E||!L||E[0]===L[0]&&E[1]===L[1]);z?E&&L&&(this._oldSelectionStart&&this._oldSelectionEnd&&E[0]===this._oldSelectionStart[0]&&E[1]===this._oldSelectionStart[1]&&L[0]===this._oldSelectionEnd[0]&&L[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(E,L,z)):this._oldHasSelection&&this._fireOnSelectionChange(E,L,z)}_fireOnSelectionChange(E,L,z){this._oldSelectionStart=E,this._oldSelectionEnd=L,this._oldHasSelection=z,this._onSelectionChange.fire()}_handleBufferActivate(E){this.clearSelection(),this._trimListener.dispose(),this._trimListener=E.activeBuffer.lines.onTrim((L=>this._handleTrim(L)))}_convertViewportColToCharacterIndex(E,L){let z=L;for(let F=0;L>=F;F++){const V=E.loadCell(F,this._workCell).getChars().length;this._workCell.getWidth()===0?z--:V>1&&L!==F&&(z+=V-1)}return z}setSelection(E,L,z){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[E,L],this._model.selectionStartLength=z,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(E){this._isClickInSelection(E)||(this._selectWordAtCursor(E,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(E,L,z=!0,F=!0){if(E[0]>=this._bufferService.cols)return;const V=this._bufferService.buffer,U=V.lines.get(E[1]);if(!U)return;const X=V.translateBufferLineToString(E[1],!1);let K=this._convertViewportColToCharacterIndex(U,E[0]),q=K;const G=E[0]-K;let B=0,D=0,A=0,I=0;if(X.charAt(K)===" "){for(;K>0&&X.charAt(K-1)===" ";)K--;for(;q<X.length&&X.charAt(q+1)===" ";)q++}else{let re=E[0],ue=E[0];U.getWidth(re)===0&&(B++,re--),U.getWidth(ue)===2&&(D++,ue++);const he=U.getString(ue).length;for(he>1&&(I+=he-1,q+=he-1);re>0&&K>0&&!this._isCharWordSeparator(U.loadCell(re-1,this._workCell));){U.loadCell(re-1,this._workCell);const Y=this._workCell.getChars().length;this._workCell.getWidth()===0?(B++,re--):Y>1&&(A+=Y-1,K-=Y-1),K--,re--}for(;ue<U.length&&q+1<X.length&&!this._isCharWordSeparator(U.loadCell(ue+1,this._workCell));){U.loadCell(ue+1,this._workCell);const Y=this._workCell.getChars().length;this._workCell.getWidth()===2?(D++,ue++):Y>1&&(I+=Y-1,q+=Y-1),q++,ue++}}q++;let W=K+G-B+A,O=Math.min(this._bufferService.cols,q-K+B+D-A-I);if(L||X.slice(K,q).trim()!==""){if(z&&W===0&&U.getCodePoint(0)!==32){const re=V.lines.get(E[1]-1);if(re&&U.isWrapped&&re.getCodePoint(this._bufferService.cols-1)!==32){const ue=this._getWordAt([this._bufferService.cols-1,E[1]-1],!1,!0,!1);if(ue){const he=this._bufferService.cols-ue.start;W-=he,O+=he}}}if(F&&W+O===this._bufferService.cols&&U.getCodePoint(this._bufferService.cols-1)!==32){const re=V.lines.get(E[1]+1);if(re!=null&&re.isWrapped&&re.getCodePoint(0)!==32){const ue=this._getWordAt([0,E[1]+1],!1,!1,!0);ue&&(O+=ue.length)}}return{start:W,length:O}}}_selectWordAt(E,L){const z=this._getWordAt(E,L);if(z){for(;z.start<0;)z.start+=this._bufferService.cols,E[1]--;this._model.selectionStart=[z.start,E[1]],this._model.selectionStartLength=z.length}}_selectToWordAt(E){const L=this._getWordAt(E,!0);if(L){let z=E[1];for(;L.start<0;)L.start+=this._bufferService.cols,z--;if(!this._model.areSelectionValuesReversed())for(;L.start+L.length>this._bufferService.cols;)L.length-=this._bufferService.cols,z++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?L.start:L.start+L.length,z]}}_isCharWordSeparator(E){return E.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(E.getChars())>=0}_selectLineAt(E){const L=this._bufferService.buffer.getWrappedRangeForLine(E),z={start:{x:0,y:L.first},end:{x:this._bufferService.cols-1,y:L.last}};this._model.selectionStart=[0,L.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,g.getRangeLength)(z,this._bufferService.cols)}};l.SelectionService=P=f([p(3,j.IBufferService),p(4,j.ICoreService),p(5,k.IMouseService),p(6,j.IOptionsService),p(7,k.IRenderService),p(8,k.ICoreBrowserService)],P)},4725:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ILinkProviderService=l.IThemeService=l.ICharacterJoinerService=l.ISelectionService=l.IRenderService=l.IMouseService=l.ICoreBrowserService=l.ICharSizeService=void 0;const f=u(8343);l.ICharSizeService=(0,f.createDecorator)("CharSizeService"),l.ICoreBrowserService=(0,f.createDecorator)("CoreBrowserService"),l.IMouseService=(0,f.createDecorator)("MouseService"),l.IRenderService=(0,f.createDecorator)("RenderService"),l.ISelectionService=(0,f.createDecorator)("SelectionService"),l.ICharacterJoinerService=(0,f.createDecorator)("CharacterJoinerService"),l.IThemeService=(0,f.createDecorator)("ThemeService"),l.ILinkProviderService=(0,f.createDecorator)("LinkProviderService")},6731:function(c,l,u){var f=this&&this.__decorate||function(P,E,L,z){var F,V=arguments.length,U=V<3?E:z===null?z=Object.getOwnPropertyDescriptor(E,L):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")U=Reflect.decorate(P,E,L,z);else for(var X=P.length-1;X>=0;X--)(F=P[X])&&(U=(V<3?F(U):V>3?F(E,L,U):F(E,L))||U);return V>3&&U&&Object.defineProperty(E,L,U),U},p=this&&this.__param||function(P,E){return function(L,z){E(L,z,P)}};Object.defineProperty(l,"__esModule",{value:!0}),l.ThemeService=l.DEFAULT_ANSI_COLORS=void 0;const h=u(7239),v=u(8055),_=u(8460),k=u(844),w=u(2585),y=v.css.toColor("#ffffff"),x=v.css.toColor("#000000"),g=v.css.toColor("#ffffff"),b=v.css.toColor("#000000"),j={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};l.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const P=[v.css.toColor("#2e3436"),v.css.toColor("#cc0000"),v.css.toColor("#4e9a06"),v.css.toColor("#c4a000"),v.css.toColor("#3465a4"),v.css.toColor("#75507b"),v.css.toColor("#06989a"),v.css.toColor("#d3d7cf"),v.css.toColor("#555753"),v.css.toColor("#ef2929"),v.css.toColor("#8ae234"),v.css.toColor("#fce94f"),v.css.toColor("#729fcf"),v.css.toColor("#ad7fa8"),v.css.toColor("#34e2e2"),v.css.toColor("#eeeeec")],E=[0,95,135,175,215,255];for(let L=0;L<216;L++){const z=E[L/36%6|0],F=E[L/6%6|0],V=E[L%6];P.push({css:v.channels.toCss(z,F,V),rgba:v.channels.toRgba(z,F,V)})}for(let L=0;L<24;L++){const z=8+10*L;P.push({css:v.channels.toCss(z,z,z),rgba:v.channels.toRgba(z,z,z)})}return P})());let N=l.ThemeService=class extends k.Disposable{get colors(){return this._colors}constructor(P){super(),this._optionsService=P,this._contrastCache=new h.ColorContrastCache,this._halfContrastCache=new h.ColorContrastCache,this._onChangeColors=this.register(new _.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:y,background:x,cursor:g,cursorAccent:b,selectionForeground:void 0,selectionBackgroundTransparent:j,selectionBackgroundOpaque:v.color.blend(x,j),selectionInactiveBackgroundTransparent:j,selectionInactiveBackgroundOpaque:v.color.blend(x,j),ansi:l.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",(()=>this._contrastCache.clear()))),this.register(this._optionsService.onSpecificOptionChange("theme",(()=>this._setTheme(this._optionsService.rawOptions.theme))))}_setTheme(P={}){const E=this._colors;if(E.foreground=T(P.foreground,y),E.background=T(P.background,x),E.cursor=T(P.cursor,g),E.cursorAccent=T(P.cursorAccent,b),E.selectionBackgroundTransparent=T(P.selectionBackground,j),E.selectionBackgroundOpaque=v.color.blend(E.background,E.selectionBackgroundTransparent),E.selectionInactiveBackgroundTransparent=T(P.selectionInactiveBackground,E.selectionBackgroundTransparent),E.selectionInactiveBackgroundOpaque=v.color.blend(E.background,E.selectionInactiveBackgroundTransparent),E.selectionForeground=P.selectionForeground?T(P.selectionForeground,v.NULL_COLOR):void 0,E.selectionForeground===v.NULL_COLOR&&(E.selectionForeground=void 0),v.color.isOpaque(E.selectionBackgroundTransparent)&&(E.selectionBackgroundTransparent=v.color.opacity(E.selectionBackgroundTransparent,.3)),v.color.isOpaque(E.selectionInactiveBackgroundTransparent)&&(E.selectionInactiveBackgroundTransparent=v.color.opacity(E.selectionInactiveBackgroundTransparent,.3)),E.ansi=l.DEFAULT_ANSI_COLORS.slice(),E.ansi[0]=T(P.black,l.DEFAULT_ANSI_COLORS[0]),E.ansi[1]=T(P.red,l.DEFAULT_ANSI_COLORS[1]),E.ansi[2]=T(P.green,l.DEFAULT_ANSI_COLORS[2]),E.ansi[3]=T(P.yellow,l.DEFAULT_ANSI_COLORS[3]),E.ansi[4]=T(P.blue,l.DEFAULT_ANSI_COLORS[4]),E.ansi[5]=T(P.magenta,l.DEFAULT_ANSI_COLORS[5]),E.ansi[6]=T(P.cyan,l.DEFAULT_ANSI_COLORS[6]),E.ansi[7]=T(P.white,l.DEFAULT_ANSI_COLORS[7]),E.ansi[8]=T(P.brightBlack,l.DEFAULT_ANSI_COLORS[8]),E.ansi[9]=T(P.brightRed,l.DEFAULT_ANSI_COLORS[9]),E.ansi[10]=T(P.brightGreen,l.DEFAULT_ANSI_COLORS[10]),E.ansi[11]=T(P.brightYellow,l.DEFAULT_ANSI_COLORS[11]),E.ansi[12]=T(P.brightBlue,l.DEFAULT_ANSI_COLORS[12]),E.ansi[13]=T(P.brightMagenta,l.DEFAULT_ANSI_COLORS[13]),E.ansi[14]=T(P.brightCyan,l.DEFAULT_ANSI_COLORS[14]),E.ansi[15]=T(P.brightWhite,l.DEFAULT_ANSI_COLORS[15]),P.extendedAnsi){const L=Math.min(E.ansi.length-16,P.extendedAnsi.length);for(let z=0;z<L;z++)E.ansi[z+16]=T(P.extendedAnsi[z],l.DEFAULT_ANSI_COLORS[z+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(P){this._restoreColor(P),this._onChangeColors.fire(this.colors)}_restoreColor(P){if(P!==void 0)switch(P){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[P]=this._restoreColors.ansi[P]}else for(let E=0;E<this._restoreColors.ansi.length;++E)this._colors.ansi[E]=this._restoreColors.ansi[E]}modifyColors(P){P(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function T(P,E){if(P!==void 0)try{return v.css.toColor(P)}catch{}return E}l.ThemeService=N=f([p(0,w.IOptionsService)],N)},6349:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CircularList=void 0;const f=u(8460),p=u(844);class h extends p.Disposable{constructor(_){super(),this._maxLength=_,this.onDeleteEmitter=this.register(new f.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new f.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new f.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(_){if(this._maxLength===_)return;const k=new Array(_);for(let w=0;w<Math.min(_,this.length);w++)k[w]=this._array[this._getCyclicIndex(w)];this._array=k,this._maxLength=_,this._startIndex=0}get length(){return this._length}set length(_){if(_>this._length)for(let k=this._length;k<_;k++)this._array[k]=void 0;this._length=_}get(_){return this._array[this._getCyclicIndex(_)]}set(_,k){this._array[this._getCyclicIndex(_)]=k}push(_){this._array[this._getCyclicIndex(this._length)]=_,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(_,k,...w){if(k){for(let y=_;y<this._length-k;y++)this._array[this._getCyclicIndex(y)]=this._array[this._getCyclicIndex(y+k)];this._length-=k,this.onDeleteEmitter.fire({index:_,amount:k})}for(let y=this._length-1;y>=_;y--)this._array[this._getCyclicIndex(y+w.length)]=this._array[this._getCyclicIndex(y)];for(let y=0;y<w.length;y++)this._array[this._getCyclicIndex(_+y)]=w[y];if(w.length&&this.onInsertEmitter.fire({index:_,amount:w.length}),this._length+w.length>this._maxLength){const y=this._length+w.length-this._maxLength;this._startIndex+=y,this._length=this._maxLength,this.onTrimEmitter.fire(y)}else this._length+=w.length}trimStart(_){_>this._length&&(_=this._length),this._startIndex+=_,this._length-=_,this.onTrimEmitter.fire(_)}shiftElements(_,k,w){if(!(k<=0)){if(_<0||_>=this._length)throw new Error("start argument out of range");if(_+w<0)throw new Error("Cannot shift elements in list beyond index 0");if(w>0){for(let x=k-1;x>=0;x--)this.set(_+x+w,this.get(_+x));const y=_+k+w-this._length;if(y>0)for(this._length+=y;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let y=0;y<k;y++)this.set(_+y+w,this.get(_+y))}}_getCyclicIndex(_){return(this._startIndex+_)%this._maxLength}}l.CircularList=h},1439:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.clone=void 0,l.clone=function u(f,p=5){if(typeof f!="object")return f;const h=Array.isArray(f)?[]:{};for(const v in f)h[v]=p<=1?f[v]:f[v]&&u(f[v],p-1);return h}},8055:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.contrastRatio=l.toPaddedHex=l.rgba=l.rgb=l.css=l.color=l.channels=l.NULL_COLOR=void 0;let u=0,f=0,p=0,h=0;var v,_,k,w,y;function x(b){const j=b.toString(16);return j.length<2?"0"+j:j}function g(b,j){return b<j?(j+.05)/(b+.05):(b+.05)/(j+.05)}l.NULL_COLOR={css:"#00000000",rgba:0},(function(b){b.toCss=function(j,N,T,P){return P!==void 0?`#${x(j)}${x(N)}${x(T)}${x(P)}`:`#${x(j)}${x(N)}${x(T)}`},b.toRgba=function(j,N,T,P=255){return(j<<24|N<<16|T<<8|P)>>>0},b.toColor=function(j,N,T,P){return{css:b.toCss(j,N,T,P),rgba:b.toRgba(j,N,T,P)}}})(v||(l.channels=v={})),(function(b){function j(N,T){return h=Math.round(255*T),[u,f,p]=y.toChannels(N.rgba),{css:v.toCss(u,f,p,h),rgba:v.toRgba(u,f,p,h)}}b.blend=function(N,T){if(h=(255&T.rgba)/255,h===1)return{css:T.css,rgba:T.rgba};const P=T.rgba>>24&255,E=T.rgba>>16&255,L=T.rgba>>8&255,z=N.rgba>>24&255,F=N.rgba>>16&255,V=N.rgba>>8&255;return u=z+Math.round((P-z)*h),f=F+Math.round((E-F)*h),p=V+Math.round((L-V)*h),{css:v.toCss(u,f,p),rgba:v.toRgba(u,f,p)}},b.isOpaque=function(N){return(255&N.rgba)==255},b.ensureContrastRatio=function(N,T,P){const E=y.ensureContrastRatio(N.rgba,T.rgba,P);if(E)return v.toColor(E>>24&255,E>>16&255,E>>8&255)},b.opaque=function(N){const T=(255|N.rgba)>>>0;return[u,f,p]=y.toChannels(T),{css:v.toCss(u,f,p),rgba:T}},b.opacity=j,b.multiplyOpacity=function(N,T){return h=255&N.rgba,j(N,h*T/255)},b.toColorRGB=function(N){return[N.rgba>>24&255,N.rgba>>16&255,N.rgba>>8&255]}})(_||(l.color=_={})),(function(b){let j,N;try{const T=document.createElement("canvas");T.width=1,T.height=1;const P=T.getContext("2d",{willReadFrequently:!0});P&&(j=P,j.globalCompositeOperation="copy",N=j.createLinearGradient(0,0,1,1))}catch{}b.toColor=function(T){if(T.match(/#[\da-f]{3,8}/i))switch(T.length){case 4:return u=parseInt(T.slice(1,2).repeat(2),16),f=parseInt(T.slice(2,3).repeat(2),16),p=parseInt(T.slice(3,4).repeat(2),16),v.toColor(u,f,p);case 5:return u=parseInt(T.slice(1,2).repeat(2),16),f=parseInt(T.slice(2,3).repeat(2),16),p=parseInt(T.slice(3,4).repeat(2),16),h=parseInt(T.slice(4,5).repeat(2),16),v.toColor(u,f,p,h);case 7:return{css:T,rgba:(parseInt(T.slice(1),16)<<8|255)>>>0};case 9:return{css:T,rgba:parseInt(T.slice(1),16)>>>0}}const P=T.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(P)return u=parseInt(P[1]),f=parseInt(P[2]),p=parseInt(P[3]),h=Math.round(255*(P[5]===void 0?1:parseFloat(P[5]))),v.toColor(u,f,p,h);if(!j||!N)throw new Error("css.toColor: Unsupported css format");if(j.fillStyle=N,j.fillStyle=T,typeof j.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(j.fillRect(0,0,1,1),[u,f,p,h]=j.getImageData(0,0,1,1).data,h!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:v.toRgba(u,f,p,h),css:T}}})(k||(l.css=k={})),(function(b){function j(N,T,P){const E=N/255,L=T/255,z=P/255;return .2126*(E<=.03928?E/12.92:Math.pow((E+.055)/1.055,2.4))+.7152*(L<=.03928?L/12.92:Math.pow((L+.055)/1.055,2.4))+.0722*(z<=.03928?z/12.92:Math.pow((z+.055)/1.055,2.4))}b.relativeLuminance=function(N){return j(N>>16&255,N>>8&255,255&N)},b.relativeLuminance2=j})(w||(l.rgb=w={})),(function(b){function j(T,P,E){const L=T>>24&255,z=T>>16&255,F=T>>8&255;let V=P>>24&255,U=P>>16&255,X=P>>8&255,K=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,z,F));for(;K<E&&(V>0||U>0||X>0);)V-=Math.max(0,Math.ceil(.1*V)),U-=Math.max(0,Math.ceil(.1*U)),X-=Math.max(0,Math.ceil(.1*X)),K=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,z,F));return(V<<24|U<<16|X<<8|255)>>>0}function N(T,P,E){const L=T>>24&255,z=T>>16&255,F=T>>8&255;let V=P>>24&255,U=P>>16&255,X=P>>8&255,K=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,z,F));for(;K<E&&(V<255||U<255||X<255);)V=Math.min(255,V+Math.ceil(.1*(255-V))),U=Math.min(255,U+Math.ceil(.1*(255-U))),X=Math.min(255,X+Math.ceil(.1*(255-X))),K=g(w.relativeLuminance2(V,U,X),w.relativeLuminance2(L,z,F));return(V<<24|U<<16|X<<8|255)>>>0}b.blend=function(T,P){if(h=(255&P)/255,h===1)return P;const E=P>>24&255,L=P>>16&255,z=P>>8&255,F=T>>24&255,V=T>>16&255,U=T>>8&255;return u=F+Math.round((E-F)*h),f=V+Math.round((L-V)*h),p=U+Math.round((z-U)*h),v.toRgba(u,f,p)},b.ensureContrastRatio=function(T,P,E){const L=w.relativeLuminance(T>>8),z=w.relativeLuminance(P>>8);if(g(L,z)<E){if(z<L){const U=j(T,P,E),X=g(L,w.relativeLuminance(U>>8));if(X<E){const K=N(T,P,E);return X>g(L,w.relativeLuminance(K>>8))?U:K}return U}const F=N(T,P,E),V=g(L,w.relativeLuminance(F>>8));if(V<E){const U=j(T,P,E);return V>g(L,w.relativeLuminance(U>>8))?F:U}return F}},b.reduceLuminance=j,b.increaseLuminance=N,b.toChannels=function(T){return[T>>24&255,T>>16&255,T>>8&255,255&T]}})(y||(l.rgba=y={})),l.toPaddedHex=x,l.contrastRatio=g},8969:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CoreTerminal=void 0;const f=u(844),p=u(2585),h=u(4348),v=u(7866),_=u(744),k=u(7302),w=u(6975),y=u(8460),x=u(1753),g=u(1480),b=u(7994),j=u(9282),N=u(5435),T=u(5981),P=u(2660);let E=!1;class L extends f.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new y.EventEmitter),this._onScroll.event((F=>{var V;(V=this._onScrollApi)==null||V.fire(F.position)}))),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(F){for(const V in F)this.optionsService.options[V]=F[V]}constructor(F){super(),this._windowsWrappingHeuristics=this.register(new f.MutableDisposable),this._onBinary=this.register(new y.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new y.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new y.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new y.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new y.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new y.EventEmitter),this._instantiationService=new h.InstantiationService,this.optionsService=this.register(new k.OptionsService(F)),this._instantiationService.setService(p.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(_.BufferService)),this._instantiationService.setService(p.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(v.LogService)),this._instantiationService.setService(p.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(w.CoreService)),this._instantiationService.setService(p.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(x.CoreMouseService)),this._instantiationService.setService(p.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(g.UnicodeService)),this._instantiationService.setService(p.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(b.CharsetService),this._instantiationService.setService(p.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(P.OscLinkService),this._instantiationService.setService(p.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new N.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,y.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,y.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,y.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,y.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom((()=>this.scrollToBottom()))),this.register(this.coreService.onUserInput((()=>this._writeBuffer.handleUserInput()))),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],(()=>this._handleWindowsPtyOptionChange()))),this.register(this._bufferService.onScroll((V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this.register(this._inputHandler.onScroll((V=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)}))),this._writeBuffer=this.register(new T.WriteBuffer(((V,U)=>this._inputHandler.parse(V,U)))),this.register((0,y.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(F,V){this._writeBuffer.write(F,V)}writeSync(F,V){this._logService.logLevel<=p.LogLevelEnum.WARN&&!E&&(this._logService.warn("writeSync is unreliable and will be removed soon."),E=!0),this._writeBuffer.writeSync(F,V)}input(F,V=!0){this.coreService.triggerDataEvent(F,V)}resize(F,V){isNaN(F)||isNaN(V)||(F=Math.max(F,_.MINIMUM_COLS),V=Math.max(V,_.MINIMUM_ROWS),this._bufferService.resize(F,V))}scroll(F,V=!1){this._bufferService.scroll(F,V)}scrollLines(F,V,U){this._bufferService.scrollLines(F,V,U)}scrollPages(F){this.scrollLines(F*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(F){const V=F-this._bufferService.buffer.ydisp;V!==0&&this.scrollLines(V)}registerEscHandler(F,V){return this._inputHandler.registerEscHandler(F,V)}registerDcsHandler(F,V){return this._inputHandler.registerDcsHandler(F,V)}registerCsiHandler(F,V){return this._inputHandler.registerCsiHandler(F,V)}registerOscHandler(F,V){return this._inputHandler.registerOscHandler(F,V)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let F=!1;const V=this.optionsService.rawOptions.windowsPty;V&&V.buildNumber!==void 0&&V.buildNumber!==void 0?F=V.backend==="conpty"&&V.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(F=!0),F?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const F=[];F.push(this.onLineFeed(j.updateWindowsModeWrappedState.bind(null,this._bufferService))),F.push(this.registerCsiHandler({final:"H"},(()=>((0,j.updateWindowsModeWrappedState)(this._bufferService),!1)))),this._windowsWrappingHeuristics.value=(0,f.toDisposable)((()=>{for(const V of F)V.dispose()}))}}}l.CoreTerminal=L},8460:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.runAndSubscribe=l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=u=>(this._listeners.push(u),{dispose:()=>{if(!this._disposed){for(let f=0;f<this._listeners.length;f++)if(this._listeners[f]===u)return void this._listeners.splice(f,1)}}})),this._event}fire(u,f){const p=[];for(let h=0;h<this._listeners.length;h++)p.push(this._listeners[h]);for(let h=0;h<p.length;h++)p[h].call(void 0,u,f)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(u,f){return u((p=>f.fire(p)))},l.runAndSubscribe=function(u,f){return f(void 0),u((p=>f(p)))}},5435:function(c,l,u){var f=this&&this.__decorate||function(B,D,A,I){var W,O=arguments.length,re=O<3?D:I===null?I=Object.getOwnPropertyDescriptor(D,A):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")re=Reflect.decorate(B,D,A,I);else for(var ue=B.length-1;ue>=0;ue--)(W=B[ue])&&(re=(O<3?W(re):O>3?W(D,A,re):W(D,A))||re);return O>3&&re&&Object.defineProperty(D,A,re),re},p=this&&this.__param||function(B,D){return function(A,I){D(A,I,B)}};Object.defineProperty(l,"__esModule",{value:!0}),l.InputHandler=l.WindowsOptionsReportType=void 0;const h=u(2584),v=u(7116),_=u(2015),k=u(844),w=u(482),y=u(8437),x=u(8460),g=u(643),b=u(511),j=u(3734),N=u(2585),T=u(1480),P=u(6242),E=u(6351),L=u(5941),z={"(":0,")":1,"*":2,"+":3,"-":1,".":2},F=131072;function V(B,D){if(B>24)return D.setWinLines||!1;switch(B){case 1:return!!D.restoreWin;case 2:return!!D.minimizeWin;case 3:return!!D.setWinPosition;case 4:return!!D.setWinSizePixels;case 5:return!!D.raiseWin;case 6:return!!D.lowerWin;case 7:return!!D.refreshWin;case 8:return!!D.setWinSizeChars;case 9:return!!D.maximizeWin;case 10:return!!D.fullscreenWin;case 11:return!!D.getWinState;case 13:return!!D.getWinPosition;case 14:return!!D.getWinSizePixels;case 15:return!!D.getScreenSizePixels;case 16:return!!D.getCellSizePixels;case 18:return!!D.getWinSizeChars;case 19:return!!D.getScreenSizeChars;case 20:return!!D.getIconTitle;case 21:return!!D.getWinTitle;case 22:return!!D.pushTitle;case 23:return!!D.popTitle;case 24:return!!D.setWinLines}return!1}var U;(function(B){B[B.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",B[B.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(U||(l.WindowsOptionsReportType=U={}));let X=0;class K extends k.Disposable{getAttrData(){return this._curAttrData}constructor(D,A,I,W,O,re,ue,he,Y=new _.EscapeSequenceParser){super(),this._bufferService=D,this._charsetService=A,this._coreService=I,this._logService=W,this._optionsService=O,this._oscLinkService=re,this._coreMouseService=ue,this._unicodeService=he,this._parser=Y,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new w.StringToUtf32,this._utf8Decoder=new w.Utf8ToUtf32,this._workCell=new b.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=y.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=y.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new x.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new x.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new x.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new x.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new x.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new x.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new x.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new x.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new x.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new x.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new x.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new x.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new x.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new q(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate((H=>this._activeBuffer=H.activeBuffer))),this._parser.setCsiHandlerFallback(((H,se)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(H),params:se.toArray()})})),this._parser.setEscHandlerFallback((H=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(H)})})),this._parser.setExecuteHandlerFallback((H=>{this._logService.debug("Unknown EXECUTE code: ",{code:H})})),this._parser.setOscHandlerFallback(((H,se,ee)=>{this._logService.debug("Unknown OSC code: ",{identifier:H,action:se,data:ee})})),this._parser.setDcsHandlerFallback(((H,se,ee)=>{se==="HOOK"&&(ee=ee.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(H),action:se,payload:ee})})),this._parser.setPrintHandler(((H,se,ee)=>this.print(H,se,ee))),this._parser.registerCsiHandler({final:"@"},(H=>this.insertChars(H))),this._parser.registerCsiHandler({intermediates:" ",final:"@"},(H=>this.scrollLeft(H))),this._parser.registerCsiHandler({final:"A"},(H=>this.cursorUp(H))),this._parser.registerCsiHandler({intermediates:" ",final:"A"},(H=>this.scrollRight(H))),this._parser.registerCsiHandler({final:"B"},(H=>this.cursorDown(H))),this._parser.registerCsiHandler({final:"C"},(H=>this.cursorForward(H))),this._parser.registerCsiHandler({final:"D"},(H=>this.cursorBackward(H))),this._parser.registerCsiHandler({final:"E"},(H=>this.cursorNextLine(H))),this._parser.registerCsiHandler({final:"F"},(H=>this.cursorPrecedingLine(H))),this._parser.registerCsiHandler({final:"G"},(H=>this.cursorCharAbsolute(H))),this._parser.registerCsiHandler({final:"H"},(H=>this.cursorPosition(H))),this._parser.registerCsiHandler({final:"I"},(H=>this.cursorForwardTab(H))),this._parser.registerCsiHandler({final:"J"},(H=>this.eraseInDisplay(H,!1))),this._parser.registerCsiHandler({prefix:"?",final:"J"},(H=>this.eraseInDisplay(H,!0))),this._parser.registerCsiHandler({final:"K"},(H=>this.eraseInLine(H,!1))),this._parser.registerCsiHandler({prefix:"?",final:"K"},(H=>this.eraseInLine(H,!0))),this._parser.registerCsiHandler({final:"L"},(H=>this.insertLines(H))),this._parser.registerCsiHandler({final:"M"},(H=>this.deleteLines(H))),this._parser.registerCsiHandler({final:"P"},(H=>this.deleteChars(H))),this._parser.registerCsiHandler({final:"S"},(H=>this.scrollUp(H))),this._parser.registerCsiHandler({final:"T"},(H=>this.scrollDown(H))),this._parser.registerCsiHandler({final:"X"},(H=>this.eraseChars(H))),this._parser.registerCsiHandler({final:"Z"},(H=>this.cursorBackwardTab(H))),this._parser.registerCsiHandler({final:"`"},(H=>this.charPosAbsolute(H))),this._parser.registerCsiHandler({final:"a"},(H=>this.hPositionRelative(H))),this._parser.registerCsiHandler({final:"b"},(H=>this.repeatPrecedingCharacter(H))),this._parser.registerCsiHandler({final:"c"},(H=>this.sendDeviceAttributesPrimary(H))),this._parser.registerCsiHandler({prefix:">",final:"c"},(H=>this.sendDeviceAttributesSecondary(H))),this._parser.registerCsiHandler({final:"d"},(H=>this.linePosAbsolute(H))),this._parser.registerCsiHandler({final:"e"},(H=>this.vPositionRelative(H))),this._parser.registerCsiHandler({final:"f"},(H=>this.hVPosition(H))),this._parser.registerCsiHandler({final:"g"},(H=>this.tabClear(H))),this._parser.registerCsiHandler({final:"h"},(H=>this.setMode(H))),this._parser.registerCsiHandler({prefix:"?",final:"h"},(H=>this.setModePrivate(H))),this._parser.registerCsiHandler({final:"l"},(H=>this.resetMode(H))),this._parser.registerCsiHandler({prefix:"?",final:"l"},(H=>this.resetModePrivate(H))),this._parser.registerCsiHandler({final:"m"},(H=>this.charAttributes(H))),this._parser.registerCsiHandler({final:"n"},(H=>this.deviceStatus(H))),this._parser.registerCsiHandler({prefix:"?",final:"n"},(H=>this.deviceStatusPrivate(H))),this._parser.registerCsiHandler({intermediates:"!",final:"p"},(H=>this.softReset(H))),this._parser.registerCsiHandler({intermediates:" ",final:"q"},(H=>this.setCursorStyle(H))),this._parser.registerCsiHandler({final:"r"},(H=>this.setScrollRegion(H))),this._parser.registerCsiHandler({final:"s"},(H=>this.saveCursor(H))),this._parser.registerCsiHandler({final:"t"},(H=>this.windowOptions(H))),this._parser.registerCsiHandler({final:"u"},(H=>this.restoreCursor(H))),this._parser.registerCsiHandler({intermediates:"'",final:"}"},(H=>this.insertColumns(H))),this._parser.registerCsiHandler({intermediates:"'",final:"~"},(H=>this.deleteColumns(H))),this._parser.registerCsiHandler({intermediates:'"',final:"q"},(H=>this.selectProtected(H))),this._parser.registerCsiHandler({intermediates:"$",final:"p"},(H=>this.requestMode(H,!0))),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},(H=>this.requestMode(H,!1))),this._parser.setExecuteHandler(h.C0.BEL,(()=>this.bell())),this._parser.setExecuteHandler(h.C0.LF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.VT,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.FF,(()=>this.lineFeed())),this._parser.setExecuteHandler(h.C0.CR,(()=>this.carriageReturn())),this._parser.setExecuteHandler(h.C0.BS,(()=>this.backspace())),this._parser.setExecuteHandler(h.C0.HT,(()=>this.tab())),this._parser.setExecuteHandler(h.C0.SO,(()=>this.shiftOut())),this._parser.setExecuteHandler(h.C0.SI,(()=>this.shiftIn())),this._parser.setExecuteHandler(h.C1.IND,(()=>this.index())),this._parser.setExecuteHandler(h.C1.NEL,(()=>this.nextLine())),this._parser.setExecuteHandler(h.C1.HTS,(()=>this.tabSet())),this._parser.registerOscHandler(0,new P.OscHandler((H=>(this.setTitle(H),this.setIconName(H),!0)))),this._parser.registerOscHandler(1,new P.OscHandler((H=>this.setIconName(H)))),this._parser.registerOscHandler(2,new P.OscHandler((H=>this.setTitle(H)))),this._parser.registerOscHandler(4,new P.OscHandler((H=>this.setOrReportIndexedColor(H)))),this._parser.registerOscHandler(8,new P.OscHandler((H=>this.setHyperlink(H)))),this._parser.registerOscHandler(10,new P.OscHandler((H=>this.setOrReportFgColor(H)))),this._parser.registerOscHandler(11,new P.OscHandler((H=>this.setOrReportBgColor(H)))),this._parser.registerOscHandler(12,new P.OscHandler((H=>this.setOrReportCursorColor(H)))),this._parser.registerOscHandler(104,new P.OscHandler((H=>this.restoreIndexedColor(H)))),this._parser.registerOscHandler(110,new P.OscHandler((H=>this.restoreFgColor(H)))),this._parser.registerOscHandler(111,new P.OscHandler((H=>this.restoreBgColor(H)))),this._parser.registerOscHandler(112,new P.OscHandler((H=>this.restoreCursorColor(H)))),this._parser.registerEscHandler({final:"7"},(()=>this.saveCursor())),this._parser.registerEscHandler({final:"8"},(()=>this.restoreCursor())),this._parser.registerEscHandler({final:"D"},(()=>this.index())),this._parser.registerEscHandler({final:"E"},(()=>this.nextLine())),this._parser.registerEscHandler({final:"H"},(()=>this.tabSet())),this._parser.registerEscHandler({final:"M"},(()=>this.reverseIndex())),this._parser.registerEscHandler({final:"="},(()=>this.keypadApplicationMode())),this._parser.registerEscHandler({final:">"},(()=>this.keypadNumericMode())),this._parser.registerEscHandler({final:"c"},(()=>this.fullReset())),this._parser.registerEscHandler({final:"n"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"o"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"|"},(()=>this.setgLevel(3))),this._parser.registerEscHandler({final:"}"},(()=>this.setgLevel(2))),this._parser.registerEscHandler({final:"~"},(()=>this.setgLevel(1))),this._parser.registerEscHandler({intermediates:"%",final:"@"},(()=>this.selectDefaultCharset())),this._parser.registerEscHandler({intermediates:"%",final:"G"},(()=>this.selectDefaultCharset()));for(const H in v.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:H},(()=>this.selectCharset("("+H))),this._parser.registerEscHandler({intermediates:")",final:H},(()=>this.selectCharset(")"+H))),this._parser.registerEscHandler({intermediates:"*",final:H},(()=>this.selectCharset("*"+H))),this._parser.registerEscHandler({intermediates:"+",final:H},(()=>this.selectCharset("+"+H))),this._parser.registerEscHandler({intermediates:"-",final:H},(()=>this.selectCharset("-"+H))),this._parser.registerEscHandler({intermediates:".",final:H},(()=>this.selectCharset("."+H))),this._parser.registerEscHandler({intermediates:"/",final:H},(()=>this.selectCharset("/"+H)));this._parser.registerEscHandler({intermediates:"#",final:"8"},(()=>this.screenAlignmentPattern())),this._parser.setErrorHandler((H=>(this._logService.error("Parsing error: ",H),H))),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new E.DcsHandler(((H,se)=>this.requestStatusString(H,se))))}_preserveStack(D,A,I,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=D,this._parseStack.cursorStartY=A,this._parseStack.decodedLength=I,this._parseStack.position=W}_logSlowResolvingAsync(D){this._logService.logLevel<=N.LogLevelEnum.WARN&&Promise.race([D,new Promise(((A,I)=>setTimeout((()=>I("#SLOW_TIMEOUT")),5e3)))]).catch((A=>{if(A!=="#SLOW_TIMEOUT")throw A;console.warn("async parser handler taking longer than 5000 ms")}))}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(D,A){let I,W=this._activeBuffer.x,O=this._activeBuffer.y,re=0;const ue=this._parseStack.paused;if(ue){if(I=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,A))return this._logSlowResolvingAsync(I),I;W=this._parseStack.cursorStartX,O=this._parseStack.cursorStartY,this._parseStack.paused=!1,D.length>F&&(re=this._parseStack.position+F)}if(this._logService.logLevel<=N.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof D=="string"?` "${D}"`:` "${Array.prototype.map.call(D,(H=>String.fromCharCode(H))).join("")}"`),typeof D=="string"?D.split("").map((H=>H.charCodeAt(0))):D),this._parseBuffer.length<D.length&&this._parseBuffer.length<F&&(this._parseBuffer=new Uint32Array(Math.min(D.length,F))),ue||this._dirtyRowTracker.clearRange(),D.length>F)for(let H=re;H<D.length;H+=F){const se=H+F<D.length?H+F:D.length,ee=typeof D=="string"?this._stringDecoder.decode(D.substring(H,se),this._parseBuffer):this._utf8Decoder.decode(D.subarray(H,se),this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,ee))return this._preserveStack(W,O,ee,H),this._logSlowResolvingAsync(I),I}else if(!ue){const H=typeof D=="string"?this._stringDecoder.decode(D,this._parseBuffer):this._utf8Decoder.decode(D,this._parseBuffer);if(I=this._parser.parse(this._parseBuffer,H))return this._preserveStack(W,O,H,0),this._logSlowResolvingAsync(I),I}this._activeBuffer.x===W&&this._activeBuffer.y===O||this._onCursorMove.fire();const he=this._dirtyRowTracker.end+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp),Y=this._dirtyRowTracker.start+(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp);Y<this._bufferService.rows&&this._onRequestRefreshRows.fire(Math.min(Y,this._bufferService.rows-1),Math.min(he,this._bufferService.rows-1))}print(D,A,I){let W,O;const re=this._charsetService.charset,ue=this._optionsService.rawOptions.screenReaderMode,he=this._bufferService.cols,Y=this._coreService.decPrivateModes.wraparound,H=this._coreService.modes.insertMode,se=this._curAttrData;let ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&I-A>0&&ee.getWidth(this._activeBuffer.x-1)===2&&ee.setCellFromCodepoint(this._activeBuffer.x-1,0,1,se);let Q=this._parser.precedingJoinState;for(let ne=A;ne<I;++ne){if(W=D[ne],W<127&&re){const Xe=re[String.fromCharCode(W)];Xe&&(W=Xe.charCodeAt(0))}const ye=this._unicodeService.charProperties(W,Q);O=T.UnicodeService.extractWidth(ye);const Oe=T.UnicodeService.extractShouldJoin(ye),ze=Oe?T.UnicodeService.extractWidth(Q):0;if(Q=ye,ue&&this._onA11yChar.fire((0,w.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),this._activeBuffer.x+O-ze>he){if(Y){const Xe=ee;let Te=this._activeBuffer.x-ze;for(this._activeBuffer.x=ze,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),ee=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y),ze>0&&ee instanceof y.BufferLine&&ee.copyCellsFrom(Xe,Te,0,ze,!1);Te<he;)Xe.setCellFromCodepoint(Te++,0,1,se)}else if(this._activeBuffer.x=he-1,O===2)continue}if(Oe&&this._activeBuffer.x){const Xe=ee.getWidth(this._activeBuffer.x-1)?1:2;ee.addCodepointToCell(this._activeBuffer.x-Xe,W,O);for(let Te=O-ze;--Te>=0;)ee.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}else if(H&&(ee.insertCells(this._activeBuffer.x,O-ze,this._activeBuffer.getNullCell(se)),ee.getWidth(he-1)===2&&ee.setCellFromCodepoint(he-1,g.NULL_CELL_CODE,g.NULL_CELL_WIDTH,se)),ee.setCellFromCodepoint(this._activeBuffer.x++,W,O,se),O>0)for(;--O;)ee.setCellFromCodepoint(this._activeBuffer.x++,0,0,se)}this._parser.precedingJoinState=Q,this._activeBuffer.x<he&&I-A>0&&ee.getWidth(this._activeBuffer.x)===0&&!ee.hasContent(this._activeBuffer.x)&&ee.setCellFromCodepoint(this._activeBuffer.x,0,1,se),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(D,A){return D.final!=="t"||D.prefix||D.intermediates?this._parser.registerCsiHandler(D,A):this._parser.registerCsiHandler(D,(I=>!V(I.params[0],this._optionsService.rawOptions.windowOptions)||A(I)))}registerDcsHandler(D,A){return this._parser.registerDcsHandler(D,new E.DcsHandler(A))}registerEscHandler(D,A){return this._parser.registerEscHandler(D,A)}registerOscHandler(D,A){return this._parser.registerOscHandler(D,new P.OscHandler(A))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var D;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&((D=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))!=null&&D.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);A.hasWidth(this._activeBuffer.x)&&!A.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const D=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-D),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(D=this._bufferService.cols-1){this._activeBuffer.x=Math.min(D,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(D,A){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=D,this._activeBuffer.y=this._activeBuffer.scrollTop+A):(this._activeBuffer.x=D,this._activeBuffer.y=A),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(D,A){this._restrictCursor(),this._setCursor(this._activeBuffer.x+D,this._activeBuffer.y+A)}cursorUp(D){const A=this._activeBuffer.y-this._activeBuffer.scrollTop;return A>=0?this._moveCursor(0,-Math.min(A,D.params[0]||1)):this._moveCursor(0,-(D.params[0]||1)),!0}cursorDown(D){const A=this._activeBuffer.scrollBottom-this._activeBuffer.y;return A>=0?this._moveCursor(0,Math.min(A,D.params[0]||1)):this._moveCursor(0,D.params[0]||1),!0}cursorForward(D){return this._moveCursor(D.params[0]||1,0),!0}cursorBackward(D){return this._moveCursor(-(D.params[0]||1),0),!0}cursorNextLine(D){return this.cursorDown(D),this._activeBuffer.x=0,!0}cursorPrecedingLine(D){return this.cursorUp(D),this._activeBuffer.x=0,!0}cursorCharAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(D){return this._setCursor(D.length>=2?(D.params[1]||1)-1:0,(D.params[0]||1)-1),!0}charPosAbsolute(D){return this._setCursor((D.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(D){return this._moveCursor(D.params[0]||1,0),!0}linePosAbsolute(D){return this._setCursor(this._activeBuffer.x,(D.params[0]||1)-1),!0}vPositionRelative(D){return this._moveCursor(0,D.params[0]||1),!0}hVPosition(D){return this.cursorPosition(D),!0}tabClear(D){const A=D.params[0];return A===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:A===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=D.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(D){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let A=D.params[0]||1;for(;A--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(D){const A=D.params[0];return A===1&&(this._curAttrData.bg|=536870912),A!==2&&A!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(D,A,I,W=!1,O=!1){const re=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);re.replaceCells(A,I,this._activeBuffer.getNullCell(this._eraseAttrData()),O),W&&(re.isWrapped=!1)}_resetBufferLine(D,A=!1){const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+D);I&&(I.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),A),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+D),I.isWrapped=!1)}eraseInDisplay(D,A=!1){let I;switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);I<this._bufferService.rows;I++)this._resetBufferLine(I,A);this._dirtyRowTracker.markDirty(I);break;case 1:for(I=this._activeBuffer.y,this._dirtyRowTracker.markDirty(I),this._eraseInBufferLine(I,0,this._activeBuffer.x+1,!0,A),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(I+1).isWrapped=!1);I--;)this._resetBufferLine(I,A);this._dirtyRowTracker.markDirty(0);break;case 2:for(I=this._bufferService.rows,this._dirtyRowTracker.markDirty(I-1);I--;)this._resetBufferLine(I,A);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(D,A=!1){switch(this._restrictCursor(this._bufferService.cols),D.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,A);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,A);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,A)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(D){this._restrictCursor();let A=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,O=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;A--;)this._activeBuffer.lines.splice(O-1,1),this._activeBuffer.lines.splice(I,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(D){this._restrictCursor();let A=D.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;A--;)this._activeBuffer.lines.splice(I,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(D){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.insertCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(D){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.deleteCells(this._activeBuffer.x,D.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(D){let A=D.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(D){let A=D.params[0]||1;for(;A--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(y.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=D.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);W.deleteCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=D.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);W.insertCells(0,A,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=D.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);W.insertCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(D){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const A=D.params[0]||1;for(let I=this._activeBuffer.scrollTop;I<=this._activeBuffer.scrollBottom;++I){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+I);W.deleteCells(this._activeBuffer.x,A,this._activeBuffer.getNullCell(this._eraseAttrData())),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(D){this._restrictCursor();const A=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return A&&(A.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(D.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData())),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(D){const A=this._parser.precedingJoinState;if(!A)return!0;const I=D.params[0]||1,W=T.UnicodeService.extractWidth(A),O=this._activeBuffer.x-W,re=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).getString(O),ue=new Uint32Array(re.length*I);let he=0;for(let H=0;H<re.length;){const se=re.codePointAt(H)||0;ue[he++]=se,H+=se>65535?2:1}let Y=he;for(let H=1;H<I;++H)ue.copyWithin(Y,0,he),Y+=he;return this.print(ue,0,Y),!0}sendDeviceAttributesPrimary(D){return D.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(h.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(h.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(D){return D.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(h.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(h.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(D.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(h.C0.ESC+"[>83;40003;0c")),!0}_is(D){return(this._optionsService.rawOptions.termName+"").indexOf(D)===0}setMode(D){for(let A=0;A<D.length;A++)switch(D.params[A]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(D){for(let A=0;A<D.length;A++)switch(D.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),this._charsetService.setgCharset(1,v.DEFAULT_CHARSET),this._charsetService.setgCharset(2,v.DEFAULT_CHARSET),this._charsetService.setgCharset(3,v.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(D){for(let A=0;A<D.length;A++)switch(D.params[A]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(D){for(let A=0;A<D.length;A++)switch(D.params[A]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),D.params[A]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(D,A){const I=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:O}=this._coreMouseService,re=this._coreService,{buffers:ue,cols:he}=this._bufferService,{active:Y,alt:H}=ue,se=this._optionsService.rawOptions,ee=Oe=>Oe?1:2,Q=D.params[0];return ne=Q,ye=A?Q===2?4:Q===4?ee(re.modes.insertMode):Q===12?3:Q===20?ee(se.convertEol):0:Q===1?ee(I.applicationCursorKeys):Q===3?se.windowOptions.setWinLines?he===80?2:he===132?1:0:0:Q===6?ee(I.origin):Q===7?ee(I.wraparound):Q===8?3:Q===9?ee(W==="X10"):Q===12?ee(se.cursorBlink):Q===25?ee(!re.isCursorHidden):Q===45?ee(I.reverseWraparound):Q===66?ee(I.applicationKeypad):Q===67?4:Q===1e3?ee(W==="VT200"):Q===1002?ee(W==="DRAG"):Q===1003?ee(W==="ANY"):Q===1004?ee(I.sendFocus):Q===1005?4:Q===1006?ee(O==="SGR"):Q===1015?4:Q===1016?ee(O==="SGR_PIXELS"):Q===1048?1:Q===47||Q===1047||Q===1049?ee(Y===H):Q===2004?ee(I.bracketedPasteMode):0,re.triggerDataEvent(`${h.C0.ESC}[${A?"":"?"}${ne};${ye}$y`),!0;var ne,ye}_updateAttrColor(D,A,I,W,O){return A===2?(D|=50331648,D&=-16777216,D|=j.AttributeData.fromColorRGB([I,W,O])):A===5&&(D&=-50331904,D|=33554432|255&I),D}_extractColor(D,A,I){const W=[0,0,-1,0,0,0];let O=0,re=0;do{if(W[re+O]=D.params[A+re],D.hasSubParams(A+re)){const ue=D.getSubParams(A+re);let he=0;do W[1]===5&&(O=1),W[re+he+1+O]=ue[he];while(++he<ue.length&&he+re+1+O<W.length);break}if(W[1]===5&&re+O>=2||W[1]===2&&re+O>=5)break;W[1]&&(O=1)}while(++re+A<D.length&&re+O<W.length);for(let ue=2;ue<W.length;++ue)W[ue]===-1&&(W[ue]=0);switch(W[0]){case 38:I.fg=this._updateAttrColor(I.fg,W[1],W[3],W[4],W[5]);break;case 48:I.bg=this._updateAttrColor(I.bg,W[1],W[3],W[4],W[5]);break;case 58:I.extended=I.extended.clone(),I.extended.underlineColor=this._updateAttrColor(I.extended.underlineColor,W[1],W[3],W[4],W[5])}return re}_processUnderline(D,A){A.extended=A.extended.clone(),(!~D||D>5)&&(D=1),A.extended.underlineStyle=D,A.fg|=268435456,D===0&&(A.fg&=-268435457),A.updateExtended()}_processSGR0(D){D.fg=y.DEFAULT_ATTR_DATA.fg,D.bg=y.DEFAULT_ATTR_DATA.bg,D.extended=D.extended.clone(),D.extended.underlineStyle=0,D.extended.underlineColor&=-67108864,D.updateExtended()}charAttributes(D){if(D.length===1&&D.params[0]===0)return this._processSGR0(this._curAttrData),!0;const A=D.length;let I;const W=this._curAttrData;for(let O=0;O<A;O++)I=D.params[O],I>=30&&I<=37?(W.fg&=-50331904,W.fg|=16777216|I-30):I>=40&&I<=47?(W.bg&=-50331904,W.bg|=16777216|I-40):I>=90&&I<=97?(W.fg&=-50331904,W.fg|=16777224|I-90):I>=100&&I<=107?(W.bg&=-50331904,W.bg|=16777224|I-100):I===0?this._processSGR0(W):I===1?W.fg|=134217728:I===3?W.bg|=67108864:I===4?(W.fg|=268435456,this._processUnderline(D.hasSubParams(O)?D.getSubParams(O)[0]:1,W)):I===5?W.fg|=536870912:I===7?W.fg|=67108864:I===8?W.fg|=1073741824:I===9?W.fg|=2147483648:I===2?W.bg|=134217728:I===21?this._processUnderline(2,W):I===22?(W.fg&=-134217729,W.bg&=-134217729):I===23?W.bg&=-67108865:I===24?(W.fg&=-268435457,this._processUnderline(0,W)):I===25?W.fg&=-536870913:I===27?W.fg&=-67108865:I===28?W.fg&=-1073741825:I===29?W.fg&=2147483647:I===39?(W.fg&=-67108864,W.fg|=16777215&y.DEFAULT_ATTR_DATA.fg):I===49?(W.bg&=-67108864,W.bg|=16777215&y.DEFAULT_ATTR_DATA.bg):I===38||I===48||I===58?O+=this._extractColor(D,O,W):I===53?W.bg|=1073741824:I===55?W.bg&=-1073741825:I===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):I===100?(W.fg&=-67108864,W.fg|=16777215&y.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&y.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",I);return!0}deviceStatus(D){switch(D.params[0]){case 5:this._coreService.triggerDataEvent(`${h.C0.ESC}[0n`);break;case 6:const A=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[${A};${I}R`)}return!0}deviceStatusPrivate(D){if(D.params[0]===6){const A=this._activeBuffer.y+1,I=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${h.C0.ESC}[?${A};${I}R`)}return!0}softReset(D){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=y.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(D){const A=D.params[0]||1;switch(A){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const I=A%2==1;return this._optionsService.options.cursorBlink=I,!0}setScrollRegion(D){const A=D.params[0]||1;let I;return(D.length<2||(I=D.params[1])>this._bufferService.rows||I===0)&&(I=this._bufferService.rows),I>A&&(this._activeBuffer.scrollTop=A-1,this._activeBuffer.scrollBottom=I-1,this._setCursor(0,0)),!0}windowOptions(D){if(!V(D.params[0],this._optionsService.rawOptions.windowOptions))return!0;const A=D.length>1?D.params[1]:0;switch(D.params[0]){case 14:A!==2&&this._onRequestWindowsOptionsReport.fire(U.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(U.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${h.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:A!==0&&A!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),A!==0&&A!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:A!==0&&A!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),A!==0&&A!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(D){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(D){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(D){return this._windowTitle=D,this._onTitleChange.fire(D),!0}setIconName(D){return this._iconName=D,!0}setOrReportIndexedColor(D){const A=[],I=D.split(";");for(;I.length>1;){const W=I.shift(),O=I.shift();if(/^\d+$/.exec(W)){const re=parseInt(W);if(G(re))if(O==="?")A.push({type:0,index:re});else{const ue=(0,L.parseColor)(O);ue&&A.push({type:1,index:re,color:ue})}}}return A.length&&this._onColor.fire(A),!0}setHyperlink(D){const A=D.split(";");return!(A.length<2)&&(A[1]?this._createHyperlink(A[0],A[1]):!A[0]&&this._finishHyperlink())}_createHyperlink(D,A){this._getCurrentLinkId()&&this._finishHyperlink();const I=D.split(":");let W;const O=I.findIndex((re=>re.startsWith("id=")));return O!==-1&&(W=I[O].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:A}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(D,A){const I=D.split(";");for(let W=0;W<I.length&&!(A>=this._specialColors.length);++W,++A)if(I[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[A]}]);else{const O=(0,L.parseColor)(I[W]);O&&this._onColor.fire([{type:1,index:this._specialColors[A],color:O}])}return!0}setOrReportFgColor(D){return this._setOrReportSpecialColor(D,0)}setOrReportBgColor(D){return this._setOrReportSpecialColor(D,1)}setOrReportCursorColor(D){return this._setOrReportSpecialColor(D,2)}restoreIndexedColor(D){if(!D)return this._onColor.fire([{type:2}]),!0;const A=[],I=D.split(";");for(let W=0;W<I.length;++W)if(/^\d+$/.exec(I[W])){const O=parseInt(I[W]);G(O)&&A.push({type:2,index:O})}return A.length&&this._onColor.fire(A),!0}restoreFgColor(D){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(D){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(D){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,v.DEFAULT_CHARSET),!0}selectCharset(D){return D.length!==2?(this.selectDefaultCharset(),!0):(D[0]==="/"||this._charsetService.setgCharset(z[D[0]],v.CHARSETS[D[1]]||v.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const D=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,D,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=y.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=y.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(D){return this._charsetService.setgLevel(D),!0}screenAlignmentPattern(){const D=new b.CellData;D.content=4194373,D.fg=this._curAttrData.fg,D.bg=this._curAttrData.bg,this._setCursor(0,0);for(let A=0;A<this._bufferService.rows;++A){const I=this._activeBuffer.ybase+this._activeBuffer.y+A,W=this._activeBuffer.lines.get(I);W&&(W.fill(D),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(D,A){const I=this._bufferService.buffer,W=this._optionsService.rawOptions;return(O=>(this._coreService.triggerDataEvent(`${h.C0.ESC}${O}${h.C0.ESC}\\`),!0))(D==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:D==='"p'?'P1$r61;1"p':D==="r"?`P1$r${I.scrollTop+1};${I.scrollBottom+1}r`:D==="m"?"P1$r0m":D===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(D,A){this._dirtyRowTracker.markRangeDirty(D,A)}}l.InputHandler=K;let q=class{constructor(B){this._bufferService=B,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(B){B<this.start?this.start=B:B>this.end&&(this.end=B)}markRangeDirty(B,D){B>D&&(X=B,B=D,D=X),B<this.start&&(this.start=B),D>this.end&&(this.end=D)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function G(B){return 0<=B&&B<256}q=f([p(0,N.IBufferService)],q)},844:(c,l)=>{function u(f){for(const p of f)p.dispose();f.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const f of this._disposables)f.dispose();this._disposables.length=0}register(f){return this._disposables.push(f),f}unregister(f){const p=this._disposables.indexOf(f);p!==-1&&this._disposables.splice(p,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(f){var p;this._isDisposed||f===this._value||((p=this._value)==null||p.dispose(),this._value=f)}clear(){this.value=void 0}dispose(){var f;this._isDisposed=!0,(f=this._value)==null||f.dispose(),this._value=void 0}},l.toDisposable=function(f){return{dispose:f}},l.disposeArray=u,l.getDisposeArrayDisposable=function(f){return{dispose:()=>u(f)}}},1505:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.FourKeyMap=l.TwoKeyMap=void 0;class u{constructor(){this._data={}}set(p,h,v){this._data[p]||(this._data[p]={}),this._data[p][h]=v}get(p,h){return this._data[p]?this._data[p][h]:void 0}clear(){this._data={}}}l.TwoKeyMap=u,l.FourKeyMap=class{constructor(){this._data=new u}set(f,p,h,v,_){this._data.get(f,p)||this._data.set(f,p,new u),this._data.get(f,p).set(h,v,_)}get(f,p,h,v){var _;return(_=this._data.get(f,p))==null?void 0:_.get(h,v)}clear(){this._data.clear()}}},6114:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.isChromeOS=l.isLinux=l.isWindows=l.isIphone=l.isIpad=l.isMac=l.getSafariVersion=l.isSafari=l.isLegacyEdge=l.isFirefox=l.isNode=void 0,l.isNode=typeof process<"u"&&"title"in process;const u=l.isNode?"node":navigator.userAgent,f=l.isNode?"node":navigator.platform;l.isFirefox=u.includes("Firefox"),l.isLegacyEdge=u.includes("Edge"),l.isSafari=/^((?!chrome|android).)*safari/i.test(u),l.getSafariVersion=function(){if(!l.isSafari)return 0;const p=u.match(/Version\/(\d+)/);return p===null||p.length<2?0:parseInt(p[1])},l.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(f),l.isIpad=f==="iPad",l.isIphone=f==="iPhone",l.isWindows=["Windows","Win16","Win32","WinCE"].includes(f),l.isLinux=f.indexOf("Linux")>=0,l.isChromeOS=/\bCrOS\b/.test(u)},6106:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.SortedList=void 0;let u=0;l.SortedList=class{constructor(f){this._getKey=f,this._array=[]}clear(){this._array.length=0}insert(f){this._array.length!==0?(u=this._search(this._getKey(f)),this._array.splice(u,0,f)):this._array.push(f)}delete(f){if(this._array.length===0)return!1;const p=this._getKey(f);if(p===void 0||(u=this._search(p),u===-1)||this._getKey(this._array[u])!==p)return!1;do if(this._array[u]===f)return this._array.splice(u,1),!0;while(++u<this._array.length&&this._getKey(this._array[u])===p);return!1}*getKeyIterator(f){if(this._array.length!==0&&(u=this._search(f),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do yield this._array[u];while(++u<this._array.length&&this._getKey(this._array[u])===f)}forEachByKey(f,p){if(this._array.length!==0&&(u=this._search(f),!(u<0||u>=this._array.length)&&this._getKey(this._array[u])===f))do p(this._array[u]);while(++u<this._array.length&&this._getKey(this._array[u])===f)}values(){return[...this._array].values()}_search(f){let p=0,h=this._array.length-1;for(;h>=p;){let v=p+h>>1;const _=this._getKey(this._array[v]);if(_>f)h=v-1;else{if(!(_<f)){for(;v>0&&this._getKey(this._array[v-1])===f;)v--;return v}p=v+1}}return p}}},7226:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DebouncedIdleTask=l.IdleTaskQueue=l.PriorityTaskQueue=void 0;const f=u(6114);class p{constructor(){this._tasks=[],this._i=0}enqueue(_){this._tasks.push(_),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(_){this._idleCallback=void 0;let k=0,w=0,y=_.timeRemaining(),x=0;for(;this._i<this._tasks.length;){if(k=Date.now(),this._tasks[this._i]()||this._i++,k=Math.max(1,Date.now()-k),w=Math.max(k,w),x=_.timeRemaining(),1.5*w>x)return y-k<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(y-k))}ms`),void this._start();y=x}this.clear()}}class h extends p{_requestCallback(_){return setTimeout((()=>_(this._createDeadline(16))))}_cancelCallback(_){clearTimeout(_)}_createDeadline(_){const k=Date.now()+_;return{timeRemaining:()=>Math.max(0,k-Date.now())}}}l.PriorityTaskQueue=h,l.IdleTaskQueue=!f.isNode&&"requestIdleCallback"in window?class extends p{_requestCallback(v){return requestIdleCallback(v)}_cancelCallback(v){cancelIdleCallback(v)}}:h,l.DebouncedIdleTask=class{constructor(){this._queue=new l.IdleTaskQueue}set(v){this._queue.clear(),this._queue.enqueue(v)}flush(){this._queue.flush()}}},9282:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.updateWindowsModeWrappedState=void 0;const f=u(643);l.updateWindowsModeWrappedState=function(p){const h=p.buffer.lines.get(p.buffer.ybase+p.buffer.y-1),v=h==null?void 0:h.get(p.cols-1),_=p.buffer.lines.get(p.buffer.ybase+p.buffer.y);_&&v&&(_.isWrapped=v[f.CHAR_DATA_CODE_INDEX]!==f.NULL_CELL_CODE&&v[f.CHAR_DATA_CODE_INDEX]!==f.WHITESPACE_CELL_CODE)}},3734:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ExtendedAttrs=l.AttributeData=void 0;class u{constructor(){this.fg=0,this.bg=0,this.extended=new f}static toColorRGB(h){return[h>>>16&255,h>>>8&255,255&h]}static fromColorRGB(h){return(255&h[0])<<16|(255&h[1])<<8|255&h[2]}clone(){const h=new u;return h.fg=this.fg,h.bg=this.bg,h.extended=this.extended.clone(),h}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}getUnderlineVariantOffset(){return this.extended.underlineVariantOffset}}l.AttributeData=u;class f{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(h){this._ext=h}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(h){this._ext&=-469762049,this._ext|=h<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(h){this._ext&=-67108864,this._ext|=67108863&h}get urlId(){return this._urlId}set urlId(h){this._urlId=h}get underlineVariantOffset(){const h=(3758096384&this._ext)>>29;return h<0?4294967288^h:h}set underlineVariantOffset(h){this._ext&=536870911,this._ext|=h<<29&3758096384}constructor(h=0,v=0){this._ext=0,this._urlId=0,this._ext=h,this._urlId=v}clone(){return new f(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}l.ExtendedAttrs=f},9092:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Buffer=l.MAX_BUFFER_SIZE=void 0;const f=u(6349),p=u(7226),h=u(3734),v=u(8437),_=u(4634),k=u(511),w=u(643),y=u(4863),x=u(7116);l.MAX_BUFFER_SIZE=4294967295,l.Buffer=class{constructor(g,b,j){this._hasScrollback=g,this._optionsService=b,this._bufferService=j,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=v.DEFAULT_ATTR_DATA.clone(),this.savedCharset=x.DEFAULT_CHARSET,this.markers=[],this._nullCell=k.CellData.fromCharData([0,w.NULL_CELL_CHAR,w.NULL_CELL_WIDTH,w.NULL_CELL_CODE]),this._whitespaceCell=k.CellData.fromCharData([0,w.WHITESPACE_CELL_CHAR,w.WHITESPACE_CELL_WIDTH,w.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new p.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(g){return g?(this._nullCell.fg=g.fg,this._nullCell.bg=g.bg,this._nullCell.extended=g.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new h.ExtendedAttrs),this._nullCell}getWhitespaceCell(g){return g?(this._whitespaceCell.fg=g.fg,this._whitespaceCell.bg=g.bg,this._whitespaceCell.extended=g.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new h.ExtendedAttrs),this._whitespaceCell}getBlankLine(g,b){return new v.BufferLine(this._bufferService.cols,this.getNullCell(g),b)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const g=this.ybase+this.y-this.ydisp;return g>=0&&g<this._rows}_getCorrectBufferLength(g){if(!this._hasScrollback)return g;const b=g+this._optionsService.rawOptions.scrollback;return b>l.MAX_BUFFER_SIZE?l.MAX_BUFFER_SIZE:b}fillViewportRows(g){if(this.lines.length===0){g===void 0&&(g=v.DEFAULT_ATTR_DATA);let b=this._rows;for(;b--;)this.lines.push(this.getBlankLine(g))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new f.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(g,b){const j=this.getNullCell(v.DEFAULT_ATTR_DATA);let N=0;const T=this._getCorrectBufferLength(b);if(T>this.lines.maxLength&&(this.lines.maxLength=T),this.lines.length>0){if(this._cols<g)for(let E=0;E<this.lines.length;E++)N+=+this.lines.get(E).resize(g,j);let P=0;if(this._rows<b)for(let E=this._rows;E<b;E++)this.lines.length<b+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new v.BufferLine(g,j)):this.ybase>0&&this.lines.length<=this.ybase+this.y+P+1?(this.ybase--,P++,this.ydisp>0&&this.ydisp--):this.lines.push(new v.BufferLine(g,j)));else for(let E=this._rows;E>b;E--)this.lines.length>b+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(T<this.lines.maxLength){const E=this.lines.length-T;E>0&&(this.lines.trimStart(E),this.ybase=Math.max(this.ybase-E,0),this.ydisp=Math.max(this.ydisp-E,0),this.savedY=Math.max(this.savedY-E,0)),this.lines.maxLength=T}this.x=Math.min(this.x,g-1),this.y=Math.min(this.y,b-1),P&&(this.y+=P),this.savedX=Math.min(this.savedX,g-1),this.scrollTop=0}if(this.scrollBottom=b-1,this._isReflowEnabled&&(this._reflow(g,b),this._cols>g))for(let P=0;P<this.lines.length;P++)N+=+this.lines.get(P).resize(g,j);this._cols=g,this._rows=b,this._memoryCleanupQueue.clear(),N>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue((()=>this._batchedMemoryCleanup())))}_batchedMemoryCleanup(){let g=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,g=!1);let b=0;for(;this._memoryCleanupPosition<this.lines.length;)if(b+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),b>100)return!0;return g}get _isReflowEnabled(){const g=this._optionsService.rawOptions.windowsPty;return g&&g.buildNumber?this._hasScrollback&&g.backend==="conpty"&&g.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(g,b){this._cols!==g&&(g>this._cols?this._reflowLarger(g,b):this._reflowSmaller(g,b))}_reflowLarger(g,b){const j=(0,_.reflowLargerGetLinesToRemove)(this.lines,this._cols,g,this.ybase+this.y,this.getNullCell(v.DEFAULT_ATTR_DATA));if(j.length>0){const N=(0,_.reflowLargerCreateNewLayout)(this.lines,j);(0,_.reflowLargerApplyNewLayout)(this.lines,N.layout),this._reflowLargerAdjustViewport(g,b,N.countRemoved)}}_reflowLargerAdjustViewport(g,b,j){const N=this.getNullCell(v.DEFAULT_ATTR_DATA);let T=j;for(;T-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<b&&this.lines.push(new v.BufferLine(g,N))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-j,0)}_reflowSmaller(g,b){const j=this.getNullCell(v.DEFAULT_ATTR_DATA),N=[];let T=0;for(let P=this.lines.length-1;P>=0;P--){let E=this.lines.get(P);if(!E||!E.isWrapped&&E.getTrimmedLength()<=g)continue;const L=[E];for(;E.isWrapped&&P>0;)E=this.lines.get(--P),L.unshift(E);const z=this.ybase+this.y;if(z>=P&&z<P+L.length)continue;const F=L[L.length-1].getTrimmedLength(),V=(0,_.reflowSmallerGetNewLineLengths)(L,this._cols,g),U=V.length-L.length;let X;X=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+U):Math.max(0,this.lines.length-this.lines.maxLength+U);const K=[];for(let I=0;I<U;I++){const W=this.getBlankLine(v.DEFAULT_ATTR_DATA,!0);K.push(W)}K.length>0&&(N.push({start:P+L.length+T,newLines:K}),T+=K.length),L.push(...K);let q=V.length-1,G=V[q];G===0&&(q--,G=V[q]);let B=L.length-U-1,D=F;for(;B>=0;){const I=Math.min(D,G);if(L[q]===void 0)break;if(L[q].copyCellsFrom(L[B],D-I,G-I,I,!0),G-=I,G===0&&(q--,G=V[q]),D-=I,D===0){B--;const W=Math.max(B,0);D=(0,_.getWrappedLineTrimmedLength)(L,W,this._cols)}}for(let I=0;I<L.length;I++)V[I]<g&&L[I].setCell(V[I],j);let A=U-X;for(;A-- >0;)this.ybase===0?this.y<b-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+T)-b&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+U,this.ybase+b-1)}if(N.length>0){const P=[],E=[];for(let q=0;q<this.lines.length;q++)E.push(this.lines.get(q));const L=this.lines.length;let z=L-1,F=0,V=N[F];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+T);let U=0;for(let q=Math.min(this.lines.maxLength-1,L+T-1);q>=0;q--)if(V&&V.start>z+U){for(let G=V.newLines.length-1;G>=0;G--)this.lines.set(q--,V.newLines[G]);q++,P.push({index:z+1,amount:V.newLines.length}),U+=V.newLines.length,V=N[++F]}else this.lines.set(q,E[z--]);let X=0;for(let q=P.length-1;q>=0;q--)P[q].index+=X,this.lines.onInsertEmitter.fire(P[q]),X+=P[q].amount;const K=Math.max(0,L+T-this.lines.maxLength);K>0&&this.lines.onTrimEmitter.fire(K)}}translateBufferLineToString(g,b,j=0,N){const T=this.lines.get(g);return T?T.translateToString(b,j,N):""}getWrappedRangeForLine(g){let b=g,j=g;for(;b>0&&this.lines.get(b).isWrapped;)b--;for(;j+1<this.lines.length&&this.lines.get(j+1).isWrapped;)j++;return{first:b,last:j}}setupTabStops(g){for(g!=null?this.tabs[g]||(g=this.prevStop(g)):(this.tabs={},g=0);g<this._cols;g+=this._optionsService.rawOptions.tabStopWidth)this.tabs[g]=!0}prevStop(g){for(g==null&&(g=this.x);!this.tabs[--g]&&g>0;);return g>=this._cols?this._cols-1:g<0?0:g}nextStop(g){for(g==null&&(g=this.x);!this.tabs[++g]&&g<this._cols;);return g>=this._cols?this._cols-1:g<0?0:g}clearMarkers(g){this._isClearing=!0;for(let b=0;b<this.markers.length;b++)this.markers[b].line===g&&(this.markers[b].dispose(),this.markers.splice(b--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let g=0;g<this.markers.length;g++)this.markers[g].dispose(),this.markers.splice(g--,1);this._isClearing=!1}addMarker(g){const b=new y.Marker(g);return this.markers.push(b),b.register(this.lines.onTrim((j=>{b.line-=j,b.line<0&&b.dispose()}))),b.register(this.lines.onInsert((j=>{b.line>=j.index&&(b.line+=j.amount)}))),b.register(this.lines.onDelete((j=>{b.line>=j.index&&b.line<j.index+j.amount&&b.dispose(),b.line>j.index&&(b.line-=j.amount)}))),b.register(b.onDispose((()=>this._removeMarker(b)))),b}_removeMarker(g){this._isClearing||this.markers.splice(this.markers.indexOf(g),1)}}},8437:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLine=l.DEFAULT_ATTR_DATA=void 0;const f=u(3734),p=u(511),h=u(643),v=u(482);l.DEFAULT_ATTR_DATA=Object.freeze(new f.AttributeData);let _=0;class k{constructor(y,x,g=!1){this.isWrapped=g,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*y);const b=x||p.CellData.fromCharData([0,h.NULL_CELL_CHAR,h.NULL_CELL_WIDTH,h.NULL_CELL_CODE]);for(let j=0;j<y;++j)this.setCell(j,b);this.length=y}get(y){const x=this._data[3*y+0],g=2097151&x;return[this._data[3*y+1],2097152&x?this._combined[y]:g?(0,v.stringFromCodePoint)(g):"",x>>22,2097152&x?this._combined[y].charCodeAt(this._combined[y].length-1):g]}set(y,x){this._data[3*y+1]=x[h.CHAR_DATA_ATTR_INDEX],x[h.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[y]=x[1],this._data[3*y+0]=2097152|y|x[h.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*y+0]=x[h.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|x[h.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(y){return this._data[3*y+0]>>22}hasWidth(y){return 12582912&this._data[3*y+0]}getFg(y){return this._data[3*y+1]}getBg(y){return this._data[3*y+2]}hasContent(y){return 4194303&this._data[3*y+0]}getCodePoint(y){const x=this._data[3*y+0];return 2097152&x?this._combined[y].charCodeAt(this._combined[y].length-1):2097151&x}isCombined(y){return 2097152&this._data[3*y+0]}getString(y){const x=this._data[3*y+0];return 2097152&x?this._combined[y]:2097151&x?(0,v.stringFromCodePoint)(2097151&x):""}isProtected(y){return 536870912&this._data[3*y+2]}loadCell(y,x){return _=3*y,x.content=this._data[_+0],x.fg=this._data[_+1],x.bg=this._data[_+2],2097152&x.content&&(x.combinedData=this._combined[y]),268435456&x.bg&&(x.extended=this._extendedAttrs[y]),x}setCell(y,x){2097152&x.content&&(this._combined[y]=x.combinedData),268435456&x.bg&&(this._extendedAttrs[y]=x.extended),this._data[3*y+0]=x.content,this._data[3*y+1]=x.fg,this._data[3*y+2]=x.bg}setCellFromCodepoint(y,x,g,b){268435456&b.bg&&(this._extendedAttrs[y]=b.extended),this._data[3*y+0]=x|g<<22,this._data[3*y+1]=b.fg,this._data[3*y+2]=b.bg}addCodepointToCell(y,x,g){let b=this._data[3*y+0];2097152&b?this._combined[y]+=(0,v.stringFromCodePoint)(x):2097151&b?(this._combined[y]=(0,v.stringFromCodePoint)(2097151&b)+(0,v.stringFromCodePoint)(x),b&=-2097152,b|=2097152):b=x|4194304,g&&(b&=-12582913,b|=g<<22),this._data[3*y+0]=b}insertCells(y,x,g){if((y%=this.length)&&this.getWidth(y-1)===2&&this.setCellFromCodepoint(y-1,0,1,g),x<this.length-y){const b=new p.CellData;for(let j=this.length-y-x-1;j>=0;--j)this.setCell(y+x+j,this.loadCell(y+j,b));for(let j=0;j<x;++j)this.setCell(y+j,g)}else for(let b=y;b<this.length;++b)this.setCell(b,g);this.getWidth(this.length-1)===2&&this.setCellFromCodepoint(this.length-1,0,1,g)}deleteCells(y,x,g){if(y%=this.length,x<this.length-y){const b=new p.CellData;for(let j=0;j<this.length-y-x;++j)this.setCell(y+j,this.loadCell(y+x+j,b));for(let j=this.length-x;j<this.length;++j)this.setCell(j,g)}else for(let b=y;b<this.length;++b)this.setCell(b,g);y&&this.getWidth(y-1)===2&&this.setCellFromCodepoint(y-1,0,1,g),this.getWidth(y)!==0||this.hasContent(y)||this.setCellFromCodepoint(y,0,1,g)}replaceCells(y,x,g,b=!1){if(b)for(y&&this.getWidth(y-1)===2&&!this.isProtected(y-1)&&this.setCellFromCodepoint(y-1,0,1,g),x<this.length&&this.getWidth(x-1)===2&&!this.isProtected(x)&&this.setCellFromCodepoint(x,0,1,g);y<x&&y<this.length;)this.isProtected(y)||this.setCell(y,g),y++;else for(y&&this.getWidth(y-1)===2&&this.setCellFromCodepoint(y-1,0,1,g),x<this.length&&this.getWidth(x-1)===2&&this.setCellFromCodepoint(x,0,1,g);y<x&&y<this.length;)this.setCell(y++,g)}resize(y,x){if(y===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const g=3*y;if(y>this.length){if(this._data.buffer.byteLength>=4*g)this._data=new Uint32Array(this._data.buffer,0,g);else{const b=new Uint32Array(g);b.set(this._data),this._data=b}for(let b=this.length;b<y;++b)this.setCell(b,x)}else{this._data=this._data.subarray(0,g);const b=Object.keys(this._combined);for(let N=0;N<b.length;N++){const T=parseInt(b[N],10);T>=y&&delete this._combined[T]}const j=Object.keys(this._extendedAttrs);for(let N=0;N<j.length;N++){const T=parseInt(j[N],10);T>=y&&delete this._extendedAttrs[T]}}return this.length=y,4*g*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const y=new Uint32Array(this._data.length);return y.set(this._data),this._data=y,1}return 0}fill(y,x=!1){if(x)for(let g=0;g<this.length;++g)this.isProtected(g)||this.setCell(g,y);else{this._combined={},this._extendedAttrs={};for(let g=0;g<this.length;++g)this.setCell(g,y)}}copyFrom(y){this.length!==y.length?this._data=new Uint32Array(y._data):this._data.set(y._data),this.length=y.length,this._combined={};for(const x in y._combined)this._combined[x]=y._combined[x];this._extendedAttrs={};for(const x in y._extendedAttrs)this._extendedAttrs[x]=y._extendedAttrs[x];this.isWrapped=y.isWrapped}clone(){const y=new k(0);y._data=new Uint32Array(this._data),y.length=this.length;for(const x in this._combined)y._combined[x]=this._combined[x];for(const x in this._extendedAttrs)y._extendedAttrs[x]=this._extendedAttrs[x];return y.isWrapped=this.isWrapped,y}getTrimmedLength(){for(let y=this.length-1;y>=0;--y)if(4194303&this._data[3*y+0])return y+(this._data[3*y+0]>>22);return 0}getNoBgTrimmedLength(){for(let y=this.length-1;y>=0;--y)if(4194303&this._data[3*y+0]||50331648&this._data[3*y+2])return y+(this._data[3*y+0]>>22);return 0}copyCellsFrom(y,x,g,b,j){const N=y._data;if(j)for(let P=b-1;P>=0;P--){for(let E=0;E<3;E++)this._data[3*(g+P)+E]=N[3*(x+P)+E];268435456&N[3*(x+P)+2]&&(this._extendedAttrs[g+P]=y._extendedAttrs[x+P])}else for(let P=0;P<b;P++){for(let E=0;E<3;E++)this._data[3*(g+P)+E]=N[3*(x+P)+E];268435456&N[3*(x+P)+2]&&(this._extendedAttrs[g+P]=y._extendedAttrs[x+P])}const T=Object.keys(y._combined);for(let P=0;P<T.length;P++){const E=parseInt(T[P],10);E>=x&&(this._combined[E-x+g]=y._combined[E])}}translateToString(y,x,g,b){x=x??0,g=g??this.length,y&&(g=Math.min(g,this.getTrimmedLength())),b&&(b.length=0);let j="";for(;x<g;){const N=this._data[3*x+0],T=2097151&N,P=2097152&N?this._combined[x]:T?(0,v.stringFromCodePoint)(T):h.WHITESPACE_CELL_CHAR;if(j+=P,b)for(let E=0;E<P.length;++E)b.push(x);x+=N>>22||1}return b&&b.push(x),j}}l.BufferLine=k},4841:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.getRangeLength=void 0,l.getRangeLength=function(u,f){if(u.start.y>u.end.y)throw new Error(`Buffer range end (${u.end.x}, ${u.end.y}) cannot be before start (${u.start.x}, ${u.start.y})`);return f*(u.end.y-u.start.y)+(u.end.x-u.start.x+1)}},4634:(c,l)=>{function u(f,p,h){if(p===f.length-1)return f[p].getTrimmedLength();const v=!f[p].hasContent(h-1)&&f[p].getWidth(h-1)===1,_=f[p+1].getWidth(0)===2;return v&&_?h-1:h}Object.defineProperty(l,"__esModule",{value:!0}),l.getWrappedLineTrimmedLength=l.reflowSmallerGetNewLineLengths=l.reflowLargerApplyNewLayout=l.reflowLargerCreateNewLayout=l.reflowLargerGetLinesToRemove=void 0,l.reflowLargerGetLinesToRemove=function(f,p,h,v,_){const k=[];for(let w=0;w<f.length-1;w++){let y=w,x=f.get(++y);if(!x.isWrapped)continue;const g=[f.get(w)];for(;y<f.length&&x.isWrapped;)g.push(x),x=f.get(++y);if(v>=w&&v<y){w+=g.length-1;continue}let b=0,j=u(g,b,p),N=1,T=0;for(;N<g.length;){const E=u(g,N,p),L=E-T,z=h-j,F=Math.min(L,z);g[b].copyCellsFrom(g[N],T,j,F,!1),j+=F,j===h&&(b++,j=0),T+=F,T===E&&(N++,T=0),j===0&&b!==0&&g[b-1].getWidth(h-1)===2&&(g[b].copyCellsFrom(g[b-1],h-1,j++,1,!1),g[b-1].setCell(h-1,_))}g[b].replaceCells(j,h,_);let P=0;for(let E=g.length-1;E>0&&(E>b||g[E].getTrimmedLength()===0);E--)P++;P>0&&(k.push(w+g.length-P),k.push(P)),w+=g.length-1}return k},l.reflowLargerCreateNewLayout=function(f,p){const h=[];let v=0,_=p[v],k=0;for(let w=0;w<f.length;w++)if(_===w){const y=p[++v];f.onDeleteEmitter.fire({index:w-k,amount:y}),w+=y-1,k+=y,_=p[++v]}else h.push(w);return{layout:h,countRemoved:k}},l.reflowLargerApplyNewLayout=function(f,p){const h=[];for(let v=0;v<p.length;v++)h.push(f.get(p[v]));for(let v=0;v<h.length;v++)f.set(v,h[v]);f.length=p.length},l.reflowSmallerGetNewLineLengths=function(f,p,h){const v=[],_=f.map(((x,g)=>u(f,g,p))).reduce(((x,g)=>x+g));let k=0,w=0,y=0;for(;y<_;){if(_-y<h){v.push(_-y);break}k+=h;const x=u(f,w,p);k>x&&(k-=x,w++);const g=f[w].getWidth(k-1)===2;g&&k--;const b=g?h-1:h;v.push(b),y+=b}return v},l.getWrappedLineTrimmedLength=u},5295:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferSet=void 0;const f=u(8460),p=u(844),h=u(9092);class v extends p.Disposable{constructor(k,w){super(),this._optionsService=k,this._bufferService=w,this._onBufferActivate=this.register(new f.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",(()=>this.resize(this._bufferService.cols,this._bufferService.rows)))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",(()=>this.setupTabStops())))}reset(){this._normal=new h.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new h.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(k){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(k),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(k,w){this._normal.resize(k,w),this._alt.resize(k,w),this.setupTabStops(k)}setupTabStops(k){this._normal.setupTabStops(k),this._alt.setupTabStops(k)}}l.BufferSet=v},511:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CellData=void 0;const f=u(482),p=u(643),h=u(3734);class v extends h.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new h.ExtendedAttrs,this.combinedData=""}static fromCharData(k){const w=new v;return w.setFromCharData(k),w}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,f.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(k){this.fg=k[p.CHAR_DATA_ATTR_INDEX],this.bg=0;let w=!1;if(k[p.CHAR_DATA_CHAR_INDEX].length>2)w=!0;else if(k[p.CHAR_DATA_CHAR_INDEX].length===2){const y=k[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=y&&y<=56319){const x=k[p.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=x&&x<=57343?this.content=1024*(y-55296)+x-56320+65536|k[p.CHAR_DATA_WIDTH_INDEX]<<22:w=!0}else w=!0}else this.content=k[p.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|k[p.CHAR_DATA_WIDTH_INDEX]<<22;w&&(this.combinedData=k[p.CHAR_DATA_CHAR_INDEX],this.content=2097152|k[p.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}l.CellData=v},643:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WHITESPACE_CELL_CODE=l.WHITESPACE_CELL_WIDTH=l.WHITESPACE_CELL_CHAR=l.NULL_CELL_CODE=l.NULL_CELL_WIDTH=l.NULL_CELL_CHAR=l.CHAR_DATA_CODE_INDEX=l.CHAR_DATA_WIDTH_INDEX=l.CHAR_DATA_CHAR_INDEX=l.CHAR_DATA_ATTR_INDEX=l.DEFAULT_EXT=l.DEFAULT_ATTR=l.DEFAULT_COLOR=void 0,l.DEFAULT_COLOR=0,l.DEFAULT_ATTR=256|l.DEFAULT_COLOR<<9,l.DEFAULT_EXT=0,l.CHAR_DATA_ATTR_INDEX=0,l.CHAR_DATA_CHAR_INDEX=1,l.CHAR_DATA_WIDTH_INDEX=2,l.CHAR_DATA_CODE_INDEX=3,l.NULL_CELL_CHAR="",l.NULL_CELL_WIDTH=1,l.NULL_CELL_CODE=0,l.WHITESPACE_CELL_CHAR=" ",l.WHITESPACE_CELL_WIDTH=1,l.WHITESPACE_CELL_CODE=32},4863:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Marker=void 0;const f=u(8460),p=u(844);class h{get id(){return this._id}constructor(_){this.line=_,this.isDisposed=!1,this._disposables=[],this._id=h._nextId++,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,p.disposeArray)(this._disposables),this._disposables.length=0)}register(_){return this._disposables.push(_),_}}l.Marker=h,h._nextId=1},7116:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DEFAULT_CHARSET=l.CHARSETS=void 0,l.CHARSETS={},l.DEFAULT_CHARSET=l.CHARSETS.B,l.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},l.CHARSETS.A={"#":""},l.CHARSETS.B=void 0,l.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},l.CHARSETS.C=l.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},l.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.E=l.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},l.CHARSETS.H=l.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},l.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(c,l)=>{var u,f,p;Object.defineProperty(l,"__esModule",{value:!0}),l.C1_ESCAPED=l.C1=l.C0=void 0,(function(h){h.NUL="\0",h.SOH="",h.STX="",h.ETX="",h.EOT="",h.ENQ="",h.ACK="",h.BEL="\x07",h.BS="\b",h.HT="	",h.LF=`
`,h.VT="\v",h.FF="\f",h.CR="\r",h.SO="",h.SI="",h.DLE="",h.DC1="",h.DC2="",h.DC3="",h.DC4="",h.NAK="",h.SYN="",h.ETB="",h.CAN="",h.EM="",h.SUB="",h.ESC="\x1B",h.FS="",h.GS="",h.RS="",h.US="",h.SP=" ",h.DEL=""})(u||(l.C0=u={})),(function(h){h.PAD="",h.HOP="",h.BPH="",h.NBH="",h.IND="",h.NEL="",h.SSA="",h.ESA="",h.HTS="",h.HTJ="",h.VTS="",h.PLD="",h.PLU="",h.RI="",h.SS2="",h.SS3="",h.DCS="",h.PU1="",h.PU2="",h.STS="",h.CCH="",h.MW="",h.SPA="",h.EPA="",h.SOS="",h.SGCI="",h.SCI="",h.CSI="",h.ST="",h.OSC="",h.PM="",h.APC=""})(f||(l.C1=f={})),(function(h){h.ST=`${u.ESC}\\`})(p||(l.C1_ESCAPED=p={}))},7399:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.evaluateKeyboardEvent=void 0;const f=u(2584),p={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};l.evaluateKeyboardEvent=function(h,v,_,k){const w={type:0,cancel:!1,key:void 0},y=(h.shiftKey?1:0)|(h.altKey?2:0)|(h.ctrlKey?4:0)|(h.metaKey?8:0);switch(h.keyCode){case 0:h.key==="UIKeyInputUpArrow"?w.key=v?f.C0.ESC+"OA":f.C0.ESC+"[A":h.key==="UIKeyInputLeftArrow"?w.key=v?f.C0.ESC+"OD":f.C0.ESC+"[D":h.key==="UIKeyInputRightArrow"?w.key=v?f.C0.ESC+"OC":f.C0.ESC+"[C":h.key==="UIKeyInputDownArrow"&&(w.key=v?f.C0.ESC+"OB":f.C0.ESC+"[B");break;case 8:w.key=h.ctrlKey?"\b":f.C0.DEL,h.altKey&&(w.key=f.C0.ESC+w.key);break;case 9:if(h.shiftKey){w.key=f.C0.ESC+"[Z";break}w.key=f.C0.HT,w.cancel=!0;break;case 13:w.key=h.altKey?f.C0.ESC+f.C0.CR:f.C0.CR,w.cancel=!0;break;case 27:w.key=f.C0.ESC,h.altKey&&(w.key=f.C0.ESC+f.C0.ESC),w.cancel=!0;break;case 37:if(h.metaKey)break;y?(w.key=f.C0.ESC+"[1;"+(y+1)+"D",w.key===f.C0.ESC+"[1;3D"&&(w.key=f.C0.ESC+(_?"b":"[1;5D"))):w.key=v?f.C0.ESC+"OD":f.C0.ESC+"[D";break;case 39:if(h.metaKey)break;y?(w.key=f.C0.ESC+"[1;"+(y+1)+"C",w.key===f.C0.ESC+"[1;3C"&&(w.key=f.C0.ESC+(_?"f":"[1;5C"))):w.key=v?f.C0.ESC+"OC":f.C0.ESC+"[C";break;case 38:if(h.metaKey)break;y?(w.key=f.C0.ESC+"[1;"+(y+1)+"A",_||w.key!==f.C0.ESC+"[1;3A"||(w.key=f.C0.ESC+"[1;5A")):w.key=v?f.C0.ESC+"OA":f.C0.ESC+"[A";break;case 40:if(h.metaKey)break;y?(w.key=f.C0.ESC+"[1;"+(y+1)+"B",_||w.key!==f.C0.ESC+"[1;3B"||(w.key=f.C0.ESC+"[1;5B")):w.key=v?f.C0.ESC+"OB":f.C0.ESC+"[B";break;case 45:h.shiftKey||h.ctrlKey||(w.key=f.C0.ESC+"[2~");break;case 46:w.key=y?f.C0.ESC+"[3;"+(y+1)+"~":f.C0.ESC+"[3~";break;case 36:w.key=y?f.C0.ESC+"[1;"+(y+1)+"H":v?f.C0.ESC+"OH":f.C0.ESC+"[H";break;case 35:w.key=y?f.C0.ESC+"[1;"+(y+1)+"F":v?f.C0.ESC+"OF":f.C0.ESC+"[F";break;case 33:h.shiftKey?w.type=2:h.ctrlKey?w.key=f.C0.ESC+"[5;"+(y+1)+"~":w.key=f.C0.ESC+"[5~";break;case 34:h.shiftKey?w.type=3:h.ctrlKey?w.key=f.C0.ESC+"[6;"+(y+1)+"~":w.key=f.C0.ESC+"[6~";break;case 112:w.key=y?f.C0.ESC+"[1;"+(y+1)+"P":f.C0.ESC+"OP";break;case 113:w.key=y?f.C0.ESC+"[1;"+(y+1)+"Q":f.C0.ESC+"OQ";break;case 114:w.key=y?f.C0.ESC+"[1;"+(y+1)+"R":f.C0.ESC+"OR";break;case 115:w.key=y?f.C0.ESC+"[1;"+(y+1)+"S":f.C0.ESC+"OS";break;case 116:w.key=y?f.C0.ESC+"[15;"+(y+1)+"~":f.C0.ESC+"[15~";break;case 117:w.key=y?f.C0.ESC+"[17;"+(y+1)+"~":f.C0.ESC+"[17~";break;case 118:w.key=y?f.C0.ESC+"[18;"+(y+1)+"~":f.C0.ESC+"[18~";break;case 119:w.key=y?f.C0.ESC+"[19;"+(y+1)+"~":f.C0.ESC+"[19~";break;case 120:w.key=y?f.C0.ESC+"[20;"+(y+1)+"~":f.C0.ESC+"[20~";break;case 121:w.key=y?f.C0.ESC+"[21;"+(y+1)+"~":f.C0.ESC+"[21~";break;case 122:w.key=y?f.C0.ESC+"[23;"+(y+1)+"~":f.C0.ESC+"[23~";break;case 123:w.key=y?f.C0.ESC+"[24;"+(y+1)+"~":f.C0.ESC+"[24~";break;default:if(!h.ctrlKey||h.shiftKey||h.altKey||h.metaKey)if(_&&!k||!h.altKey||h.metaKey)!_||h.altKey||h.ctrlKey||h.shiftKey||!h.metaKey?h.key&&!h.ctrlKey&&!h.altKey&&!h.metaKey&&h.keyCode>=48&&h.key.length===1?w.key=h.key:h.key&&h.ctrlKey&&(h.key==="_"&&(w.key=f.C0.US),h.key==="@"&&(w.key=f.C0.NUL)):h.keyCode===65&&(w.type=1);else{const x=p[h.keyCode],g=x==null?void 0:x[h.shiftKey?1:0];if(g)w.key=f.C0.ESC+g;else if(h.keyCode>=65&&h.keyCode<=90){const b=h.ctrlKey?h.keyCode-64:h.keyCode+32;let j=String.fromCharCode(b);h.shiftKey&&(j=j.toUpperCase()),w.key=f.C0.ESC+j}else if(h.keyCode===32)w.key=f.C0.ESC+(h.ctrlKey?f.C0.NUL:" ");else if(h.key==="Dead"&&h.code.startsWith("Key")){let b=h.code.slice(3,4);h.shiftKey||(b=b.toLowerCase()),w.key=f.C0.ESC+b,w.cancel=!0}}else h.keyCode>=65&&h.keyCode<=90?w.key=String.fromCharCode(h.keyCode-64):h.keyCode===32?w.key=f.C0.NUL:h.keyCode>=51&&h.keyCode<=55?w.key=String.fromCharCode(h.keyCode-51+27):h.keyCode===56?w.key=f.C0.DEL:h.keyCode===219?w.key=f.C0.ESC:h.keyCode===220?w.key=f.C0.FS:h.keyCode===221&&(w.key=f.C0.GS)}return w}},482:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Utf8ToUtf32=l.StringToUtf32=l.utf32ToString=l.stringFromCodePoint=void 0,l.stringFromCodePoint=function(u){return u>65535?(u-=65536,String.fromCharCode(55296+(u>>10))+String.fromCharCode(u%1024+56320)):String.fromCharCode(u)},l.utf32ToString=function(u,f=0,p=u.length){let h="";for(let v=f;v<p;++v){let _=u[v];_>65535?(_-=65536,h+=String.fromCharCode(55296+(_>>10))+String.fromCharCode(_%1024+56320)):h+=String.fromCharCode(_)}return h},l.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(u,f){const p=u.length;if(!p)return 0;let h=0,v=0;if(this._interim){const _=u.charCodeAt(v++);56320<=_&&_<=57343?f[h++]=1024*(this._interim-55296)+_-56320+65536:(f[h++]=this._interim,f[h++]=_),this._interim=0}for(let _=v;_<p;++_){const k=u.charCodeAt(_);if(55296<=k&&k<=56319){if(++_>=p)return this._interim=k,h;const w=u.charCodeAt(_);56320<=w&&w<=57343?f[h++]=1024*(k-55296)+w-56320+65536:(f[h++]=k,f[h++]=w)}else k!==65279&&(f[h++]=k)}return h}},l.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(u,f){const p=u.length;if(!p)return 0;let h,v,_,k,w=0,y=0,x=0;if(this.interim[0]){let j=!1,N=this.interim[0];N&=(224&N)==192?31:(240&N)==224?15:7;let T,P=0;for(;(T=63&this.interim[++P])&&P<4;)N<<=6,N|=T;const E=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,L=E-P;for(;x<L;){if(x>=p)return 0;if(T=u[x++],(192&T)!=128){x--,j=!0;break}this.interim[P++]=T,N<<=6,N|=63&T}j||(E===2?N<128?x--:f[w++]=N:E===3?N<2048||N>=55296&&N<=57343||N===65279||(f[w++]=N):N<65536||N>1114111||(f[w++]=N)),this.interim.fill(0)}const g=p-4;let b=x;for(;b<p;){for(;!(!(b<g)||128&(h=u[b])||128&(v=u[b+1])||128&(_=u[b+2])||128&(k=u[b+3]));)f[w++]=h,f[w++]=v,f[w++]=_,f[w++]=k,b+=4;if(h=u[b++],h<128)f[w++]=h;else if((224&h)==192){if(b>=p)return this.interim[0]=h,w;if(v=u[b++],(192&v)!=128){b--;continue}if(y=(31&h)<<6|63&v,y<128){b--;continue}f[w++]=y}else if((240&h)==224){if(b>=p)return this.interim[0]=h,w;if(v=u[b++],(192&v)!=128){b--;continue}if(b>=p)return this.interim[0]=h,this.interim[1]=v,w;if(_=u[b++],(192&_)!=128){b--;continue}if(y=(15&h)<<12|(63&v)<<6|63&_,y<2048||y>=55296&&y<=57343||y===65279)continue;f[w++]=y}else if((248&h)==240){if(b>=p)return this.interim[0]=h,w;if(v=u[b++],(192&v)!=128){b--;continue}if(b>=p)return this.interim[0]=h,this.interim[1]=v,w;if(_=u[b++],(192&_)!=128){b--;continue}if(b>=p)return this.interim[0]=h,this.interim[1]=v,this.interim[2]=_,w;if(k=u[b++],(192&k)!=128){b--;continue}if(y=(7&h)<<18|(63&v)<<12|(63&_)<<6|63&k,y<65536||y>1114111)continue;f[w++]=y}}return w}}},225:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeV6=void 0;const f=u(1480),p=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],h=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let v;l.UnicodeV6=class{constructor(){if(this.version="6",!v){v=new Uint8Array(65536),v.fill(1),v[0]=0,v.fill(0,1,32),v.fill(0,127,160),v.fill(2,4352,4448),v[9001]=2,v[9002]=2,v.fill(2,11904,42192),v[12351]=1,v.fill(2,44032,55204),v.fill(2,63744,64256),v.fill(2,65040,65050),v.fill(2,65072,65136),v.fill(2,65280,65377),v.fill(2,65504,65511);for(let _=0;_<p.length;++_)v.fill(0,p[_][0],p[_][1]+1)}}wcwidth(_){return _<32?0:_<127?1:_<65536?v[_]:(function(k,w){let y,x=0,g=w.length-1;if(k<w[0][0]||k>w[g][1])return!1;for(;g>=x;)if(y=x+g>>1,k>w[y][1])x=y+1;else{if(!(k<w[y][0]))return!0;g=y-1}return!1})(_,h)?0:_>=131072&&_<=196605||_>=196608&&_<=262141?2:1}charProperties(_,k){let w=this.wcwidth(_),y=w===0&&k!==0;if(y){const x=f.UnicodeService.extractWidth(k);x===0?y=!1:x>w&&(w=x)}return f.UnicodeService.createPropertyValue(0,w,y)}}},5981:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.WriteBuffer=void 0;const f=u(8460),p=u(844);class h extends p.Disposable{constructor(_){super(),this._action=_,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new f.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(_,k){if(k!==void 0&&this._syncCalls>k)return void(this._syncCalls=0);if(this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let w;for(this._isSyncWriting=!0;w=this._writeBuffer.shift();){this._action(w);const y=this._callbacks.shift();y&&y()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(_,k){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(k),void this._innerWrite();setTimeout((()=>this._innerWrite()))}this._pendingData+=_.length,this._writeBuffer.push(_),this._callbacks.push(k)}_innerWrite(_=0,k=!0){const w=_||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const y=this._writeBuffer[this._bufferOffset],x=this._action(y,k);if(x){const b=j=>Date.now()-w>=12?setTimeout((()=>this._innerWrite(0,j))):this._innerWrite(w,j);return void x.catch((j=>(queueMicrotask((()=>{throw j})),Promise.resolve(!1)))).then(b)}const g=this._callbacks[this._bufferOffset];if(g&&g(),this._bufferOffset++,this._pendingData-=y.length,Date.now()-w>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout((()=>this._innerWrite()))):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}l.WriteBuffer=h},5941:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.toRgbString=l.parseColor=void 0;const u=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,f=/^[\da-f]+$/;function p(h,v){const _=h.toString(16),k=_.length<2?"0"+_:_;switch(v){case 4:return _[0];case 8:return k;case 12:return(k+k).slice(0,3);default:return k+k}}l.parseColor=function(h){if(!h)return;let v=h.toLowerCase();if(v.indexOf("rgb:")===0){v=v.slice(4);const _=u.exec(v);if(_){const k=_[1]?15:_[4]?255:_[7]?4095:65535;return[Math.round(parseInt(_[1]||_[4]||_[7]||_[10],16)/k*255),Math.round(parseInt(_[2]||_[5]||_[8]||_[11],16)/k*255),Math.round(parseInt(_[3]||_[6]||_[9]||_[12],16)/k*255)]}}else if(v.indexOf("#")===0&&(v=v.slice(1),f.exec(v)&&[3,6,9,12].includes(v.length))){const _=v.length/3,k=[0,0,0];for(let w=0;w<3;++w){const y=parseInt(v.slice(_*w,_*w+_),16);k[w]=_===1?y<<4:_===2?y:_===3?y>>4:y>>8}return k}},l.toRgbString=function(h,v=16){const[_,k,w]=h;return`rgb:${p(_,v)}/${p(k,v)}/${p(w,v)}`}},5770:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.PAYLOAD_LIMIT=void 0,l.PAYLOAD_LIMIT=1e7},6351:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DcsHandler=l.DcsParser=void 0;const f=u(482),p=u(8742),h=u(5770),v=[];l.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=v,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=v}registerHandler(k,w){this._handlers[k]===void 0&&(this._handlers[k]=[]);const y=this._handlers[k];return y.push(w),{dispose:()=>{const x=y.indexOf(w);x!==-1&&y.splice(x,1)}}}clearHandler(k){this._handlers[k]&&delete this._handlers[k]}setHandlerFallback(k){this._handlerFb=k}reset(){if(this._active.length)for(let k=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;k>=0;--k)this._active[k].unhook(!1);this._stack.paused=!1,this._active=v,this._ident=0}hook(k,w){if(this.reset(),this._ident=k,this._active=this._handlers[k]||v,this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].hook(w);else this._handlerFb(this._ident,"HOOK",w)}put(k,w,y){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(k,w,y);else this._handlerFb(this._ident,"PUT",(0,f.utf32ToString)(k,w,y))}unhook(k,w=!0){if(this._active.length){let y=!1,x=this._active.length-1,g=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,y=w,g=this._stack.fallThrough,this._stack.paused=!1),!g&&y===!1){for(;x>=0&&(y=this._active[x].unhook(k),y!==!0);x--)if(y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,y;x--}for(;x>=0;x--)if(y=this._active[x].unhook(!1),y instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,y}else this._handlerFb(this._ident,"UNHOOK",k);this._active=v,this._ident=0}};const _=new p.Params;_.addParam(0),l.DcsHandler=class{constructor(k){this._handler=k,this._data="",this._params=_,this._hitLimit=!1}hook(k){this._params=k.length>1||k.params[0]?k.clone():_,this._data="",this._hitLimit=!1}put(k,w,y){this._hitLimit||(this._data+=(0,f.utf32ToString)(k,w,y),this._data.length>h.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(k){let w=!1;if(this._hitLimit)w=!1;else if(k&&(w=this._handler(this._data,this._params),w instanceof Promise))return w.then((y=>(this._params=_,this._data="",this._hitLimit=!1,y)));return this._params=_,this._data="",this._hitLimit=!1,w}}},2015:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.EscapeSequenceParser=l.VT500_TRANSITION_TABLE=l.TransitionTable=void 0;const f=u(844),p=u(8742),h=u(6242),v=u(6351);class _{constructor(x){this.table=new Uint8Array(x)}setDefault(x,g){this.table.fill(x<<4|g)}add(x,g,b,j){this.table[g<<8|x]=b<<4|j}addMany(x,g,b,j){for(let N=0;N<x.length;N++)this.table[g<<8|x[N]]=b<<4|j}}l.TransitionTable=_;const k=160;l.VT500_TRANSITION_TABLE=(function(){const y=new _(4095),x=Array.apply(null,Array(256)).map(((P,E)=>E)),g=(P,E)=>x.slice(P,E),b=g(32,127),j=g(0,24);j.push(25),j.push.apply(j,g(28,32));const N=g(0,14);let T;for(T in y.setDefault(1,0),y.addMany(b,0,2,0),N)y.addMany([24,26,153,154],T,3,0),y.addMany(g(128,144),T,3,0),y.addMany(g(144,152),T,3,0),y.add(156,T,0,0),y.add(27,T,11,1),y.add(157,T,4,8),y.addMany([152,158,159],T,0,7),y.add(155,T,11,3),y.add(144,T,11,9);return y.addMany(j,0,3,0),y.addMany(j,1,3,1),y.add(127,1,0,1),y.addMany(j,8,0,8),y.addMany(j,3,3,3),y.add(127,3,0,3),y.addMany(j,4,3,4),y.add(127,4,0,4),y.addMany(j,6,3,6),y.addMany(j,5,3,5),y.add(127,5,0,5),y.addMany(j,2,3,2),y.add(127,2,0,2),y.add(93,1,4,8),y.addMany(b,8,5,8),y.add(127,8,5,8),y.addMany([156,27,24,26,7],8,6,0),y.addMany(g(28,32),8,0,8),y.addMany([88,94,95],1,0,7),y.addMany(b,7,0,7),y.addMany(j,7,0,7),y.add(156,7,0,0),y.add(127,7,0,7),y.add(91,1,11,3),y.addMany(g(64,127),3,7,0),y.addMany(g(48,60),3,8,4),y.addMany([60,61,62,63],3,9,4),y.addMany(g(48,60),4,8,4),y.addMany(g(64,127),4,7,0),y.addMany([60,61,62,63],4,0,6),y.addMany(g(32,64),6,0,6),y.add(127,6,0,6),y.addMany(g(64,127),6,0,0),y.addMany(g(32,48),3,9,5),y.addMany(g(32,48),5,9,5),y.addMany(g(48,64),5,0,6),y.addMany(g(64,127),5,7,0),y.addMany(g(32,48),4,9,5),y.addMany(g(32,48),1,9,2),y.addMany(g(32,48),2,9,2),y.addMany(g(48,127),2,10,0),y.addMany(g(48,80),1,10,0),y.addMany(g(81,88),1,10,0),y.addMany([89,90,92],1,10,0),y.addMany(g(96,127),1,10,0),y.add(80,1,11,9),y.addMany(j,9,0,9),y.add(127,9,0,9),y.addMany(g(28,32),9,0,9),y.addMany(g(32,48),9,9,12),y.addMany(g(48,60),9,8,10),y.addMany([60,61,62,63],9,9,10),y.addMany(j,11,0,11),y.addMany(g(32,128),11,0,11),y.addMany(g(28,32),11,0,11),y.addMany(j,10,0,10),y.add(127,10,0,10),y.addMany(g(28,32),10,0,10),y.addMany(g(48,60),10,8,10),y.addMany([60,61,62,63],10,0,11),y.addMany(g(32,48),10,9,12),y.addMany(j,12,0,12),y.add(127,12,0,12),y.addMany(g(28,32),12,0,12),y.addMany(g(32,48),12,9,12),y.addMany(g(48,64),12,0,11),y.addMany(g(64,127),12,12,13),y.addMany(g(64,127),10,12,13),y.addMany(g(64,127),9,12,13),y.addMany(j,13,13,13),y.addMany(b,13,13,13),y.add(127,13,0,13),y.addMany([27,156,24,26],13,14,0),y.add(k,0,2,0),y.add(k,8,5,8),y.add(k,6,0,6),y.add(k,11,0,11),y.add(k,13,13,13),y})();class w extends f.Disposable{constructor(x=l.VT500_TRANSITION_TABLE){super(),this._transitions=x,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new p.Params,this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._printHandlerFb=(g,b,j)=>{},this._executeHandlerFb=g=>{},this._csiHandlerFb=(g,b)=>{},this._escHandlerFb=g=>{},this._errorHandlerFb=g=>g,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,f.toDisposable)((()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)}))),this._oscParser=this.register(new h.OscParser),this._dcsParser=this.register(new v.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},(()=>!0))}_identifier(x,g=[64,126]){let b=0;if(x.prefix){if(x.prefix.length>1)throw new Error("only one byte as prefix supported");if(b=x.prefix.charCodeAt(0),b&&60>b||b>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(x.intermediates){if(x.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let N=0;N<x.intermediates.length;++N){const T=x.intermediates.charCodeAt(N);if(32>T||T>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");b<<=8,b|=T}}if(x.final.length!==1)throw new Error("final must be a single byte");const j=x.final.charCodeAt(0);if(g[0]>j||j>g[1])throw new Error(`final must be in range ${g[0]} .. ${g[1]}`);return b<<=8,b|=j,b}identToString(x){const g=[];for(;x;)g.push(String.fromCharCode(255&x)),x>>=8;return g.reverse().join("")}setPrintHandler(x){this._printHandler=x}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(x,g){const b=this._identifier(x,[48,126]);this._escHandlers[b]===void 0&&(this._escHandlers[b]=[]);const j=this._escHandlers[b];return j.push(g),{dispose:()=>{const N=j.indexOf(g);N!==-1&&j.splice(N,1)}}}clearEscHandler(x){this._escHandlers[this._identifier(x,[48,126])]&&delete this._escHandlers[this._identifier(x,[48,126])]}setEscHandlerFallback(x){this._escHandlerFb=x}setExecuteHandler(x,g){this._executeHandlers[x.charCodeAt(0)]=g}clearExecuteHandler(x){this._executeHandlers[x.charCodeAt(0)]&&delete this._executeHandlers[x.charCodeAt(0)]}setExecuteHandlerFallback(x){this._executeHandlerFb=x}registerCsiHandler(x,g){const b=this._identifier(x);this._csiHandlers[b]===void 0&&(this._csiHandlers[b]=[]);const j=this._csiHandlers[b];return j.push(g),{dispose:()=>{const N=j.indexOf(g);N!==-1&&j.splice(N,1)}}}clearCsiHandler(x){this._csiHandlers[this._identifier(x)]&&delete this._csiHandlers[this._identifier(x)]}setCsiHandlerFallback(x){this._csiHandlerFb=x}registerDcsHandler(x,g){return this._dcsParser.registerHandler(this._identifier(x),g)}clearDcsHandler(x){this._dcsParser.clearHandler(this._identifier(x))}setDcsHandlerFallback(x){this._dcsParser.setHandlerFallback(x)}registerOscHandler(x,g){return this._oscParser.registerHandler(x,g)}clearOscHandler(x){this._oscParser.clearHandler(x)}setOscHandlerFallback(x){this._oscParser.setHandlerFallback(x)}setErrorHandler(x){this._errorHandler=x}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(x,g,b,j,N){this._parseStack.state=x,this._parseStack.handlers=g,this._parseStack.handlerPos=b,this._parseStack.transition=j,this._parseStack.chunkPos=N}parse(x,g,b){let j,N=0,T=0,P=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,P=this._parseStack.chunkPos+1;else{if(b===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const E=this._parseStack.handlers;let L=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(b===!1&&L>-1){for(;L>=0&&(j=E[L](this._params),j!==!0);L--)if(j instanceof Promise)return this._parseStack.handlerPos=L,j}this._parseStack.handlers=[];break;case 4:if(b===!1&&L>-1){for(;L>=0&&(j=E[L](),j!==!0);L--)if(j instanceof Promise)return this._parseStack.handlerPos=L,j}this._parseStack.handlers=[];break;case 6:if(N=x[this._parseStack.chunkPos],j=this._dcsParser.unhook(N!==24&&N!==26,b),j)return j;N===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(N=x[this._parseStack.chunkPos],j=this._oscParser.end(N!==24&&N!==26,b),j)return j;N===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,P=this._parseStack.chunkPos+1,this.precedingJoinState=0,this.currentState=15&this._parseStack.transition}for(let E=P;E<g;++E){switch(N=x[E],T=this._transitions.table[this.currentState<<8|(N<160?N:k)],T>>4){case 2:for(let U=E+1;;++U){if(U>=g||(N=x[U])<32||N>126&&N<k){this._printHandler(x,E,U),E=U-1;break}if(++U>=g||(N=x[U])<32||N>126&&N<k){this._printHandler(x,E,U),E=U-1;break}if(++U>=g||(N=x[U])<32||N>126&&N<k){this._printHandler(x,E,U),E=U-1;break}if(++U>=g||(N=x[U])<32||N>126&&N<k){this._printHandler(x,E,U),E=U-1;break}}break;case 3:this._executeHandlers[N]?this._executeHandlers[N]():this._executeHandlerFb(N),this.precedingJoinState=0;break;case 0:break;case 1:if(this._errorHandler({position:E,code:N,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const L=this._csiHandlers[this._collect<<8|N];let z=L?L.length-1:-1;for(;z>=0&&(j=L[z](this._params),j!==!0);z--)if(j instanceof Promise)return this._preserveStack(3,L,z,T,E),j;z<0&&this._csiHandlerFb(this._collect<<8|N,this._params),this.precedingJoinState=0;break;case 8:do switch(N){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(N-48)}while(++E<g&&(N=x[E])>47&&N<60);E--;break;case 9:this._collect<<=8,this._collect|=N;break;case 10:const F=this._escHandlers[this._collect<<8|N];let V=F?F.length-1:-1;for(;V>=0&&(j=F[V](),j!==!0);V--)if(j instanceof Promise)return this._preserveStack(4,F,V,T,E),j;V<0&&this._escHandlerFb(this._collect<<8|N),this.precedingJoinState=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|N,this._params);break;case 13:for(let U=E+1;;++U)if(U>=g||(N=x[U])===24||N===26||N===27||N>127&&N<k){this._dcsParser.put(x,E,U),E=U-1;break}break;case 14:if(j=this._dcsParser.unhook(N!==24&&N!==26),j)return this._preserveStack(6,[],0,T,E),j;N===27&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0;break;case 4:this._oscParser.start();break;case 5:for(let U=E+1;;U++)if(U>=g||(N=x[U])<32||N>127&&N<k){this._oscParser.put(x,E,U),E=U-1;break}break;case 6:if(j=this._oscParser.end(N!==24&&N!==26),j)return this._preserveStack(5,[],0,T,E),j;N===27&&(T|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingJoinState=0}this.currentState=15&T}}}l.EscapeSequenceParser=w},6242:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OscHandler=l.OscParser=void 0;const f=u(5770),p=u(482),h=[];l.OscParser=class{constructor(){this._state=0,this._active=h,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(v,_){this._handlers[v]===void 0&&(this._handlers[v]=[]);const k=this._handlers[v];return k.push(_),{dispose:()=>{const w=k.indexOf(_);w!==-1&&k.splice(w,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}reset(){if(this._state===2)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].end(!1);this._stack.paused=!1,this._active=h,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||h,this._active.length)for(let v=this._active.length-1;v>=0;v--)this._active[v].start();else this._handlerFb(this._id,"START")}_put(v,_,k){if(this._active.length)for(let w=this._active.length-1;w>=0;w--)this._active[w].put(v,_,k);else this._handlerFb(this._id,"PUT",(0,p.utf32ToString)(v,_,k))}start(){this.reset(),this._state=1}put(v,_,k){if(this._state!==3){if(this._state===1)for(;_<k;){const w=v[_++];if(w===59){this._state=2,this._start();break}if(w<48||57<w)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+w-48}this._state===2&&k-_>0&&this._put(v,_,k)}}end(v,_=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let k=!1,w=this._active.length-1,y=!1;if(this._stack.paused&&(w=this._stack.loopPosition-1,k=_,y=this._stack.fallThrough,this._stack.paused=!1),!y&&k===!1){for(;w>=0&&(k=this._active[w].end(v),k!==!0);w--)if(k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!1,k;w--}for(;w>=0;w--)if(k=this._active[w].end(!1),k instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=w,this._stack.fallThrough=!0,k}else this._handlerFb(this._id,"END",v);this._active=h,this._id=-1,this._state=0}}},l.OscHandler=class{constructor(v){this._handler=v,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(v,_,k){this._hitLimit||(this._data+=(0,p.utf32ToString)(v,_,k),this._data.length>f.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(v){let _=!1;if(this._hitLimit)_=!1;else if(v&&(_=this._handler(this._data),_ instanceof Promise))return _.then((k=>(this._data="",this._hitLimit=!1,k)));return this._data="",this._hitLimit=!1,_}}},8742:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.Params=void 0;const u=2147483647;class f{static fromArray(h){const v=new f;if(!h.length)return v;for(let _=Array.isArray(h[0])?1:0;_<h.length;++_){const k=h[_];if(Array.isArray(k))for(let w=0;w<k.length;++w)v.addSubParam(k[w]);else v.addParam(k)}return v}constructor(h=32,v=32){if(this.maxLength=h,this.maxSubParamsLength=v,v>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(h),this.length=0,this._subParams=new Int32Array(v),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(h),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const h=new f(this.maxLength,this.maxSubParamsLength);return h.params.set(this.params),h.length=this.length,h._subParams.set(this._subParams),h._subParamsLength=this._subParamsLength,h._subParamsIdx.set(this._subParamsIdx),h._rejectDigits=this._rejectDigits,h._rejectSubDigits=this._rejectSubDigits,h._digitIsSub=this._digitIsSub,h}toArray(){const h=[];for(let v=0;v<this.length;++v){h.push(this.params[v]);const _=this._subParamsIdx[v]>>8,k=255&this._subParamsIdx[v];k-_>0&&h.push(Array.prototype.slice.call(this._subParams,_,k))}return h}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(h){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=h>u?u:h}}addSubParam(h){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(h<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=h>u?u:h,this._subParamsIdx[this.length-1]++}}hasSubParams(h){return(255&this._subParamsIdx[h])-(this._subParamsIdx[h]>>8)>0}getSubParams(h){const v=this._subParamsIdx[h]>>8,_=255&this._subParamsIdx[h];return _-v>0?this._subParams.subarray(v,_):null}getSubParamsAll(){const h={};for(let v=0;v<this.length;++v){const _=this._subParamsIdx[v]>>8,k=255&this._subParamsIdx[v];k-_>0&&(h[v]=this._subParams.slice(_,k))}return h}addDigit(h){let v;if(this._rejectDigits||!(v=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const _=this._digitIsSub?this._subParams:this.params,k=_[v-1];_[v-1]=~k?Math.min(10*k+h,u):h}}l.Params=f},5741:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.AddonManager=void 0,l.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let u=this._addons.length-1;u>=0;u--)this._addons[u].instance.dispose()}loadAddon(u,f){const p={instance:f,dispose:f.dispose,isDisposed:!1};this._addons.push(p),f.dispose=()=>this._wrappedAddonDispose(p),f.activate(u)}_wrappedAddonDispose(u){if(u.isDisposed)return;let f=-1;for(let p=0;p<this._addons.length;p++)if(this._addons[p]===u){f=p;break}if(f===-1)throw new Error("Could not dispose an addon that has not been loaded");u.isDisposed=!0,u.dispose.apply(u.instance),this._addons.splice(f,1)}}},8771:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferApiView=void 0;const f=u(3785),p=u(511);l.BufferApiView=class{constructor(h,v){this._buffer=h,this.type=v}init(h){return this._buffer=h,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(h){const v=this._buffer.lines.get(h);if(v)return new f.BufferLineApiView(v)}getNullCell(){return new p.CellData}}},3785:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferLineApiView=void 0;const f=u(511);l.BufferLineApiView=class{constructor(p){this._line=p}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(p,h){if(!(p<0||p>=this._line.length))return h?(this._line.loadCell(p,h),h):this._line.loadCell(p,new f.CellData)}translateToString(p,h,v){return this._line.translateToString(p,h,v)}}},8285:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.BufferNamespaceApi=void 0;const f=u(8771),p=u(8460),h=u(844);class v extends h.Disposable{constructor(k){super(),this._core=k,this._onBufferChange=this.register(new p.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new f.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new f.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate((()=>this._onBufferChange.fire(this.active)))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}l.BufferNamespaceApi=v},7975:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.ParserApi=void 0,l.ParserApi=class{constructor(u){this._core=u}registerCsiHandler(u,f){return this._core.registerCsiHandler(u,(p=>f(p.toArray())))}addCsiHandler(u,f){return this.registerCsiHandler(u,f)}registerDcsHandler(u,f){return this._core.registerDcsHandler(u,((p,h)=>f(p,h.toArray())))}addDcsHandler(u,f){return this.registerDcsHandler(u,f)}registerEscHandler(u,f){return this._core.registerEscHandler(u,f)}addEscHandler(u,f){return this.registerEscHandler(u,f)}registerOscHandler(u,f){return this._core.registerOscHandler(u,f)}addOscHandler(u,f){return this.registerOscHandler(u,f)}}},7090:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeApi=void 0,l.UnicodeApi=class{constructor(u){this._core=u}register(u){this._core.unicodeService.register(u)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(u){this._core.unicodeService.activeVersion=u}}},744:function(c,l,u){var f=this&&this.__decorate||function(y,x,g,b){var j,N=arguments.length,T=N<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,g):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,x,g,b);else for(var P=y.length-1;P>=0;P--)(j=y[P])&&(T=(N<3?j(T):N>3?j(x,g,T):j(x,g))||T);return N>3&&T&&Object.defineProperty(x,g,T),T},p=this&&this.__param||function(y,x){return function(g,b){x(g,b,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.BufferService=l.MINIMUM_ROWS=l.MINIMUM_COLS=void 0;const h=u(8460),v=u(844),_=u(5295),k=u(2585);l.MINIMUM_COLS=2,l.MINIMUM_ROWS=1;let w=l.BufferService=class extends v.Disposable{get buffer(){return this.buffers.active}constructor(y){super(),this.isUserScrolling=!1,this._onResize=this.register(new h.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new h.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(y.rawOptions.cols||0,l.MINIMUM_COLS),this.rows=Math.max(y.rawOptions.rows||0,l.MINIMUM_ROWS),this.buffers=this.register(new _.BufferSet(y,this))}resize(y,x){this.cols=y,this.rows=x,this.buffers.resize(y,x),this._onResize.fire({cols:y,rows:x})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(y,x=!1){const g=this.buffer;let b;b=this._cachedBlankLine,b&&b.length===this.cols&&b.getFg(0)===y.fg&&b.getBg(0)===y.bg||(b=g.getBlankLine(y,x),this._cachedBlankLine=b),b.isWrapped=x;const j=g.ybase+g.scrollTop,N=g.ybase+g.scrollBottom;if(g.scrollTop===0){const T=g.lines.isFull;N===g.lines.length-1?T?g.lines.recycle().copyFrom(b):g.lines.push(b.clone()):g.lines.splice(N+1,0,b.clone()),T?this.isUserScrolling&&(g.ydisp=Math.max(g.ydisp-1,0)):(g.ybase++,this.isUserScrolling||g.ydisp++)}else{const T=N-j+1;g.lines.shiftElements(j+1,T-1,-1),g.lines.set(N,b.clone())}this.isUserScrolling||(g.ydisp=g.ybase),this._onScroll.fire(g.ydisp)}scrollLines(y,x,g){const b=this.buffer;if(y<0){if(b.ydisp===0)return;this.isUserScrolling=!0}else y+b.ydisp>=b.ybase&&(this.isUserScrolling=!1);const j=b.ydisp;b.ydisp=Math.max(Math.min(b.ydisp+y,b.ybase),0),j!==b.ydisp&&(x||this._onScroll.fire(b.ydisp))}};l.BufferService=w=f([p(0,k.IOptionsService)],w)},7994:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.CharsetService=void 0,l.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(u){this.glevel=u,this.charset=this._charsets[u]}setgCharset(u,f){this._charsets[u]=f,this.glevel===u&&(this.charset=f)}}},1753:function(c,l,u){var f=this&&this.__decorate||function(b,j,N,T){var P,E=arguments.length,L=E<3?j:T===null?T=Object.getOwnPropertyDescriptor(j,N):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")L=Reflect.decorate(b,j,N,T);else for(var z=b.length-1;z>=0;z--)(P=b[z])&&(L=(E<3?P(L):E>3?P(j,N,L):P(j,N))||L);return E>3&&L&&Object.defineProperty(j,N,L),L},p=this&&this.__param||function(b,j){return function(N,T){j(N,T,b)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreMouseService=void 0;const h=u(2585),v=u(8460),_=u(844),k={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:b=>b.button!==4&&b.action===1&&(b.ctrl=!1,b.alt=!1,b.shift=!1,!0)},VT200:{events:19,restrict:b=>b.action!==32},DRAG:{events:23,restrict:b=>b.action!==32||b.button!==3},ANY:{events:31,restrict:b=>!0}};function w(b,j){let N=(b.ctrl?16:0)|(b.shift?4:0)|(b.alt?8:0);return b.button===4?(N|=64,N|=b.action):(N|=3&b.button,4&b.button&&(N|=64),8&b.button&&(N|=128),b.action===32?N|=32:b.action!==0||j||(N|=3)),N}const y=String.fromCharCode,x={DEFAULT:b=>{const j=[w(b,!1)+32,b.col+32,b.row+32];return j[0]>255||j[1]>255||j[2]>255?"":`\x1B[M${y(j[0])}${y(j[1])}${y(j[2])}`},SGR:b=>{const j=b.action===0&&b.button!==4?"m":"M";return`\x1B[<${w(b,!0)};${b.col};${b.row}${j}`},SGR_PIXELS:b=>{const j=b.action===0&&b.button!==4?"m":"M";return`\x1B[<${w(b,!0)};${b.x};${b.y}${j}`}};let g=l.CoreMouseService=class extends _.Disposable{constructor(b,j){super(),this._bufferService=b,this._coreService=j,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new v.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const N of Object.keys(k))this.addProtocol(N,k[N]);for(const N of Object.keys(x))this.addEncoding(N,x[N]);this.reset()}addProtocol(b,j){this._protocols[b]=j}addEncoding(b,j){this._encodings[b]=j}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(b){if(!this._protocols[b])throw new Error(`unknown protocol "${b}"`);this._activeProtocol=b,this._onProtocolChange.fire(this._protocols[b].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(b){if(!this._encodings[b])throw new Error(`unknown encoding "${b}"`);this._activeEncoding=b}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(b){if(b.col<0||b.col>=this._bufferService.cols||b.row<0||b.row>=this._bufferService.rows||b.button===4&&b.action===32||b.button===3&&b.action!==32||b.button!==4&&(b.action===2||b.action===3)||(b.col++,b.row++,b.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,b,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(b))return!1;const j=this._encodings[this._activeEncoding](b);return j&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(j):this._coreService.triggerDataEvent(j,!0)),this._lastEvent=b,!0}explainEvents(b){return{down:!!(1&b),up:!!(2&b),drag:!!(4&b),move:!!(8&b),wheel:!!(16&b)}}_equalEvents(b,j,N){if(N){if(b.x!==j.x||b.y!==j.y)return!1}else if(b.col!==j.col||b.row!==j.row)return!1;return b.button===j.button&&b.action===j.action&&b.ctrl===j.ctrl&&b.alt===j.alt&&b.shift===j.shift}};l.CoreMouseService=g=f([p(0,h.IBufferService),p(1,h.ICoreService)],g)},6975:function(c,l,u){var f=this&&this.__decorate||function(g,b,j,N){var T,P=arguments.length,E=P<3?b:N===null?N=Object.getOwnPropertyDescriptor(b,j):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(g,b,j,N);else for(var L=g.length-1;L>=0;L--)(T=g[L])&&(E=(P<3?T(E):P>3?T(b,j,E):T(b,j))||E);return P>3&&E&&Object.defineProperty(b,j,E),E},p=this&&this.__param||function(g,b){return function(j,N){b(j,N,g)}};Object.defineProperty(l,"__esModule",{value:!0}),l.CoreService=void 0;const h=u(1439),v=u(8460),_=u(844),k=u(2585),w=Object.freeze({insertMode:!1}),y=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let x=l.CoreService=class extends _.Disposable{constructor(g,b,j){super(),this._bufferService=g,this._logService=b,this._optionsService=j,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new v.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new v.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new v.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new v.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,h.clone)(w),this.decPrivateModes=(0,h.clone)(y)}reset(){this.modes=(0,h.clone)(w),this.decPrivateModes=(0,h.clone)(y)}triggerDataEvent(g,b=!1){if(this._optionsService.rawOptions.disableStdin)return;const j=this._bufferService.buffer;b&&this._optionsService.rawOptions.scrollOnUserInput&&j.ybase!==j.ydisp&&this._onRequestScrollToBottom.fire(),b&&this._onUserInput.fire(),this._logService.debug(`sending data "${g}"`,(()=>g.split("").map((N=>N.charCodeAt(0))))),this._onData.fire(g)}triggerBinaryEvent(g){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${g}"`,(()=>g.split("").map((b=>b.charCodeAt(0))))),this._onBinary.fire(g))}};l.CoreService=x=f([p(0,k.IBufferService),p(1,k.ILogService),p(2,k.IOptionsService)],x)},9074:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.DecorationService=void 0;const f=u(8055),p=u(8460),h=u(844),v=u(6106);let _=0,k=0;class w extends h.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new v.SortedList((g=>g==null?void 0:g.marker.line)),this._onDecorationRegistered=this.register(new p.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new p.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,h.toDisposable)((()=>this.reset())))}registerDecoration(g){if(g.marker.isDisposed)return;const b=new y(g);if(b){const j=b.marker.onDispose((()=>b.dispose()));b.onDispose((()=>{b&&(this._decorations.delete(b)&&this._onDecorationRemoved.fire(b),j.dispose())})),this._decorations.insert(b),this._onDecorationRegistered.fire(b)}return b}reset(){for(const g of this._decorations.values())g.dispose();this._decorations.clear()}*getDecorationsAtCell(g,b,j){let N=0,T=0;for(const P of this._decorations.getKeyIterator(b))N=P.options.x??0,T=N+(P.options.width??1),g>=N&&g<T&&(!j||(P.options.layer??"bottom")===j)&&(yield P)}forEachDecorationAtCell(g,b,j,N){this._decorations.forEachByKey(b,(T=>{_=T.options.x??0,k=_+(T.options.width??1),g>=_&&g<k&&(!j||(T.options.layer??"bottom")===j)&&N(T)}))}}l.DecorationService=w;class y extends h.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=f.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=f.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(g){super(),this.options=g,this.onRenderEmitter=this.register(new p.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new p.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=g.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.InstantiationService=l.ServiceCollection=void 0;const f=u(2585),p=u(8343);class h{constructor(..._){this._entries=new Map;for(const[k,w]of _)this.set(k,w)}set(_,k){const w=this._entries.get(_);return this._entries.set(_,k),w}forEach(_){for(const[k,w]of this._entries.entries())_(k,w)}has(_){return this._entries.has(_)}get(_){return this._entries.get(_)}}l.ServiceCollection=h,l.InstantiationService=class{constructor(){this._services=new h,this._services.set(f.IInstantiationService,this)}setService(v,_){this._services.set(v,_)}getService(v){return this._services.get(v)}createInstance(v,..._){const k=(0,p.getServiceDependencies)(v).sort(((x,g)=>x.index-g.index)),w=[];for(const x of k){const g=this._services.get(x.id);if(!g)throw new Error(`[createInstance] ${v.name} depends on UNKNOWN service ${x.id}.`);w.push(g)}const y=k.length>0?k[0].index:_.length;if(_.length!==y)throw new Error(`[createInstance] First service dependency of ${v.name} at position ${y+1} conflicts with ${_.length} static arguments`);return new v(..._,...w)}}},7866:function(c,l,u){var f=this&&this.__decorate||function(y,x,g,b){var j,N=arguments.length,T=N<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,g):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,x,g,b);else for(var P=y.length-1;P>=0;P--)(j=y[P])&&(T=(N<3?j(T):N>3?j(x,g,T):j(x,g))||T);return N>3&&T&&Object.defineProperty(x,g,T),T},p=this&&this.__param||function(y,x){return function(g,b){x(g,b,y)}};Object.defineProperty(l,"__esModule",{value:!0}),l.traceCall=l.setTraceLogger=l.LogService=void 0;const h=u(844),v=u(2585),_={trace:v.LogLevelEnum.TRACE,debug:v.LogLevelEnum.DEBUG,info:v.LogLevelEnum.INFO,warn:v.LogLevelEnum.WARN,error:v.LogLevelEnum.ERROR,off:v.LogLevelEnum.OFF};let k,w=l.LogService=class extends h.Disposable{get logLevel(){return this._logLevel}constructor(y){super(),this._optionsService=y,this._logLevel=v.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",(()=>this._updateLogLevel()))),k=this}_updateLogLevel(){this._logLevel=_[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(y){for(let x=0;x<y.length;x++)typeof y[x]=="function"&&(y[x]=y[x]())}_log(y,x,g){this._evalLazyOptionalParams(g),y.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+x,...g)}trace(y,...x){var g;this._logLevel<=v.LogLevelEnum.TRACE&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.trace.bind(this._optionsService.options.logger))??console.log,y,x)}debug(y,...x){var g;this._logLevel<=v.LogLevelEnum.DEBUG&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.debug.bind(this._optionsService.options.logger))??console.log,y,x)}info(y,...x){var g;this._logLevel<=v.LogLevelEnum.INFO&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.info.bind(this._optionsService.options.logger))??console.info,y,x)}warn(y,...x){var g;this._logLevel<=v.LogLevelEnum.WARN&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.warn.bind(this._optionsService.options.logger))??console.warn,y,x)}error(y,...x){var g;this._logLevel<=v.LogLevelEnum.ERROR&&this._log(((g=this._optionsService.options.logger)==null?void 0:g.error.bind(this._optionsService.options.logger))??console.error,y,x)}};l.LogService=w=f([p(0,v.IOptionsService)],w),l.setTraceLogger=function(y){k=y},l.traceCall=function(y,x,g){if(typeof g.value!="function")throw new Error("not supported");const b=g.value;g.value=function(...j){if(k.logLevel!==v.LogLevelEnum.TRACE)return b.apply(this,j);k.trace(`GlyphRenderer#${b.name}(${j.map((T=>JSON.stringify(T))).join(", ")})`);const N=b.apply(this,j);return k.trace(`GlyphRenderer#${b.name} return`,N),N}}},7302:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.OptionsService=l.DEFAULT_OPTIONS=void 0;const f=u(8460),p=u(844),h=u(6114);l.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,documentOverride:null,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rescaleOverlappingGlyphs:!1,rightClickSelectsWord:h.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const v=["normal","bold","100","200","300","400","500","600","700","800","900"];class _ extends p.Disposable{constructor(w){super(),this._onOptionChange=this.register(new f.EventEmitter),this.onOptionChange=this._onOptionChange.event;const y={...l.DEFAULT_OPTIONS};for(const x in w)if(x in y)try{const g=w[x];y[x]=this._sanitizeAndValidateOption(x,g)}catch(g){console.error(g)}this.rawOptions=y,this.options={...y},this._setupOptions(),this.register((0,p.toDisposable)((()=>{this.rawOptions.linkHandler=null,this.rawOptions.documentOverride=null})))}onSpecificOptionChange(w,y){return this.onOptionChange((x=>{x===w&&y(this.rawOptions[w])}))}onMultipleOptionChange(w,y){return this.onOptionChange((x=>{w.indexOf(x)!==-1&&y()}))}_setupOptions(){const w=x=>{if(!(x in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);return this.rawOptions[x]},y=(x,g)=>{if(!(x in l.DEFAULT_OPTIONS))throw new Error(`No option with key "${x}"`);g=this._sanitizeAndValidateOption(x,g),this.rawOptions[x]!==g&&(this.rawOptions[x]=g,this._onOptionChange.fire(x))};for(const x in this.rawOptions){const g={get:w.bind(this,x),set:y.bind(this,x)};Object.defineProperty(this.options,x,g)}}_sanitizeAndValidateOption(w,y){switch(w){case"cursorStyle":if(y||(y=l.DEFAULT_OPTIONS[w]),!(function(x){return x==="block"||x==="underline"||x==="bar"})(y))throw new Error(`"${y}" is not a valid value for ${w}`);break;case"wordSeparator":y||(y=l.DEFAULT_OPTIONS[w]);break;case"fontWeight":case"fontWeightBold":if(typeof y=="number"&&1<=y&&y<=1e3)break;y=v.includes(y)?y:l.DEFAULT_OPTIONS[w];break;case"cursorWidth":y=Math.floor(y);case"lineHeight":case"tabStopWidth":if(y<1)throw new Error(`${w} cannot be less than 1, value: ${y}`);break;case"minimumContrastRatio":y=Math.max(1,Math.min(21,Math.round(10*y)/10));break;case"scrollback":if((y=Math.min(y,4294967295))<0)throw new Error(`${w} cannot be less than 0, value: ${y}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(y<=0)throw new Error(`${w} cannot be less than or equal to 0, value: ${y}`);break;case"rows":case"cols":if(!y&&y!==0)throw new Error(`${w} must be numeric, value: ${y}`);break;case"windowsPty":y=y??{}}return y}}l.OptionsService=_},2660:function(c,l,u){var f=this&&this.__decorate||function(_,k,w,y){var x,g=arguments.length,b=g<3?k:y===null?y=Object.getOwnPropertyDescriptor(k,w):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(_,k,w,y);else for(var j=_.length-1;j>=0;j--)(x=_[j])&&(b=(g<3?x(b):g>3?x(k,w,b):x(k,w))||b);return g>3&&b&&Object.defineProperty(k,w,b),b},p=this&&this.__param||function(_,k){return function(w,y){k(w,y,_)}};Object.defineProperty(l,"__esModule",{value:!0}),l.OscLinkService=void 0;const h=u(2585);let v=l.OscLinkService=class{constructor(_){this._bufferService=_,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(_){const k=this._bufferService.buffer;if(_.id===void 0){const j=k.addMarker(k.ybase+k.y),N={data:_,id:this._nextId++,lines:[j]};return j.onDispose((()=>this._removeMarkerFromLink(N,j))),this._dataByLinkId.set(N.id,N),N.id}const w=_,y=this._getEntryIdKey(w),x=this._entriesWithId.get(y);if(x)return this.addLineToLink(x.id,k.ybase+k.y),x.id;const g=k.addMarker(k.ybase+k.y),b={id:this._nextId++,key:this._getEntryIdKey(w),data:w,lines:[g]};return g.onDispose((()=>this._removeMarkerFromLink(b,g))),this._entriesWithId.set(b.key,b),this._dataByLinkId.set(b.id,b),b.id}addLineToLink(_,k){const w=this._dataByLinkId.get(_);if(w&&w.lines.every((y=>y.line!==k))){const y=this._bufferService.buffer.addMarker(k);w.lines.push(y),y.onDispose((()=>this._removeMarkerFromLink(w,y)))}}getLinkData(_){var k;return(k=this._dataByLinkId.get(_))==null?void 0:k.data}_getEntryIdKey(_){return`${_.id};;${_.uri}`}_removeMarkerFromLink(_,k){const w=_.lines.indexOf(k);w!==-1&&(_.lines.splice(w,1),_.lines.length===0&&(_.data.id!==void 0&&this._entriesWithId.delete(_.key),this._dataByLinkId.delete(_.id)))}};l.OscLinkService=v=f([p(0,h.IBufferService)],v)},8343:(c,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.createDecorator=l.getServiceDependencies=l.serviceRegistry=void 0;const u="di$target",f="di$dependencies";l.serviceRegistry=new Map,l.getServiceDependencies=function(p){return p[f]||[]},l.createDecorator=function(p){if(l.serviceRegistry.has(p))return l.serviceRegistry.get(p);const h=function(v,_,k){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(w,y,x){y[u]===y?y[f].push({id:w,index:x}):(y[f]=[{id:w,index:x}],y[u]=y)})(h,v,k)};return h.toString=()=>p,l.serviceRegistry.set(p,h),h}},2585:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.IDecorationService=l.IUnicodeService=l.IOscLinkService=l.IOptionsService=l.ILogService=l.LogLevelEnum=l.IInstantiationService=l.ICharsetService=l.ICoreService=l.ICoreMouseService=l.IBufferService=void 0;const f=u(8343);var p;l.IBufferService=(0,f.createDecorator)("BufferService"),l.ICoreMouseService=(0,f.createDecorator)("CoreMouseService"),l.ICoreService=(0,f.createDecorator)("CoreService"),l.ICharsetService=(0,f.createDecorator)("CharsetService"),l.IInstantiationService=(0,f.createDecorator)("InstantiationService"),(function(h){h[h.TRACE=0]="TRACE",h[h.DEBUG=1]="DEBUG",h[h.INFO=2]="INFO",h[h.WARN=3]="WARN",h[h.ERROR=4]="ERROR",h[h.OFF=5]="OFF"})(p||(l.LogLevelEnum=p={})),l.ILogService=(0,f.createDecorator)("LogService"),l.IOptionsService=(0,f.createDecorator)("OptionsService"),l.IOscLinkService=(0,f.createDecorator)("OscLinkService"),l.IUnicodeService=(0,f.createDecorator)("UnicodeService"),l.IDecorationService=(0,f.createDecorator)("DecorationService")},1480:(c,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.UnicodeService=void 0;const f=u(8460),p=u(225);class h{static extractShouldJoin(_){return(1&_)!=0}static extractWidth(_){return _>>1&3}static extractCharKind(_){return _>>3}static createPropertyValue(_,k,w=!1){return(16777215&_)<<3|(3&k)<<1|(w?1:0)}constructor(){this._providers=Object.create(null),this._active="",this._onChange=new f.EventEmitter,this.onChange=this._onChange.event;const _=new p.UnicodeV6;this.register(_),this._active=_.version,this._activeProvider=_}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(_){if(!this._providers[_])throw new Error(`unknown Unicode version "${_}"`);this._active=_,this._activeProvider=this._providers[_],this._onChange.fire(_)}register(_){this._providers[_.version]=_}wcwidth(_){return this._activeProvider.wcwidth(_)}getStringCellWidth(_){let k=0,w=0;const y=_.length;for(let x=0;x<y;++x){let g=_.charCodeAt(x);if(55296<=g&&g<=56319){if(++x>=y)return k+this.wcwidth(g);const N=_.charCodeAt(x);56320<=N&&N<=57343?g=1024*(g-55296)+N-56320+65536:k+=this.wcwidth(N)}const b=this.charProperties(g,w);let j=h.extractWidth(b);h.extractShouldJoin(b)&&(j-=h.extractWidth(w)),k+=j,w=b}return k}charProperties(_,k){return this._activeProvider.charProperties(_,k)}}l.UnicodeService=h}},n={};function o(c){var l=n[c];if(l!==void 0)return l.exports;var u=n[c]={exports:{}};return r[c].call(u.exports,u,u.exports,o),u.exports}var d={};return(()=>{var c=d;Object.defineProperty(c,"__esModule",{value:!0}),c.Terminal=void 0;const l=o(9042),u=o(3236),f=o(844),p=o(5741),h=o(8285),v=o(7975),_=o(7090),k=["cols","rows"];class w extends f.Disposable{constructor(x){super(),this._core=this.register(new u.Terminal(x)),this._addonManager=this.register(new p.AddonManager),this._publicOptions={...this._core.options};const g=j=>this._core.options[j],b=(j,N)=>{this._checkReadonlyOptions(j),this._core.options[j]=N};for(const j in this._core.options){const N={get:g.bind(this,j),set:b.bind(this,j)};Object.defineProperty(this._publicOptions,j,N)}}_checkReadonlyOptions(x){if(k.includes(x))throw new Error(`Option "${x}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new v.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new _.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new h.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const x=this._core.coreService.decPrivateModes;let g="none";switch(this._core.coreMouseService.activeProtocol){case"X10":g="x10";break;case"VT200":g="vt200";break;case"DRAG":g="drag";break;case"ANY":g="any"}return{applicationCursorKeysMode:x.applicationCursorKeys,applicationKeypadMode:x.applicationKeypad,bracketedPasteMode:x.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:g,originMode:x.origin,reverseWraparoundMode:x.reverseWraparound,sendFocusMode:x.sendFocus,wraparoundMode:x.wraparound}}get options(){return this._publicOptions}set options(x){for(const g in x)this._publicOptions[g]=x[g]}blur(){this._core.blur()}focus(){this._core.focus()}input(x,g=!0){this._core.input(x,g)}resize(x,g){this._verifyIntegers(x,g),this._core.resize(x,g)}open(x){this._core.open(x)}attachCustomKeyEventHandler(x){this._core.attachCustomKeyEventHandler(x)}attachCustomWheelEventHandler(x){this._core.attachCustomWheelEventHandler(x)}registerLinkProvider(x){return this._core.registerLinkProvider(x)}registerCharacterJoiner(x){return this._checkProposedApi(),this._core.registerCharacterJoiner(x)}deregisterCharacterJoiner(x){this._checkProposedApi(),this._core.deregisterCharacterJoiner(x)}registerMarker(x=0){return this._verifyIntegers(x),this._core.registerMarker(x)}registerDecoration(x){return this._checkProposedApi(),this._verifyPositiveIntegers(x.x??0,x.width??0,x.height??0),this._core.registerDecoration(x)}hasSelection(){return this._core.hasSelection()}select(x,g,b){this._verifyIntegers(x,g,b),this._core.select(x,g,b)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(x,g){this._verifyIntegers(x,g),this._core.selectLines(x,g)}dispose(){super.dispose()}scrollLines(x){this._verifyIntegers(x),this._core.scrollLines(x)}scrollPages(x){this._verifyIntegers(x),this._core.scrollPages(x)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(x){this._verifyIntegers(x),this._core.scrollToLine(x)}clear(){this._core.clear()}write(x,g){this._core.write(x,g)}writeln(x,g){this._core.write(x),this._core.write(`\r
`,g)}paste(x){this._core.paste(x)}refresh(x,g){this._verifyIntegers(x,g),this._core.refresh(x,g)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(x){this._addonManager.loadAddon(this,x)}static get strings(){return l}_verifyIntegers(...x){for(const g of x)if(g===1/0||isNaN(g)||g%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...x){for(const g of x)if(g&&(g===1/0||isNaN(g)||g%1!=0||g<0))throw new Error("This API only accepts positive integers")}}c.Terminal=w})(),d})()))})($f)),$f.exports}var Nz=Ez(),Vf={exports:{}},db;function Pz(){return db||(db=1,(function(e,t){(function(r,n){e.exports=n()})(self,(()=>(()=>{var r={};return(()=>{var n=r;Object.defineProperty(n,"__esModule",{value:!0}),n.FitAddon=void 0,n.FitAddon=class{activate(o){this._terminal=o}dispose(){}fit(){const o=this.proposeDimensions();if(!o||!this._terminal||isNaN(o.cols)||isNaN(o.rows))return;const d=this._terminal._core;this._terminal.rows===o.rows&&this._terminal.cols===o.cols||(d._renderService.clear(),this._terminal.resize(o.cols,o.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const o=this._terminal._core,d=o._renderService.dimensions;if(d.css.cell.width===0||d.css.cell.height===0)return;const c=this._terminal.options.scrollback===0?0:o.viewport.scrollBarWidth,l=window.getComputedStyle(this._terminal.element.parentElement),u=parseInt(l.getPropertyValue("height")),f=Math.max(0,parseInt(l.getPropertyValue("width"))),p=window.getComputedStyle(this._terminal.element),h=u-(parseInt(p.getPropertyValue("padding-top"))+parseInt(p.getPropertyValue("padding-bottom"))),v=f-(parseInt(p.getPropertyValue("padding-right"))+parseInt(p.getPropertyValue("padding-left")))-c;return{cols:Math.max(2,Math.floor(v/d.css.cell.width)),rows:Math.max(1,Math.floor(h/d.css.cell.height))}}}})(),r})()))})(Vf)),Vf.exports}var Tz=Pz(),Uf={exports:{}},hb;function Rz(){return hb||(hb=1,(function(e,t){(function(r,n){e.exports=n()})(self,(()=>(()=>{var r={6:(c,l)=>{function u(p){try{const h=new URL(p),v=h.password&&h.username?`${h.protocol}//${h.username}:${h.password}@${h.host}`:h.username?`${h.protocol}//${h.username}@${h.host}`:`${h.protocol}//${h.host}`;return p.toLocaleLowerCase().startsWith(v.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(l,"__esModule",{value:!0}),l.LinkComputer=l.WebLinkProvider=void 0,l.WebLinkProvider=class{constructor(p,h,v,_={}){this._terminal=p,this._regex=h,this._handler=v,this._options=_}provideLinks(p,h){const v=f.computeLink(p,this._regex,this._terminal,this._handler);h(this._addCallbacks(v))}_addCallbacks(p){return p.map((h=>(h.leave=this._options.leave,h.hover=(v,_)=>{if(this._options.hover){const{range:k}=h;this._options.hover(v,_,k)}},h)))}};class f{static computeLink(h,v,_,k){const w=new RegExp(v.source,(v.flags||"")+"g"),[y,x]=f._getWindowedLineStrings(h-1,_),g=y.join("");let b;const j=[];for(;b=w.exec(g);){const N=b[0];if(!u(N))continue;const[T,P]=f._mapStrIdx(_,x,0,b.index),[E,L]=f._mapStrIdx(_,T,P,N.length);if(T===-1||P===-1||E===-1||L===-1)continue;const z={start:{x:P+1,y:T+1},end:{x:L,y:E+1}};j.push({range:z,text:N,activate:k})}return j}static _getWindowedLineStrings(h,v){let _,k=h,w=h,y=0,x="";const g=[];if(_=v.buffer.active.getLine(h)){const b=_.translateToString(!0);if(_.isWrapped&&b[0]!==" "){for(y=0;(_=v.buffer.active.getLine(--k))&&y<2048&&(x=_.translateToString(!0),y+=x.length,g.push(x),_.isWrapped&&x.indexOf(" ")===-1););g.reverse()}for(g.push(b),y=0;(_=v.buffer.active.getLine(++w))&&_.isWrapped&&y<2048&&(x=_.translateToString(!0),y+=x.length,g.push(x),x.indexOf(" ")===-1););}return[g,k]}static _mapStrIdx(h,v,_,k){const w=h.buffer.active,y=w.getNullCell();let x=_;for(;k;){const g=w.getLine(v);if(!g)return[-1,-1];for(let b=x;b<g.length;++b){g.getCell(b,y);const j=y.getChars();if(y.getWidth()&&(k-=j.length||1,b===g.length-1&&j==="")){const N=w.getLine(v+1);N&&N.isWrapped&&(N.getCell(0,y),y.getWidth()===2&&(k+=1))}if(k<0)return[v,b]}v++,x=0}return[v,x]}}l.LinkComputer=f}},n={};function o(c){var l=n[c];if(l!==void 0)return l.exports;var u=n[c]={exports:{}};return r[c](u,u.exports,o),u.exports}var d={};return(()=>{var c=d;Object.defineProperty(c,"__esModule",{value:!0}),c.WebLinksAddon=void 0;const l=o(6),u=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function f(p,h){const v=window.open();if(v){try{v.opener=null}catch{}v.location.href=h}else console.warn("Opening link blocked as opener could not be cleared")}c.WebLinksAddon=class{constructor(p=f,h={}){this._handler=p,this._options=h}activate(p){this._terminal=p;const h=this._options,v=h.urlRegex||u;this._linkProvider=this._terminal.registerLinkProvider(new l.WebLinkProvider(this._terminal,v,this._handler,h))}dispose(){var p;(p=this._linkProvider)==null||p.dispose()}}})(),d})()))})(Uf)),Uf.exports}var Az=Rz();function Lg({cwd:e,initialCommand:t,onExit:r,onReady:n,className:o="",height:d="400px"}){const c=C.useRef(null),l=C.useRef(null),u=C.useRef(null),f=C.useRef(null),[p,h]=C.useState(!1),[v,_]=C.useState(null);C.useEffect(()=>{if(!c.current||l.current)return;const x=new Nz.Terminal({cursorBlink:!0,cursorStyle:"block",fontSize:13,fontFamily:"'JetBrains Mono', 'Fira Code', 'Consolas', monospace",theme:{background:"#1e1e1e",foreground:"#d4d4d4",cursor:"#d4d4d4",cursorAccent:"#1e1e1e",selectionBackground:"#264f78",black:"#000000",red:"#cd3131",green:"#0dbc79",yellow:"#e5e510",blue:"#2472c8",magenta:"#bc3fbc",cyan:"#11a8cd",white:"#e5e5e5",brightBlack:"#666666",brightRed:"#f14c4c",brightGreen:"#23d18b",brightYellow:"#f5f543",brightBlue:"#3b8eea",brightMagenta:"#d670d6",brightCyan:"#29b8db",brightWhite:"#ffffff"},allowProposedApi:!0}),g=new Tz.FitAddon;x.loadAddon(g),u.current=g;const b=new Az.WebLinksAddon;return x.loadAddon(b),x.open(c.current),l.current=x,setTimeout(()=>{g.fit()},0),k(x),()=>{f.current&&f.current.close(),x.dispose(),l.current=null}},[]);const k=C.useCallback(x=>{const g=window.location.protocol==="https:"?"wss:":"ws:",b=window.location.hostname,j=3333,N=new URLSearchParams;e&&N.set("cwd",e),t&&N.set("cmd",t);const T=`${g}//${b}:${j}/ws/terminal?${N.toString()}`;console.log("Connecting to terminal WebSocket:",T);const P=new WebSocket(T);f.current=P,P.onopen=()=>{console.log("Terminal WebSocket connected"),h(!0)},P.onmessage=E=>{try{const L=JSON.parse(E.data);switch(L.type){case"session":_(L.sessionId),n&&n(L.sessionId);break;case"output":x.write(L.data);break;case"exit":x.write(`\r
\x1B[33m[Process exited]\x1B[0m\r
`),r&&r(L.exitCode,L.signal);break;case"error":x.write(`\r
\x1B[31m[Error: ${L.message}]\x1B[0m\r
`),x.write(`\x1B[33mTip: The terminal requires a working shell. Try running the command manually.\x1B[0m\r
`);break}}catch{x.write(E.data)}},P.onclose=()=>{console.log("Terminal WebSocket closed"),h(!1),x.write(`\r
\x1B[31m[Disconnected]\x1B[0m\r
`)},P.onerror=E=>{console.error("Terminal WebSocket error:",E),x.write(`\r
\x1B[31m[Connection error]\x1B[0m\r
`)},x.onData(E=>{P.readyState===WebSocket.OPEN&&P.send(JSON.stringify({type:"input",data:E}))}),x.onResize(({cols:E,rows:L})=>{P.readyState===WebSocket.OPEN&&P.send(JSON.stringify({type:"resize",cols:E,rows:L}))})},[e,t,n,r]);C.useEffect(()=>{const x=()=>{u.current&&l.current&&u.current.fit()};window.addEventListener("resize",x);const g=new ResizeObserver(x);return c.current&&g.observe(c.current),()=>{window.removeEventListener("resize",x),g.disconnect()}},[]),C.useCallback(x=>{f.current&&f.current.readyState===WebSocket.OPEN&&f.current.send(JSON.stringify({type:"input",data:x+"\r"}))},[]),C.useCallback(()=>{f.current&&f.current.readyState===WebSocket.OPEN&&f.current.send(JSON.stringify({type:"kill"}))},[]);const w=C.useCallback(()=>{l.current&&l.current.focus()},[]);C.useCallback(()=>{l.current&&l.current.clear()},[]);const y=C.useCallback(()=>{if(l.current){const g=l.current.buffer.active;let b="";for(let j=0;j<g.length;j++){const N=g.getLine(j);N&&(b+=N.translateToString(!0)+`
`)}navigator.clipboard.writeText(b.trim()).then(()=>{const j=document.getElementById("terminal-copy-btn");j&&(j.classList.add("bg-green-600"),setTimeout(()=>j.classList.remove("bg-green-600"),500))})}},[]);return i.jsxs("div",{className:`relative ${o}`,style:{height:d},children:[i.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2",children:[i.jsx("button",{id:"terminal-copy-btn",onClick:y,className:"px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded transition-colors",title:"Copy terminal output",children:"Copy"}),i.jsx("div",{className:`w-2 h-2 rounded-full ${p?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:"text-xs text-gray-400",children:p?"Connected":"Disconnected"})]}),i.jsx("div",{ref:c,className:"w-full h-full rounded-lg overflow-hidden",style:{backgroundColor:"#1e1e1e"},onClick:w})]})}Lg.sendCommand=(e,t)=>{e&&e.sendCommand&&e.sendCommand(t)};const Mz="~/reg/tools",fb={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function Dz({project:e}){const[t,r]=C.useState(""),[n,o]=C.useState(""),[d,c]=C.useState(Mz),[l,u]=C.useState(!1),[f,p]=C.useState(null),[h,v]=C.useState(!1),[_,k]=C.useState("claude");C.useEffect(()=>{w()},[]);const w=async()=>{var N;try{const T=await Ce.getConfig();k(((N=T.config)==null?void 0:N.aiAssistant)||"claude")}catch(T){console.error("Failed to load preferences:",T)}},y=fb[_]||fb.claude,x=()=>{if(!t.trim()){ie.error("Please enter an MCP name");return}const N=`Create a new MCP server project called "${t}" with the following:
- Use Python with uv for package management
- Use FastMCP framework
- Description: ${n||"A custom MCP server"}
- Create a single mcp_server.py file with basic structure
- Include a pyproject.toml configured for uv
- Add a README.md with usage instructions`;p(`cd "${d}" && ${y.command} "${N}"`),u(!0),v(!0)},g=N=>{console.log("Terminal session ready:",N)},b=(N,T)=>{console.log("Terminal exited:",N,T),v(!1),N===0&&ie.success("MCP project created successfully!")},j=()=>{u(!1),p(null),v(!1),r(""),o("")};return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("div",{className:"flex-none p-6 border-b border-gray-200 dark:border-slate-700 bg-white dark:bg-slate-950",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(es,{className:"w-7 h-7 text-purple-600"}),"Create MCP Server"]}),i.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-1",children:["Generate a new MCP server project with ",y.name," assistance"]})]}),l&&i.jsxs(pe,{variant:"outline",onClick:j,className:"text-gray-600 dark:text-slate-300",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"New Project"]})]})}),i.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[i.jsx("div",{className:`${l?"w-1/3 border-r border-gray-200 dark:border-slate-700":"w-full max-w-2xl mx-auto"} p-6 overflow-auto`,children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"MCP Name *"}),i.jsx(ot,{value:t,onChange:N=>r(N.target.value),placeholder:"my-awesome-mcp",disabled:h}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"This will be the project folder name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Description"}),i.jsx(mt,{value:n,onChange:N=>o(N.target.value),placeholder:"Describe what your MCP server will do...",className:"min-h-[100px]",disabled:h})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Output Directory"}),i.jsx(ot,{value:d,onChange:N=>c(N.target.value),placeholder:"/path/to/projects",className:"font-mono text-sm",disabled:h}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:"Where to create the new MCP project"})]}),i.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/30 border border-purple-200 dark:border-purple-800 rounded-lg p-4",children:[i.jsx("h3",{className:"text-sm font-medium text-purple-900 dark:text-purple-300 mb-2",children:"What will be created:"}),i.jsxs("ul",{className:"text-sm text-purple-700 dark:text-purple-400 space-y-1",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Iu,{className:"w-4 h-4"}),"Python project with uv package manager"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(cu,{className:"w-4 h-4"}),"FastMCP framework setup"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Or,{className:"w-4 h-4"}),"mcp_server.py with basic structure"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(ki,{className:"w-4 h-4"}),"pyproject.toml configured for uv"]})]})]}),!l&&i.jsxs(pe,{onClick:x,className:"w-full bg-purple-600 hover:bg-purple-700 text-white",disabled:!t.trim(),children:[i.jsx(es,{className:"w-4 h-4 mr-2"}),"Create & Launch ",y.name]})]})}),l&&i.jsxs("div",{className:"flex-1 flex flex-col bg-gray-900",children:[i.jsxs("div",{className:"flex-none px-4 py-2 border-b border-gray-700 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(At,{className:"w-4 h-4 text-gray-400"}),i.jsxs("span",{className:"text-sm text-gray-300",children:[y.name," Terminal"]})]}),i.jsx("div",{className:"flex items-center gap-2",children:h&&i.jsxs(rt,{variant:"outline",className:"bg-green-900/50 text-green-400 border-green-700",children:[i.jsx(gt,{className:"w-3 h-3 mr-1 animate-spin"}),"Running"]})})]}),i.jsx("div",{className:"flex-1",children:i.jsx(Lg,{cwd:d,initialCommand:f,onReady:g,onExit:b,height:"100%"})})]})]})]})}function Lz({templates:e,project:t,onApply:r}){const[n,o]=C.useState(null),d=async c=>{o(c);try{await Ce.applyTemplate(c,t.dir),ie.success(`Template "${c}" applied!`),r()}catch(l){ie.error("Failed to apply template: "+l.message)}finally{o(null)}};return i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsx("div",{className:"p-5 border-b border-gray-200 dark:border-slate-800 flex items-center justify-between",children:i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Do,{className:"w-5 h-5 text-cyan-600"}),"Templates"]})}),i.jsxs("div",{className:"p-4",children:[i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Apply a template to quickly set up rules, commands, and MCP configurations for your project."}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.map((c,l)=>{var u;return i.jsxs(ss.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:l*.05},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-5 hover:border-cyan-300 dark:hover:border-cyan-700 hover:shadow-lg transition-all group",children:[i.jsx(rt,{variant:"outline",className:"bg-cyan-50 dark:bg-cyan-950/30 text-cyan-700 dark:text-cyan-400 border-cyan-200 dark:border-cyan-800 mb-3 text-[10px] uppercase tracking-wider",children:c.category}),i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:c.name}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:c.description||"Project template"}),((u=c.mcpDefaults)==null?void 0:u.length)>0&&i.jsxs("div",{className:"mb-4",children:[i.jsx("span",{className:"text-xs text-gray-500 dark:text-slate-500",children:"MCPs: "}),i.jsx("span",{className:"text-xs text-gray-700 dark:text-slate-300",children:c.mcpDefaults.join(", ")})]}),i.jsxs(pe,{size:"sm",onClick:()=>d(c.fullName||`${c.category}/${c.name}`),disabled:n===(c.fullName||c.name),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white",children:[n===(c.fullName||c.name)?i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}):null,"Apply Template"]})]},c.fullName||c.name)}),e.length===0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:"No templates available."})]})]})]})})}var Iz=Symbol("radix.slottable");function Oz(e){const t=({children:r})=>i.jsx(i.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=Iz,t}var Bz="AlertDialog",[Fz]=zr(Bz,[LC]),si=LC(),zz="AlertDialogTrigger",Hz=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=si(r);return i.jsx(HO,{...o,...n,ref:t})});Hz.displayName=zz;var $z="AlertDialogPortal",oj=e=>{const{__scopeAlertDialog:t,...r}=e,n=si(t);return i.jsx(JC,{...n,...r})};oj.displayName=$z;var Vz="AlertDialogOverlay",aj=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=si(r);return i.jsx(tg,{...o,...n,ref:t})});aj.displayName=Vz;var bo="AlertDialogContent",[Uz,Wz]=Fz(bo),Kz=Oz("AlertDialogContent"),lj=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...o}=e,d=si(r),c=C.useRef(null),l=Ye(t,c),u=C.useRef(null);return i.jsx(IO,{contentName:bo,titleName:cj,docsSlug:"alert-dialog",children:i.jsx(Uz,{scope:r,cancelRef:u,children:i.jsxs(rg,{role:"alertdialog",...d,...o,ref:l,onOpenAutoFocus:ke(o.onOpenAutoFocus,f=>{var p;f.preventDefault(),(p=u.current)==null||p.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[i.jsx(Kz,{children:n}),i.jsx(qz,{contentRef:c})]})})})});lj.displayName=bo;var cj="AlertDialogTitle",uj=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=si(r);return i.jsx(ng,{...o,...n,ref:t})});uj.displayName=cj;var dj="AlertDialogDescription",hj=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=si(r);return i.jsx(sg,{...o,...n,ref:t})});hj.displayName=dj;var Gz="AlertDialogAction",fj=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,o=si(r);return i.jsx(ig,{...o,...n,ref:t})});fj.displayName=Gz;var pj="AlertDialogCancel",mj=C.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:o}=Wz(pj,r),d=si(r),c=Ye(t,o);return i.jsx(ig,{...d,...n,ref:c})});mj.displayName=pj;var qz=({contentRef:e})=>{const t=`\`${bo}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${bo}\` by passing a \`${dj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${bo}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return C.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Yz=oj,gj=aj,vj=lj,yj=fj,xj=mj,_j=uj,bj=hj;const Xz=Yz,wj=C.forwardRef(({className:e,...t},r)=>i.jsx(gj,{className:je("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));wj.displayName=gj.displayName;const Jz=C.forwardRef(({className:e,...t},r)=>i.jsxs(Xz,{children:[i.jsx(wj,{}),i.jsx(vj,{ref:r,className:je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Jz.displayName=vj.displayName;const Qz=C.forwardRef(({className:e,...t},r)=>i.jsx(_j,{ref:r,className:je("text-lg font-semibold",e),...t}));Qz.displayName=_j.displayName;const Zz=C.forwardRef(({className:e,...t},r)=>i.jsx(bj,{ref:r,className:je("text-sm text-muted-foreground",e),...t}));Zz.displayName=bj.displayName;const eH=C.forwardRef(({className:e,...t},r)=>i.jsx(yj,{ref:r,className:je(Nm(),e),...t}));eH.displayName=yj.displayName;const tH=C.forwardRef(({className:e,...t},r)=>i.jsx(xj,{ref:r,className:je(Nm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));tH.displayName=xj.displayName;const rH=(e,t)=>{try{const r=localStorage.getItem(`claude-config-${e}`);return r?JSON.parse(r):t}catch{return t}},nH=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}},pb={claude:{name:"Claude Code",command:"claude",color:"orange"},gemini:{name:"Gemini CLI",command:"gemini",color:"blue"}};function sH({registry:e,searchQuery:t,setSearchQuery:r,onUpdate:n}){var ee;const[o,d]=C.useState(()=>rH("registrySearchMode","local")),c=Q=>{d(Q),nH("registrySearchMode",Q)},[l,u]=C.useState([]),[f,p]=C.useState(!1),[h,v]=C.useState({open:!1,name:"",mcp:null,isNew:!1}),[_,k]=C.useState({name:"",command:"npx",args:"",env:"",description:""}),[w,y]=C.useState(!1),[x,g]=C.useState([]),[b,j]=C.useState(""),[N,T]=C.useState({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),[P,E]=C.useState(""),[L,z]=C.useState("claude");C.useEffect(()=>{(async()=>{var ne;try{const ye=await Ce.getConfig();z(((ne=ye.config)==null?void 0:ne.aiAssistant)||"claude")}catch(ye){console.error("Failed to load preferences:",ye)}})()},[]);const F=pb[L]||pb.claude,V=Object.entries(e.mcpServers||{}),U=V.filter(([Q])=>Q.toLowerCase().includes(t.toLowerCase()));C.useEffect(()=>{(async()=>{try{const ne=await Ce.getMcpTools();g(ne.tools||[]),j(ne.dir||"")}catch(ne){console.error("Failed to load MCP tools:",ne)}})()},[]);const X=x.filter(Q=>{var ne;return!((ne=e.mcpServers)!=null&&ne[Q.name])&&Q.name.toLowerCase().includes(t.toLowerCase())}),K=(Q,ne)=>{k({name:Q,command:ne.command||"npx",args:JSON.stringify(ne.args||[],null,2),env:JSON.stringify(ne.env||{},null,2),description:ne.description||""}),v({open:!0,name:Q,mcp:ne,isNew:!1})},[q,G]=C.useState({open:!1,json:""}),B=()=>{G({open:!0,json:""})},D=async()=>{if(!q.json.trim()){ie.error("Please paste the MCP JSON configuration");return}try{let Q;try{Q=JSON.parse(q.json)}catch{ie.error("Invalid JSON format");return}let ne={};if(Q.mcpServers&&typeof Q.mcpServers=="object")ne=Q.mcpServers;else if(typeof Q=="object"&&!Array.isArray(Q)){if(Object.keys(Q).includes("command")){ie.error('JSON is missing the MCP name. Expected: { "name": { "command": "...", "args": [...] } }');return}ne=Q}if(Object.keys(ne).length===0){ie.error("No MCP configurations found in the JSON");return}for(const[ze,Xe]of Object.entries(ne))if(!Xe.command){ie.error(`MCP "${ze}" is missing required "command" field`);return}const ye={...e};ye.mcpServers||(ye.mcpServers={});for(const[ze,Xe]of Object.entries(ne))ye.mcpServers[ze]=Xe;await Ce.updateRegistry(ye);const Oe=Object.keys(ne).length;ie.success(`Added ${Oe} MCP${Oe>1?"s":""} to registry!`),G({open:!1,json:""}),n()}catch(Q){ie.error("Failed to add: "+Q.message)}},A=Q=>{const ye={[Q.name.replace("@modelcontextprotocol/server-","").replace("mcp-server-","").replace("mcp-","").replace(/-/g,"_")]:{command:Q.suggestedCommand||"npx",args:Q.suggestedArgs||["-y",Q.name],...Q.description&&{description:Q.description}}};G({open:!0,json:JSON.stringify(ye,null,2)})},I=Q=>{let ne,ye;Q.type==="python"?(ne="uv",ye=["run","--directory",Q.path,"python",Q.entryPoint||"mcp_server.py"]):(ne="node",ye=[Q.path+"/index.js"]);const Oe={[Q.name]:{command:ne,args:ye,...Q.description&&{description:Q.description}}};G({open:!0,json:JSON.stringify(Oe,null,2)})},W=()=>{if(!N.url.trim()){ie.error("Please enter a URL");return}T(Q=>({...Q,showTerminal:!0}))},O=()=>{if(N.localTool){const ye=N.localTool,Oe=`Analyze the MCP server at ${ye.path}. Read the README and source files to understand how to run it. Output a JSON config block with name, command, args array, and description for the MCP registry. Be specific about the exact command needed.`;return`cd '${ye.path}' && ${F.command} '${Oe}'`}const ne=`Clone ${N.url.trim()} into ~/reg/tools. Read the README, determine if Python or Node MCP server, and output a JSON config block with name, command, args, and description.`;return`cd ~/reg/tools && ${F.command} '${ne}'`},re=Q=>{T({open:!0,url:"",showTerminal:!0,localTool:Q,pastedConfig:""})},ue=Q=>{Q===0&&(ie.success("Import completed! Paste the JSON config below to add it to the registry."),Ce.getMcpTools().then(ne=>{g(ne.tools||[])}))},he=async()=>{if(!N.pastedConfig.trim()){ie.error("Please paste the JSON config first");return}try{let Q;try{Q=JSON.parse(N.pastedConfig)}catch{ie.error("Invalid JSON format");return}let ne={};if(Q.mcpServers&&typeof Q.mcpServers=="object")ne=Q.mcpServers;else if(typeof Q=="object"&&!Array.isArray(Q))if(Object.keys(Q).includes("command")){ie.error('JSON is missing the MCP name. Expected format: { "name": { "command": "...", "args": [...] } }');return}else ne=Q;if(Object.keys(ne).length===0){ie.error("No MCP configurations found in the pasted JSON");return}for(const[ze,Xe]of Object.entries(ne))if(!Xe.command){ie.error(`MCP "${ze}" is missing required "command" field`);return}const ye={...e};ye.mcpServers||(ye.mcpServers={});for(const[ze,Xe]of Object.entries(ne))ye.mcpServers[ze]=Xe;await Ce.updateRegistry(ye);const Oe=Object.keys(ne).length;ie.success(`Added ${Oe} MCP${Oe>1?"s":""} to registry!`),T({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),n()}catch(Q){ie.error("Failed to add config: "+Q.message)}},Y=async()=>{y(!0);try{let Q,ne;try{Q=JSON.parse(_.args),ne=JSON.parse(_.env)}catch{ie.error("Invalid JSON in args or env"),y(!1);return}const ye={...e};ye.mcpServers||(ye.mcpServers={});const Oe={command:_.command,args:Q,...Object.keys(ne).length>0&&{env:ne},..._.description&&{description:_.description}};ye.mcpServers[h.name]=Oe,await Ce.updateRegistry(ye),ie.success("MCP updated"),v({open:!1,name:"",mcp:null,isNew:!1}),n()}catch(Q){ie.error("Failed to save: "+Q.message)}finally{y(!1)}},H=async Q=>{try{const ne={...e};delete ne.mcpServers[Q],await Ce.updateRegistry(ne),ie.success(`Removed ${Q} from registry`),n()}catch(ne){ie.error("Failed to delete: "+ne.message)}},se=async()=>{if(t.trim()){p(!0);try{const Q=o==="github"?await Ce.searchGithub(t):await Ce.searchNpm(t);u(Q.results||[])}catch(Q){ie.error("Search failed: "+Q.message),u([])}finally{p(!1)}}};return C.useEffect(()=>{o!=="local"&&u([])},[o]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white dark:text-white flex items-center gap-2",children:[i.jsx(ki,{className:"w-5 h-5 text-blue-600"}),"MCP Registry"]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>T({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"folder"}),className:"border-green-300 dark:border-green-700 text-green-700 dark:text-green-400 hover:bg-green-50 dark:hover:bg-green-950/30",children:[i.jsx(ar,{className:"w-4 h-4 mr-2"}),"Import Folder"]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>T({open:!0,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),className:"border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-950/30",children:[i.jsx(Xc,{className:"w-4 h-4 mr-2"}),"Import URL"]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:B,className:"border-blue-300 dark:border-blue-700 text-blue-700 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-950/30",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add MCP"]})]})]}),i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsxs(pe,{variant:o==="local"?"default":"outline",size:"sm",onClick:()=>c("local"),className:o==="local"?"bg-blue-600":"",children:[i.jsx(ki,{className:"w-4 h-4 mr-2"}),"Registry (",V.length,")"]}),i.jsxs(pe,{variant:o==="tools"?"default":"outline",size:"sm",onClick:()=>c("tools"),className:o==="tools"?"bg-purple-600":"",children:[i.jsx(ar,{className:"w-4 h-4 mr-2"}),"Tools (",x.length,")"]}),i.jsxs(pe,{variant:o==="github"?"default":"outline",size:"sm",onClick:()=>c("github"),className:o==="github"?"bg-gray-800":"",children:[i.jsx(pM,{className:"w-4 h-4 mr-2"}),"GitHub"]}),i.jsxs(pe,{variant:o==="npm"?"default":"outline",size:"sm",onClick:()=>c("npm"),className:o==="npm"?"bg-red-600":"",children:[i.jsx(jo,{className:"w-4 h-4 mr-2"}),"npm"]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(dl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),i.jsx(ot,{value:t,onChange:Q=>r(Q.target.value),onKeyDown:Q=>Q.key==="Enter"&&!["local","tools"].includes(o)&&se(),placeholder:o==="local"?"Filter registry...":o==="tools"?"Filter discovered tools...":`Search ${o} for MCPs...`,className:"pl-9 bg-white border-gray-300"})]}),!["local","tools"].includes(o)&&i.jsx(pe,{onClick:se,disabled:f,children:f?i.jsx(gt,{className:"w-4 h-4 animate-spin"}):"Search"})]})]}),o==="local"&&i.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[U.map(([Q,ne],ye)=>{var Oe;return i.jsxs(ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ye*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all group",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:Q}),i.jsxs(Di,{children:[i.jsx(Li,{asChild:!0,children:i.jsx(pe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-0 group-hover:opacity-100",children:i.jsx(Jw,{className:"w-4 h-4 text-gray-400"})})}),i.jsxs(ri,{children:[i.jsxs(ht,{onClick:()=>K(Q,ne),children:[i.jsx(Cm,{className:"w-4 h-4 mr-2"}),"Edit"]}),i.jsxs(ht,{className:"text-red-600",onClick:()=>H(Q),children:[i.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3",children:ne.description||"MCP server"}),i.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded",children:[ne.command," ",(Oe=ne.args)==null?void 0:Oe.join(" ")]}),ne.env&&Object.keys(ne.env).length>0&&i.jsxs("div",{className:"mt-2 text-xs text-amber-600",children:["Requires: ",Object.keys(ne.env).join(", ")]})]},Q)}),U.length===0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No MCPs match your search.":"Registry is empty. Add MCPs or search online."})]}),o==="tools"&&i.jsxs("div",{className:"p-4",children:[b&&i.jsxs("div",{className:"mb-4 text-sm text-gray-500 dark:text-slate-400 flex items-center gap-2",children:[i.jsx(ar,{className:"w-4 h-4"}),"Scanning: ",b]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[X.map((Q,ne)=>i.jsxs(ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ne*.03},className:"bg-purple-50 rounded-lg border border-purple-200 p-4 hover:border-purple-400 hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-purple-900",children:Q.name}),i.jsx(rt,{variant:"outline",className:"text-purple-600 border-purple-300",children:Q.type==="python"?"Python":"Node"})]}),i.jsx("p",{className:"text-sm text-purple-700 mb-3",children:Q.description||"MCP tool"}),i.jsx("code",{className:"text-xs text-purple-600 block truncate bg-purple-100 px-2 py-1 rounded mb-3",children:Q.path}),Q.framework&&i.jsxs("div",{className:"text-xs text-purple-500 mb-3",children:["Framework: ",Q.framework]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pe,{size:"sm",variant:"outline",onClick:()=>I(Q),className:"flex-1 border-purple-300 text-purple-700 hover:bg-purple-100",children:[i.jsx(Ft,{className:"w-4 h-4 mr-1"}),"Quick"]}),i.jsxs(pe,{size:"sm",onClick:()=>re(Q),className:"flex-1 bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(es,{className:"w-4 h-4 mr-1"}),"Smart"]})]})]},Q.name)),X.length===0&&x.length>0&&i.jsx("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:"All discovered tools are already in the registry."}),x.length===0&&i.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500 dark:text-slate-400",children:["No MCP tools found in ",b,". Create one using the Developer > Create MCP view."]})]})]}),!["local","tools"].includes(o)&&i.jsx("div",{className:"p-4",children:f?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(gt,{className:"w-8 h-8 animate-spin mx-auto text-gray-400"}),i.jsxs("p",{className:"text-gray-500 dark:text-slate-400 mt-2",children:["Searching ",o,"..."]})]}):l.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map((Q,ne)=>{var ye;return i.jsxs(ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ne*.03},className:"bg-white dark:bg-slate-900 rounded-lg border border-gray-200 dark:border-slate-700 p-4 hover:border-blue-300 hover:shadow-md transition-all",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:Q.name}),Q.stars!==void 0&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-amber-600",children:[i.jsx(GM,{className:"w-3 h-3"}),Q.stars]})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:Q.description||"No description"}),i.jsxs("code",{className:"text-xs text-gray-500 dark:text-slate-400 block truncate bg-gray-50 dark:bg-slate-800 px-2 py-1 rounded mb-3",children:[Q.suggestedCommand," ",(ye=Q.suggestedArgs)==null?void 0:ye.join(" ")]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pe,{size:"sm",onClick:()=>A(Q),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(Ft,{className:"w-3 h-3 mr-1"}),"Add to Registry"]}),Q.url&&i.jsx(pe,{size:"sm",variant:"outline",onClick:()=>window.open(Q.url,"_blank"),children:i.jsx(Xc,{className:"w-3 h-3"})})]})]},Q.name||ne)})}):i.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:t?"No results found. Try a different search term.":`Enter a search term to find MCPs on ${o}.`})})]}),i.jsx(Zt,{open:q.open,onOpenChange:Q=>G({...q,open:Q}),children:i.jsxs(Wt,{className:" max-w-2xl",children:[i.jsxs(Kt,{children:[i.jsx(Gt,{children:"Add MCP to Registry"}),i.jsx(Cr,{children:"Paste the MCP JSON configuration block to add to your registry."})]}),i.jsxs("div",{className:"py-4",children:[i.jsx(mt,{value:q.json,onChange:Q=>G({...q,json:Q.target.value}),placeholder:`{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}`,className:"font-mono text-sm bg-gray-50 dark:bg-slate-800",rows:12}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["Accepts formats: ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "name": { "command": "...", "args": [...] } }'})," or ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:'{ "mcpServers": { ... } }'})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>G({open:!1,json:""}),children:"Cancel"}),i.jsxs(pe,{onClick:D,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})}),i.jsx(Zt,{open:h.open,onOpenChange:Q=>v({...h,open:Q}),children:i.jsxs(Wt,{className:" max-w-2xl",children:[i.jsxs(Kt,{children:[i.jsxs(Gt,{children:["Edit MCP: ",h.name]}),i.jsx(Cr,{children:"Edit the MCP server configuration."})]}),i.jsxs("div",{className:"space-y-4 py-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),i.jsx(ot,{value:_.description,onChange:Q=>k({..._,description:Q.target.value}),placeholder:"What does this MCP do?",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Command"}),i.jsx(ot,{value:_.command,onChange:Q=>k({..._,command:Q.target.value}),placeholder:"npx",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Args (JSON array)"}),i.jsx(mt,{value:_.args,onChange:Q=>k({..._,args:Q.target.value}),placeholder:'["-y", "@modelcontextprotocol/server-xxx"]',className:"mt-1 font-mono text-sm",rows:3})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Environment Variables (JSON object)"}),i.jsx(mt,{value:_.env,onChange:Q=>k({..._,env:Q.target.value}),placeholder:'{"API_KEY": "${API_KEY}"}',className:"mt-1 font-mono text-sm",rows:3}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:["Use $","{VAR_NAME}"," syntax for variables from .env file"]})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>v({...h,open:!1}),children:"Cancel"}),i.jsxs(pe,{onClick:Y,disabled:w,className:"bg-blue-600 hover:bg-blue-700 text-white",children:[w?i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})}),i.jsx(Zt,{open:N.open,onOpenChange:Q=>T({open:Q,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:i.jsxs(Wt,{className:`bg-white ${N.showTerminal?"max-w-4xl h-[80vh] max-h-[800px]":"max-w-lg"}`,children:[i.jsxs(Kt,{children:[i.jsx(Gt,{className:"flex items-center gap-2",children:N.localTool?i.jsxs(i.Fragment,{children:[i.jsx(es,{className:"w-5 h-5 text-purple-600"})," Configure ",N.localTool.name]}):N.mode==="folder"?i.jsxs(i.Fragment,{children:[i.jsx(ar,{className:"w-5 h-5 text-green-600"})," Import MCP from Folder"]}):i.jsxs(i.Fragment,{children:[i.jsx(Xc,{className:"w-5 h-5 text-purple-600"})," Import MCP from URL"]})}),i.jsx(Cr,{children:N.localTool?`${F.name} will analyze ${N.localTool.name} and generate the correct configuration.`:N.mode==="folder"?`Enter the path to a local MCP server folder. ${F.name} will analyze it and generate the configuration.`:`Enter a GitHub repository URL. ${F.name} will clone it, read the README, and help configure it.`})]}),!N.showTerminal&&!N.localTool?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"py-4",children:N.mode==="folder"?i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Folder Path"}),i.jsx(ot,{value:P,onChange:Q=>E(Q.target.value),placeholder:"/path/to/mcp-server or ~/projects/my-mcp",className:"mt-1 font-mono",onKeyDown:Q=>Q.key==="Enter"&&P.trim()&&T({...N,showTerminal:!0,localTool:{name:P.split("/").pop(),path:P}})}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Enter the full path to an existing MCP server project"})]}):i.jsxs(i.Fragment,{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL"}),i.jsx(ot,{value:N.url,onChange:Q=>T({...N,url:Q.target.value}),placeholder:"https://github.com/user/mcp-server-example",className:"mt-1",onKeyDown:Q=>Q.key==="Enter"&&W()}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:["The repository will be cloned to ",b||"~/mcp-tools"]})]})}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>T({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Cancel"}),N.mode==="folder"?i.jsxs(pe,{onClick:()=>P.trim()&&T({...N,showTerminal:!0,localTool:{name:P.split("/").pop(),path:P}}),disabled:!P.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(es,{className:"w-4 h-4 mr-2"}),"Analyze with ",F.name]}):i.jsxs(pe,{onClick:W,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(es,{className:"w-4 h-4 mr-2"}),"Import with ",F.name]})]})]}):i.jsxs("div",{className:"flex-1 flex flex-col min-h-0",children:[N.localTool&&i.jsx("div",{className:"mb-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[i.jsx(ar,{className:"w-4 h-4 text-purple-600"}),i.jsx("code",{className:"text-purple-700",children:N.localTool.path})]})}),i.jsx("div",{className:"flex-1 bg-gray-900 rounded-lg overflow-hidden",style:{minHeight:"200px"},children:i.jsx(Lg,{cwd:((ee=N.localTool)==null?void 0:ee.path)||b||"~/reg/tools",initialCommand:O(),onExit:ue,height:"100%"})}),i.jsxs("div",{className:"mt-4 p-4 bg-gray-50 dark:bg-slate-800 rounded-lg border border-gray-200",children:[i.jsxs("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 flex items-center gap-2",children:[i.jsx(K4,{className:"w-4 h-4"}),"Paste MCP Config JSON"]}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 mb-2",children:"Copy the JSON config from the terminal output above and paste it here to add to your registry."}),i.jsx(mt,{value:N.pastedConfig,onChange:Q=>T({...N,pastedConfig:Q.target.value}),placeholder:`{
  "mcpServers": {
    "example": {
      "command": "npx",
      "args": ["-y", "@example/mcp-server"]
    }
  }
}`,className:"font-mono text-sm bg-white",rows:6})]}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsx(pe,{variant:"outline",onClick:()=>T({open:!1,url:"",showTerminal:!1,localTool:null,pastedConfig:"",mode:"url"}),children:"Close"}),i.jsxs(pe,{onClick:he,disabled:!N.pastedConfig.trim(),className:"bg-green-600 hover:bg-green-700 text-white",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add to Registry"]})]})]})]})})]})}function iH({project:e,onUpdate:t}){var F,V,U,X;const[r,n]=C.useState(null),[o,d]=C.useState(!0),[c,l]=C.useState(null),[u,f]=C.useState(""),[p,h]=C.useState(!1),[v,_]=C.useState("global"),[k,w]=C.useState(""),[y,x]=C.useState([]),[g,b]=C.useState({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""});C.useEffect(()=>{j()},[]);const j=async()=>{try{d(!0);const K=await Ce.getMemory();n(K)}catch{ie.error("Failed to load memory")}finally{d(!1)}};C.useEffect(()=>{c&&N(c.path)},[c]);const N=async K=>{try{const q=await Ce.getMemoryFile(K);f(q.content||"")}catch{ie.error("Failed to load file")}},T=async()=>{if(c){h(!0);try{await Ce.saveMemoryFile(c.path,u),ie.success("Saved!"),j()}catch{ie.error("Failed to save")}finally{h(!1)}}},P=async()=>{if(!k.trim()){x([]);return}try{const K=await Ce.searchMemory(k);x(K.results||[])}catch{ie.error("Search failed")}},E=async()=>{let K="";const{type:q}=g;switch(q){case"preference":if(!g.name.trim()){ie.error("Name required");return}K=`**${g.name}**: ${g.description}`;break;case"correction":if(!g.wrong.trim()||!g.right.trim()){ie.error('Both "wrong" and "right" are required');return}K=`**Wrong**: ${g.wrong}
**Right**: ${g.right}`;break;case"fact":if(!g.category.trim()){ie.error("Category required");return}K=`**${g.category}**: ${g.details}`;break;case"pattern":if(!g.name.trim()){ie.error("Name required");return}K=`**${g.name}**
${g.description}`;break;case"decision":if(!g.title.trim()){ie.error("Title required");return}K=`**${g.title}**

**Context**: ${g.context}

**Decision**: ${g.decision}

**Rationale**: ${g.rationale}`;break;case"issue":if(!g.title.trim()){ie.error("Title required");return}K=`**${g.title}**

${g.description}`;break;case"history":case"context":default:if(!g.content.trim()){ie.error("Content required");return}K=g.content;break}try{const G=["pattern","decision","issue","history","context"].includes(q)?"project":"global";await Ce.addMemoryEntry(q,K,G),ie.success(`Added ${q} entry`),b({open:!1,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),j()}catch{ie.error("Failed to add entry")}},L=async()=>{try{await Ce.initProjectMemory(e.dir),ie.success("Project memory initialized!"),j()}catch(K){ie.error(K.message||"Failed to initialize")}};if(o)return i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(gt,{className:"w-8 h-8 animate-spin text-indigo-600"})});const z={global:[{id:"preference",label:"Preference",icon:Ei,desc:"User preferences (tools, style, etc.)"},{id:"correction",label:"Correction",icon:Xa,desc:"Mistakes to avoid"},{id:"fact",label:"Fact",icon:Ci,desc:"Facts about your environment"}],project:[{id:"context",label:"Context",icon:Or,desc:"Project overview and conventions"},{id:"pattern",label:"Pattern",icon:Iu,desc:"Code patterns in this project"},{id:"decision",label:"Decision",icon:c1,desc:"Architecture decisions"},{id:"issue",label:"Issue",icon:Xa,desc:"Known issues and workarounds"},{id:"history",label:"History",icon:ff,desc:"Session work log"}]};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 p-5 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(ko,{className:"w-5 h-5 text-purple-600"}),"Memory System"]}),i.jsx("div",{className:"flex gap-2",children:i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>b({open:!0,type:"preference",name:"",description:"",wrong:"",right:"",category:"",details:"",title:"",context:"",decision:"",rationale:"",content:""}),children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add Entry"]})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(ot,{placeholder:"Search memory...",value:k,onChange:K=>w(K.target.value),onKeyDown:K=>K.key==="Enter"&&P(),className:"flex-1"}),i.jsx(pe,{variant:"outline",onClick:P,children:i.jsx(dl,{className:"w-4 h-4"})})]}),y.length>0&&i.jsxs("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-slate-900 rounded-lg",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Search Results"}),i.jsx("div",{className:"space-y-2",children:y.map((K,q)=>i.jsxs("div",{className:"text-sm",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(rt,{variant:K.scope==="global"?"default":"secondary",children:K.scope}),i.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:K.file})]}),K.matches.map((G,B)=>i.jsxs("div",{className:"ml-4 text-gray-600 dark:text-slate-400 text-xs mt-1",children:["Line ",G.line,": ",G.text]},B))]},q))})]})]}),i.jsx("div",{className:"flex gap-2 border-b border-gray-200 dark:border-slate-700 pb-2",children:["global","project","sync"].map(K=>i.jsxs("button",{onClick:()=>_(K),className:`px-4 py-2 text-sm font-medium rounded-t-lg transition-colors ${v===K?"bg-white dark:bg-slate-950 border border-b-white dark:border-b-slate-950 border-gray-200 dark:border-slate-700 -mb-[1px] text-indigo-600 dark:text-indigo-400":"text-gray-600 dark:text-slate-400 hover:text-gray-900 dark:hover:text-white"}`,children:[K.charAt(0).toUpperCase()+K.slice(1)," Memory"]},K))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("h3",{className:"font-medium text-gray-900 dark:text-white",children:[v==="global"&&"Global Memory Files",v==="project"&&"Project Memory Files",v==="sync"&&"Sync State"]}),i.jsxs("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:[v==="global"&&"~/.claude/memory/",v==="project"&&`${e.dir}/.claude/memory/`,v==="sync"&&"~/.claude/sync/"]})]}),i.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:[v==="global"&&((F=r==null?void 0:r.global)==null?void 0:F.files.map(K=>i.jsxs("button",{onClick:()=>K.exists&&l(K),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(c==null?void 0:c.path)===K.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${K.exists?"":"opacity-50"}`,children:[i.jsx(Or,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:K.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:K.type})]}),K.exists?i.jsx(kr,{className:"w-4 h-4 text-green-500"}):i.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},K.name))),v==="project"&&i.jsx(i.Fragment,{children:(V=r==null?void 0:r.project)!=null&&V.initialized?(U=r==null?void 0:r.project)==null?void 0:U.files.map(K=>i.jsxs("button",{onClick:()=>K.exists&&l(K),className:`w-full px-4 py-3 flex items-center gap-3 text-left hover:bg-gray-50 dark:hover:bg-slate-900 transition-colors ${(c==null?void 0:c.path)===K.path?"bg-indigo-50 dark:bg-indigo-950/30":""} ${K.exists?"":"opacity-50"}`,children:[i.jsx(Or,{className:"w-4 h-4 text-gray-400 dark:text-slate-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:K.name}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400",children:K.type})]}),K.exists?i.jsx(kr,{className:"w-4 h-4 text-green-500"}):i.jsx("span",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Not created"})]},K.name)):i.jsxs("div",{className:"p-6 text-center",children:[i.jsx(ko,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-4",children:"Project memory not initialized"}),i.jsxs(pe,{onClick:L,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Initialize Project Memory"]})]})}),v==="sync"&&i.jsx("div",{className:"p-4",children:(X=r==null?void 0:r.sync)!=null&&X.state?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:"Current State"}),i.jsx("pre",{className:"text-xs bg-gray-50 dark:bg-slate-900 p-3 rounded overflow-auto max-h-48 text-gray-800 dark:text-slate-300",children:JSON.stringify(r.sync.state,null,2)})]}),r.sync.history.length>0&&i.jsxs("div",{children:[i.jsxs("h4",{className:"text-sm font-medium text-gray-700 dark:text-slate-300 mb-2",children:["History (",r.sync.history.length,")"]}),i.jsx("div",{className:"space-y-1",children:r.sync.history.map((K,q)=>i.jsxs("div",{className:"text-xs text-gray-600 dark:text-slate-400 flex items-center gap-2",children:[i.jsx(ff,{className:"w-3 h-3"}),K.name]},q))})]})]}):i.jsxs("div",{className:"text-center py-6",children:[i.jsx(ff,{className:"w-12 h-12 text-gray-300 dark:text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400",children:"No sync state"}),i.jsx("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-1",children:"State is created by session hooks"})]})})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-slate-700 flex items-center justify-between",children:[i.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:c?c.name:"Select a file"}),c&&i.jsxs(pe,{size:"sm",onClick:T,disabled:p,className:"bg-indigo-600 hover:bg-indigo-700 text-white",children:[p?i.jsx(gt,{className:"w-4 h-4 mr-2 animate-spin"}):i.jsx(Lo,{className:"w-4 h-4 mr-2"}),"Save"]})]}),i.jsx("div",{className:"p-4",children:c?i.jsx(mt,{value:u,onChange:K=>f(K.target.value),className:"font-mono text-sm min-h-[400px]",placeholder:"File content..."}):i.jsx("div",{className:"flex items-center justify-center h-[400px] text-gray-400 dark:text-slate-500",children:i.jsxs("div",{className:"text-center",children:[i.jsx(Or,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),i.jsx("p",{children:"Select a file to edit"})]})})})]})]}),i.jsx(Zt,{open:g.open,onOpenChange:K=>b({...g,open:K}),children:i.jsxs(Wt,{className:"max-w-lg",children:[i.jsxs(Kt,{children:[i.jsx(Gt,{children:"Add Memory Entry"}),i.jsx(Cr,{children:"Add a new entry to the appropriate memory file."})]}),i.jsxs("div",{className:"py-4 space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Entry Type"}),i.jsx("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[...z.global,...z.project].map(K=>{const q=K.icon,G=z.global.some(B=>B.id===K.id);return i.jsxs("button",{onClick:()=>b({...g,type:K.id}),className:`p-2 rounded-lg border text-left transition-colors ${g.type===K.id?"border-indigo-500 bg-indigo-50 dark:bg-indigo-950/30":"border-gray-200 dark:border-slate-700 hover:border-gray-300 dark:hover:border-slate-600"}`,children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(q,{className:"w-4 h-4 text-gray-500 dark:text-slate-400"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white",children:K.label})]}),i.jsx("div",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1",children:G?"Global":"Project"})]},K.id)})})]}),g.type==="preference"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Name"}),i.jsx(ot,{value:g.name,onChange:K=>b({...g,name:K.target.value}),placeholder:"e.g., package-manager",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),i.jsx(ot,{value:g.description,onChange:K=>b({...g,description:K.target.value}),placeholder:"e.g., Always use pnpm instead of npm",className:"mt-1"})]})]}),g.type==="correction"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Wrong (what to avoid)"}),i.jsx(mt,{value:g.wrong,onChange:K=>b({...g,wrong:K.target.value}),placeholder:"e.g., Using npm install",className:"mt-1",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Right (what to do instead)"}),i.jsx(mt,{value:g.right,onChange:K=>b({...g,right:K.target.value}),placeholder:"e.g., Use pnpm install",className:"mt-1",rows:2})]})]}),g.type==="fact"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Category"}),i.jsx(ot,{value:g.category,onChange:K=>b({...g,category:K.target.value}),placeholder:"e.g., shell, editor, system",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Details"}),i.jsx(mt,{value:g.details,onChange:K=>b({...g,details:K.target.value}),placeholder:"e.g., Using zsh with oh-my-zsh",className:"mt-1",rows:2})]})]}),g.type==="pattern"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Pattern Name"}),i.jsx(ot,{value:g.name,onChange:K=>b({...g,name:K.target.value}),placeholder:"e.g., API Response Format",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description"}),i.jsx(mt,{value:g.description,onChange:K=>b({...g,description:K.target.value}),placeholder:"Describe the pattern and when to use it...",className:"mt-1",rows:3})]})]}),g.type==="decision"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Title"}),i.jsx(ot,{value:g.title,onChange:K=>b({...g,title:K.target.value}),placeholder:"e.g., Use React Query for data fetching",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Context"}),i.jsx(mt,{value:g.context,onChange:K=>b({...g,context:K.target.value}),placeholder:"What problem were we solving?",className:"mt-1",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Decision"}),i.jsx(mt,{value:g.decision,onChange:K=>b({...g,decision:K.target.value}),placeholder:"What did we decide?",className:"mt-1",rows:2})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Rationale"}),i.jsx(mt,{value:g.rationale,onChange:K=>b({...g,rationale:K.target.value}),placeholder:"Why this choice over alternatives?",className:"mt-1",rows:2})]})]}),g.type==="issue"&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Issue Title"}),i.jsx(ot,{value:g.title,onChange:K=>b({...g,title:K.target.value}),placeholder:"e.g., Memory leak in useEffect",className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Description / Workaround"}),i.jsx(mt,{value:g.description,onChange:K=>b({...g,description:K.target.value}),placeholder:"Describe the issue and any workarounds...",className:"mt-1",rows:3})]})]}),(g.type==="history"||g.type==="context")&&i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Content"}),i.jsx(mt,{value:g.content,onChange:K=>b({...g,content:K.target.value}),placeholder:g.type==="history"?"What work was done this session?":"Project context and overview...",className:"mt-1",rows:4})]})]}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>b({...g,open:!1}),children:"Cancel"}),i.jsxs(pe,{onClick:E,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add Entry"]})]})]})})]})}function oH({onProjectSwitch:e}){const[t,r]=C.useState([]),[n,o]=C.useState(null),[d,c]=C.useState(!0),[l,u]=C.useState(null),[f,p]=C.useState(!1);C.useEffect(()=>{h()},[]);const h=async()=>{try{c(!0);const w=await Ce.getProjects();r(w.projects||[]),o(w.activeProjectId)}catch{ie.error("Failed to load projects")}finally{c(!1)}},v=async w=>{u(w);try{const y=await Ce.setActiveProject(w);y.success?(o(w),r(x=>x.map(g=>({...g,isActive:g.id===w}))),ie.success(`Switched to ${y.project.name}`),e==null||e(y)):ie.error(y.error||"Failed to switch project")}catch(y){ie.error("Failed to switch project: "+y.message)}finally{u(null)}},_=async w=>{if(confirm(`Remove "${w.name}" from the registry?

This won't delete any files.`))try{const y=await Ce.removeProject(w.id);y.success?(r(x=>x.filter(g=>g.id!==w.id)),ie.success(`Removed project: ${w.name}`)):ie.error(y.error||"Failed to remove project")}catch(y){ie.error("Failed to remove project: "+y.message)}},k=w=>{r(y=>[...y,{...w,exists:!0,hasClaudeConfig:!1}])};return d?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(gt,{className:"w-8 h-8 animate-spin text-indigo-600"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-indigo-100 dark:bg-indigo-900/30 flex items-center justify-center",children:i.jsx(Ks,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Projects"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:"Registered projects for quick switching"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs(pe,{variant:"outline",onClick:h,size:"sm",children:[i.jsx(yr,{className:"w-4 h-4 mr-2"}),"Refresh"]}),i.jsxs(pe,{onClick:()=>p(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add Project"]})]})]}),i.jsx("div",{className:"bg-blue-50 dark:bg-blue-950/30 border border-blue-200 dark:border-blue-800 rounded-lg p-4 text-sm text-blue-700 dark:text-blue-400",children:i.jsx("p",{children:"Projects registered here can be quickly switched in the header dropdown. The UI will update to show the selected project's configuration."})}),i.jsx("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 shadow-sm overflow-hidden",children:t.length===0?i.jsxs("div",{className:"p-12 text-center",children:[i.jsx(ar,{className:"w-12 h-12 mx-auto mb-4 text-gray-300 dark:text-slate-600"}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No Projects Yet"}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 mb-4",children:"Add your first project to get started with quick switching."}),i.jsxs(pe,{onClick:()=>p(!0),children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add Your First Project"]})]}):i.jsx("div",{className:"divide-y divide-gray-100 dark:divide-slate-800",children:t.map(w=>i.jsxs("div",{className:`p-4 flex items-center gap-4 transition-colors ${w.isActive?"bg-indigo-50 dark:bg-indigo-950/30":"hover:bg-gray-50 dark:hover:bg-slate-900"}`,children:[i.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${w.isActive?"bg-indigo-100 dark:bg-indigo-900/50":w.exists?"bg-gray-100 dark:bg-slate-800":"bg-amber-100 dark:bg-amber-900/30"}`,children:w.isActive?i.jsx(kr,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}):w.exists?i.jsx(ar,{className:"w-5 h-5 text-gray-500 dark:text-slate-400"}):i.jsx(Ou,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:`font-medium truncate ${w.isActive?"text-indigo-700 dark:text-indigo-400":"text-gray-900 dark:text-white"}`,children:w.name}),w.hasClaudeConfig&&i.jsx("span",{className:"text-xs bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 px-1.5 py-0.5 rounded",children:".claude"}),w.isActive&&i.jsx("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/50 text-indigo-700 dark:text-indigo-400 px-1.5 py-0.5 rounded",children:"Active"})]}),i.jsx("p",{className:"text-sm text-gray-500 dark:text-slate-400 font-mono truncate",children:w.path.replace(/^\/Users\/[^/]+/,"~")}),!w.exists&&i.jsx("p",{className:"text-xs text-amber-600 dark:text-amber-400 mt-1",children:"Path not found - the directory may have been moved or deleted"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[!w.isActive&&w.exists&&i.jsx(pe,{size:"sm",onClick:()=>v(w.id),disabled:l===w.id,children:l===w.id?i.jsx(gt,{className:"w-4 h-4 animate-spin"}):"Select"}),i.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>_(w),className:"text-gray-500 dark:text-slate-400 hover:text-red-600 dark:hover:text-red-400",title:"Remove from registry",children:i.jsx(Gs,{className:"w-4 h-4"})})]})]},w.id))})}),i.jsxs("div",{className:"bg-gray-50 dark:bg-slate-900 rounded-lg p-4 border border-transparent dark:border-slate-800",children:[i.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-white mb-2",children:"CLI Commands"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600 dark:text-slate-400 font-mono",children:[i.jsx("p",{children:"claude-config project add [path]        # Add project"}),i.jsx("p",{children:"claude-config project remove <name>    # Remove project"}),i.jsx("p",{children:"claude-config project                   # List projects"})]})]}),i.jsx(x2,{open:f,onOpenChange:p,onAdded:k})]})}const aH=[{id:"getting-started",title:"Getting Started",icon:Ci,subsections:[{id:"installation",title:"Installation"},{id:"quick-start",title:"Quick Start"},{id:"updating",title:"Updating"}]},{id:"projects",title:"Project Management",icon:s1,subsections:[{id:"project-registry",title:"Project Registry"},{id:"project-switching",title:"Switching Projects"},{id:"project-structure",title:"Project Structure"}]},{id:"file-explorer",title:"Project Explorer",icon:ar,subsections:[{id:"claude-folders",title:".claude Folders"},{id:"rules",title:"Rules"},{id:"commands",title:"Commands"},{id:"workflows",title:"Workflows"},{id:"hierarchy",title:"Configuration Hierarchy"},{id:"subprojects",title:"Sub-Projects"}]},{id:"mcp-registry",title:"MCP Registry",icon:ki,subsections:[{id:"mcp-overview",title:"Overview"},{id:"adding-mcps",title:"Adding MCPs"},{id:"configuring-mcps",title:"Configuring MCPs"},{id:"environment-vars",title:"Environment Variables"}]},{id:"memory",title:"Memory System",icon:ko,subsections:[{id:"memory-overview",title:"Overview"},{id:"global-memory",title:"Global Memory"},{id:"project-memory",title:"Project Memory"},{id:"memory-entries",title:"Memory Entry Types"}]},{id:"claude-settings",title:"Claude Code Settings",icon:hl,subsections:[{id:"permissions",title:"Permissions"},{id:"model-selection",title:"Model Selection"},{id:"behavior",title:"Behavior Settings"},{id:"hooks",title:"Hooks"}]},{id:"templates",title:"Templates",icon:Do,subsections:[{id:"using-templates",title:"Using Templates"},{id:"available-templates",title:"Available Templates"},{id:"custom-templates",title:"Custom Templates"}]},{id:"cli",title:"CLI Reference",icon:At,subsections:[{id:"cli-overview",title:"Overview"},{id:"cli-commands",title:"All Commands"},{id:"daemon-mode",title:"Daemon Mode"}]},{id:"multi-tool",title:"Multi-Tool Support",icon:gr,subsections:[{id:"antigravity",title:"Antigravity Support"},{id:"tool-differences",title:"Tool Differences"},{id:"enabling-tools",title:"Enabling Tools"},{id:"syncing-rules",title:"Syncing Rules"}]},{id:"keyboard",title:"Keyboard Shortcuts",icon:_M,subsections:[]},{id:"troubleshooting",title:"Troubleshooting",icon:bm,subsections:[{id:"common-issues",title:"Common Issues"},{id:"getting-help",title:"Getting Help"}]}],lH={installation:{title:"Installation",content:`
## Installation

Install claude-config globally via npm:

\`\`\`bash
npm install -g @regression-io/claude-config
\`\`\`

Or install from GitHub directly:

\`\`\`bash
npm install -g github:regression-io/claude-config
\`\`\`

### Requirements

- **Node.js 18+** is required
- Works on macOS, Linux, and Windows (with some limitations)

### Verify Installation

After installation, verify it's working:

\`\`\`bash
claude-config --version
\`\`\`

This should display the version number and installation paths.
    `},"quick-start":{title:"Quick Start",content:`
## Quick Start

### 1. Start the UI

\`\`\`bash
claude-config ui
\`\`\`

This starts the web UI as a background daemon on port 3333.

### 2. Open in Browser

Navigate to **http://localhost:3333**

### 3. Add a Project

Click "Add Project" in the header or go to All Projects view to register your project directories.

### 4. Initialize Configuration

For each project, you can:
- Create a \`.claude\` folder with configuration
- Add rules (guidelines for Claude)
- Add commands (reusable prompts)
- Configure MCPs (Model Context Protocol servers)

### 5. Apply Templates

Use pre-built templates to quickly set up rules for your project type:
- **fastapi** - Python FastAPI projects
- **react-ts** - React with TypeScript
- **python-cli** - Python CLI tools
- And more...

### 6. Install as App (Optional)

Claude Config is a PWA (Progressive Web App). Install it to your taskbar:

**Chrome/Edge:** Click the install icon in the address bar
**Safari:** Share  Add to Dock

### 7. Theme

Use the theme toggle in the header to switch between:
- **Light** - Light mode
- **Dark** - Dark mode
- **Auto** - Follow system preference
    `},updating:{title:"Updating",content:`
## Updating

### Automatic Update Detection

The UI automatically checks npm for new versions. When an update is available, you'll see a notification in the Preferences page.

### Manual Update

\`\`\`bash
npm update -g @regression-io/claude-config
\`\`\`

Or for a clean reinstall:

\`\`\`bash
npm uninstall -g @regression-io/claude-config
npm install -g @regression-io/claude-config
\`\`\`

### After Updating

If you have the UI running as a daemon, restart it:

\`\`\`bash
claude-config ui stop
claude-config ui
\`\`\`
    `},"project-registry":{title:"Project Registry",content:`
## Project Registry

The project registry keeps track of all your Claude-enabled projects. It's stored in \`~/.claude-config/projects.json\`.

### Adding Projects

**Via UI:**
1. Click "Add Project" in the header
2. Select a directory

**Via CLI:**
\`\`\`bash
claude-config project add /path/to/project
claude-config project add /path/to/project --name "My Project"
\`\`\`

### Listing Projects

\`\`\`bash
claude-config project
\`\`\`

### Removing Projects

\`\`\`bash
claude-config project remove "My Project"
claude-config project remove /path/to/project
\`\`\`

Note: Removing a project from the registry does not delete the project files.
    `},"project-switching":{title:"Switching Projects",content:`
## Switching Projects

### Via UI

Use the project dropdown in the header to quickly switch between registered projects. The UI will reload to show the new project's configuration.

### Via CLI

\`\`\`bash
claude-config ui --dir /path/to/project
\`\`\`

### Active Project

The active project is remembered between sessions. When you start the UI, it automatically loads the last active project.
    `},"project-structure":{title:"Project Structure",content:`
## Project Structure

A Claude-enabled project has a \`.claude\` folder with this structure:

\`\`\`
your-project/
 .claude/
    mcps.json       # MCP configuration
    settings.json   # Project-specific settings
    CLAUDE.md       # Project instructions
    rules/          # Rule files (*.md)
       style.md
       patterns.md
    commands/       # Command files (*.md)
       review.md
       test.md
    workflows/      # Workflow files (*.md)
       deploy.md
    memory/         # Project memory (optional)
        context.md
        patterns.md
 .mcp.json           # Generated - Claude Code reads this
\`\`\`

### Generated Files

The \`.mcp.json\` file in your project root is generated by running \`claude-config apply\`. Claude Code reads this file to configure MCPs.
    `},"claude-folders":{title:".claude Folders",content:`
## .claude Folders

The \`.claude\` folder contains all Claude Code configuration for a directory.

### Creating .claude Folders

In the Project Explorer, click "+ .claude" on any directory in the hierarchy to create a new configuration folder.

### Hierarchy

Configuration is inherited from parent directories:

\`\`\`
~/.claude/              # Global - applies everywhere
~/projects/.claude/     # Workspace - applies to all projects here
~/projects/my-app/      # Project - specific to this project
\`\`\`

Settings merge from global to project, with more specific settings taking precedence.
    `},rules:{title:"Rules",content:`
## Rules

Rules are markdown files that provide guidelines and instructions for Claude.

### Creating Rules

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "rules"
3. Enter a name (e.g., "coding-style")

### Rule Content

Rules should be written in markdown and contain:
- Guidelines for code style
- Project-specific patterns
- Do's and don'ts
- Architecture decisions

### Example Rule

\`\`\`markdown
# Coding Style

## TypeScript
- Use strict mode
- Prefer interfaces over types
- Use named exports

## React
- Use functional components
- Prefer hooks over HOCs
- Keep components small and focused
\`\`\`

### Rule Priority

Rules are loaded in order from global to project. Project rules can override global rules.
    `},commands:{title:"Commands",content:`
## Commands

Commands are reusable prompts that can be invoked in Claude Code.

### Creating Commands

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button next to "commands"
3. Enter a name (e.g., "review")

### Command Content

Commands are markdown files containing a prompt template. They can include:
- Instructions for Claude
- Templates with placeholders
- Multi-step workflows

### Example Command

\`\`\`markdown
# Code Review

Review the selected code for:

1. **Bugs** - Logic errors, edge cases
2. **Security** - Vulnerabilities, input validation
3. **Performance** - Inefficiencies, memory leaks
4. **Style** - Consistency, readability

Provide specific suggestions with code examples.
\`\`\`

### Using Commands

In Claude Code, use \`/command-name\` to invoke a command.
    `},workflows:{title:"Workflows",content:`
## Workflows

Workflows are markdown files that define multi-step processes or cross-repository operations.

### Location

Workflows are stored in \`.claude/workflows/\` in your project root.

### Creating Workflows

1. Navigate to a \`.claude\` folder in the Project Explorer
2. Click the "+" button and select "New Workflow"
3. Enter a name (e.g., "deploy-all")

### Workflow Content

Workflows typically include:
- Step-by-step instructions
- Cross-repository coordination
- Environment setup
- Deployment processes

### Example Workflow

\`\`\`markdown
# Deploy All Services

## Steps

1. Build auth-service first
2. Then build api-gateway
3. Run integration tests
4. Deploy to staging
5. Deploy to production
\`\`\`

### Use Cases

- Multi-repo deployments
- Complex build processes
- Onboarding procedures
- Release workflows
    `},subprojects:{title:"Sub-Projects",content:`
## Sub-Projects

Sub-projects are nested git repositories within your main project (monorepos, workspaces).

### Detection

Sub-projects are automatically detected by scanning for \`.git\` directories within your project.

### Sub-Projects View

Access via **Sub-Projects** in the sidebar (only appears if sub-projects exist).

The view shows:
- All detected sub-projects
- Which have \`.claude\` folders configured
- MCP count per sub-project

### Managing Sub-Projects

**Initialize .claude folder:**
Click the folder+ icon on a sub-project without configuration.

**Delete .claude folder:**
Click the trash icon (with confirmation) to remove configuration.

**Switch to sub-project:**
Click a sub-project card to switch context and manage it in Project Explorer.

### Sticky Navigation

When inside a sub-project, the Sub-Projects menu remains visible showing all sub-projects from the root project. Use "Back to Root" to return.

### Configuration Inheritance

Sub-projects inherit configuration from parent directories. Each sub-project can have its own \`.claude\` folder that extends the parent configuration.
    `},hierarchy:{title:"Configuration Hierarchy",content:`
## Configuration Hierarchy

Claude Config uses a hierarchical configuration system where settings cascade from global to local.

### Levels

1. **Global** (\`~/.claude/\`) - Applies to all projects
2. **Workspace** (intermediate directories) - Applies to projects in that directory
3. **Project** (your project's \`.claude/\`) - Specific to one project

### Merging Behavior

- **MCPs**: Merged, with local configs overriding global
- **Rules**: All rules are loaded, local rules can override
- **Commands**: All commands are available, local takes precedence
- **Settings**: Deep merged, local values override

### Viewing the Hierarchy

In the Project Explorer, you'll see all \`.claude\` folders in the hierarchy from your project up to home. You can manage configuration at each level.
    `},"mcp-overview":{title:"MCP Overview",content:`
## MCP Overview

MCPs (Model Context Protocol servers) extend Claude's capabilities by providing additional tools and context.

### What are MCPs?

MCPs are servers that implement the Model Context Protocol, providing:
- **Tools** - Additional commands Claude can execute
- **Resources** - Data and context Claude can access
- **Prompts** - Pre-defined prompt templates

### Common MCPs

- **filesystem** - File system access
- **github** - GitHub integration
- **postgres** - PostgreSQL database access
- **memory** - Persistent memory storage

### Configuration

MCPs are configured in \`.claude/mcps.json\`:

\`\`\`json
{
  "mcpServers": {
    "filesystem": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-filesystem", "/path"]
    }
  }
}
\`\`\`
    `},"adding-mcps":{title:"Adding MCPs",content:`
## Adding MCPs

### Via UI - Registry

1. Go to **MCP Registry** in the sidebar
2. Click **Add MCP** button
3. Paste JSON configuration:

\`\`\`json
{
  "my-mcp": {
    "command": "npx",
    "args": ["-y", "@example/mcp-server"],
    "env": {
      "API_KEY": "\${API_KEY}"
    }
  }
}
\`\`\`

4. Click "Add to Registry"

### Via UI - Config Editor

1. Go to **Project Explorer**
2. Select an \`mcps.json\` file
3. Click **Add MCP** in the editor header
4. Paste JSON to add inline MCP to that config level

### Accepted JSON Formats

Both formats work:

**Simple format:**
\`\`\`json
{ "name": { "command": "...", "args": [...] } }
\`\`\`

**Full format:**
\`\`\`json
{ "mcpServers": { "name": { "command": "...", "args": [...] } } }
\`\`\`

### Via CLI

\`\`\`bash
claude-config add filesystem github postgres
\`\`\`

### From Search Results

Search GitHub or npm in the Registry view. Click "Add" to pre-fill the JSON with suggested configuration.
    `},"configuring-mcps":{title:"Configuring MCPs",content:`
## Configuring MCPs

### Required Fields

- **command** - The executable to run (e.g., "npx", "node", "python")
- **args** - Array of command-line arguments

### Optional Fields

- **env** - Environment variables for the MCP
- **cwd** - Working directory

### Example Configuration

\`\`\`json
{
  "mcpServers": {
    "github": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-github"],
      "env": {
        "GITHUB_TOKEN": "\${GITHUB_TOKEN}"
      }
    },
    "postgres": {
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-postgres"],
      "env": {
        "DATABASE_URL": "\${DATABASE_URL}"
      }
    }
  }
}
\`\`\`

### Per-Level Configuration

You can enable/disable MCPs at different hierarchy levels. An MCP enabled globally can be disabled for a specific project.
    `},"environment-vars":{title:"Environment Variables",content:`
## Environment Variables

### Syntax

Use \`\${VAR_NAME}\` syntax in your MCP configuration:

\`\`\`json
{
  "env": {
    "API_KEY": "\${MY_API_KEY}"
  }
}
\`\`\`

### .env Files

Create a \`.claude/.env\` file in your project:

\`\`\`
GITHUB_TOKEN=ghp_xxxxx
DATABASE_URL=postgresql://localhost/mydb
\`\`\`

### Environment View

Use the **Environment** view in the sidebar to manage environment variables for your project.

### Security

- Never commit \`.claude/.env\` to version control
- Add it to your \`.gitignore\`
- Use different values for development and production
    `},"memory-overview":{title:"Memory Overview",content:`
## Memory System

The memory system allows Claude to retain knowledge across sessions.

### Types of Memory

1. **Global Memory** (\`~/.claude/memory/\`)
   - Preferences - Your personal preferences
   - Corrections - Mistakes to avoid
   - Facts - Facts about your environment

2. **Project Memory** (\`project/.claude/memory/\`)
   - Context - Project overview
   - Patterns - Code patterns
   - Decisions - Architecture decisions
   - Issues - Known issues
   - History - Session history

### How It Works

Memory files are markdown documents that Claude reads at the start of each session, providing context and learned knowledge.
    `},"global-memory":{title:"Global Memory",content:`
## Global Memory

Global memory applies to all your Claude interactions.

### Location

\`~/.claude/memory/\`

### Files

- **preferences.md** - Your coding preferences, tool choices, style preferences
- **corrections.md** - Things Claude got wrong that it should remember
- **facts.md** - Facts about your environment, setup, tools

### Example: preferences.md

\`\`\`markdown
# Preferences

## Code Style
- Use 2 spaces for indentation
- Prefer functional programming patterns
- Always add TypeScript types

## Tools
- Use pnpm instead of npm
- Prefer Vite over webpack
\`\`\`
    `},"project-memory":{title:"Project Memory",content:`
## Project Memory

Project memory is specific to a single project.

### Location

\`project/.claude/memory/\`

### Files

- **context.md** - Project overview, tech stack, architecture
- **patterns.md** - Code patterns specific to this project
- **decisions.md** - Architectural decisions and rationale
- **issues.md** - Known issues and workarounds
- **history.md** - Log of work done in sessions

### Initializing Project Memory

In the Memory view, click "Initialize" to create memory files from templates.

### Example: context.md

\`\`\`markdown
# Project Context

## Overview
E-commerce platform built with Next.js and Prisma.

## Tech Stack
- Frontend: Next.js 14, React 18, Tailwind CSS
- Backend: Next.js API routes, Prisma ORM
- Database: PostgreSQL
- Auth: NextAuth.js

## Key Directories
- /app - Next.js app router pages
- /components - React components
- /lib - Utilities and helpers
\`\`\`
    `},"memory-entries":{title:"Memory Entry Types",content:`
## Memory Entry Types

### Preference

User preferences for tools, style, and workflow.

\`\`\`markdown
## [Category]
- Preference description
- Another preference
\`\`\`

### Correction

Something Claude got wrong that should be remembered.

\`\`\`markdown
## [Topic]
- **Wrong**: What Claude did wrong
- **Right**: What to do instead
\`\`\`

### Pattern

A code pattern specific to the project.

\`\`\`markdown
## Pattern Name
Description of when to use this pattern.

\\\`\\\`\\\`typescript
// Code example
\\\`\\\`\\\`
\`\`\`

### Decision

An architectural decision with context.

\`\`\`markdown
## Decision Title
**Context**: Why this decision was needed
**Decision**: What was decided
**Rationale**: Why this was chosen
\`\`\`

### Issue

A known issue with workaround.

\`\`\`markdown
## Issue Title
**Problem**: Description of the issue
**Workaround**: How to work around it
\`\`\`
    `},permissions:{title:"Permissions",content:`
## Permissions

Control what Claude Code can do automatically.

### Permission Levels

- **Allow** - Tools that run without asking
- **Ask** - Tools that require confirmation
- **Deny** - Tools that are blocked

### Pattern Syntax

\`\`\`
Tool(pattern)
\`\`\`

Examples:
- \`Bash(npm run build)\` - Specific command
- \`Bash(npm:*)\` - Prefix match (npm anything)
- \`Read(**)\` - All file reads
- \`Edit(src/**)\` - Edit files in src/
- \`mcp__github__*\` - All GitHub MCP tools

### Managing Permissions

In the **Claude Code** settings view:
1. Navigate to the Permissions tab
2. Add patterns to Allow, Ask, or Deny lists
3. Click Save to apply

### Best Practices

- Start restrictive, allow more as needed
- Use specific patterns over wildcards
- Review deny list for security-sensitive operations
    `},"model-selection":{title:"Model Selection",content:`
## Model Selection

Choose which Claude model to use.

### Available Models

- **Claude Sonnet 4** - Fast, capable, good for most tasks
- **Claude Opus 4** - Most capable, best for complex tasks
- **Claude Haiku** - Fastest, good for simple tasks

### Setting the Model

In **Claude Code** settings, use the Model dropdown to select your preferred model.

### Per-Task Model

Some tasks may benefit from different models:
- Use Haiku for quick edits
- Use Opus for complex refactoring
- Use Sonnet as a balanced default
    `},behavior:{title:"Behavior Settings",content:`
## Behavior Settings

Configure how Claude Code behaves.

### Available Settings

- **Auto-accept edits** - Automatically accept file changes
- **Verbose mode** - Show more detailed output
- **Enable MCPs** - Toggle MCP servers on/off

### Configuration

These settings are stored in \`~/.claude/settings.json\` and can be edited in the Claude Code settings view.
    `},hooks:{title:"Hooks",content:`
## Hooks

Hooks allow you to run custom commands at specific points.

### Available Hooks

- **preToolUse** - Before a tool is used
- **postToolUse** - After a tool is used
- **notification** - When Claude sends a notification

### Configuration

\`\`\`json
{
  "hooks": {
    "postToolUse": "echo 'Tool used'"
  }
}
\`\`\`

### Use Cases

- Run linters after file edits
- Log tool usage
- Custom notifications
    `},"using-templates":{title:"Using Templates",content:`
## Using Templates

Templates provide pre-configured rules and settings for different project types.

### Applying Templates

**Via UI:**
1. Go to **Templates** in the sidebar
2. Select a template
3. Click "Apply to Project"

**Via CLI:**
\`\`\`bash
claude-config init --template fastapi
claude-config apply-template react-ts
\`\`\`

### What Templates Include

- Rules for the technology/framework
- Best practices
- Common patterns
- Style guidelines
    `},"available-templates":{title:"Available Templates",content:`
## Available Templates

### Languages

- **python** - Python general
- **typescript** - TypeScript general
- **javascript** - JavaScript general

### Frameworks

- **fastapi** - Python FastAPI
- **react-ts** - React with TypeScript
- **react-js** - React with JavaScript
- **python-cli** - Python CLI apps
- **mcp-python** - MCP server in Python

### Composites

- **fastapi-react-ts** - Full-stack FastAPI + React TypeScript
- **fastapi-react-js** - Full-stack FastAPI + React JavaScript

### Universal

- **universal** - Common rules for any project
    `},"custom-templates":{title:"Custom Templates",content:`
## Custom Templates

### Creating Custom Templates

Templates are stored in the templates directory. To create a custom template:

1. Create a directory in \`~/.claude-config/templates/\`
2. Add a \`template.json\` manifest
3. Add rules in a \`rules/\` subdirectory

### Template Structure

\`\`\`
my-template/
 template.json
 rules/
     style.md
     patterns.md
\`\`\`

### template.json

\`\`\`json
{
  "name": "My Template",
  "description": "Custom template for my projects",
  "category": "custom"
}
\`\`\`
    `},"cli-overview":{title:"CLI Overview",content:`
## CLI Overview

The \`claude-config\` CLI provides command-line access to all features.

### Basic Usage

\`\`\`bash
claude-config [command] [options]
\`\`\`

### Getting Help

\`\`\`bash
claude-config --help
claude-config <command> --help
\`\`\`

### Global Options

- \`--version, -v\` - Show version
- \`--help, -h\` - Show help
    `},"cli-commands":{title:"All Commands",content:`
## All CLI Commands

### UI Commands

\`\`\`bash
claude-config ui                  # Start UI (daemon mode)
claude-config ui --foreground     # Run in foreground
claude-config ui --port 8080      # Custom port
claude-config ui status           # Check daemon status
claude-config ui stop             # Stop daemon
\`\`\`

### Project Commands

\`\`\`bash
claude-config init                # Initialize project
claude-config init --template X   # Initialize with template
claude-config apply               # Generate .mcp.json
claude-config show                # Show configuration
\`\`\`

### MCP Commands

\`\`\`bash
claude-config list                # List available MCPs
claude-config add <mcp>           # Add MCP to project
claude-config remove <mcp>        # Remove MCP
claude-config registry-add        # Add to registry
claude-config registry-remove     # Remove from registry
\`\`\`

### Project Registry

\`\`\`bash
claude-config project             # List projects
claude-config project add         # Add project
claude-config project remove      # Remove project
\`\`\`

### Memory Commands

\`\`\`bash
claude-config memory              # Show memory status
claude-config memory init         # Initialize memory
claude-config memory add          # Add entry
claude-config memory search       # Search memory
\`\`\`

### Environment

\`\`\`bash
claude-config env                 # List variables
claude-config env set KEY value   # Set variable
claude-config env unset KEY       # Remove variable
\`\`\`

### Templates

\`\`\`bash
claude-config templates           # List templates
claude-config apply-template X    # Apply template
\`\`\`
    `},"daemon-mode":{title:"Daemon Mode",content:`
## Daemon Mode

By default, \`claude-config ui\` runs as a background daemon.

### Starting the Daemon

\`\`\`bash
claude-config ui
\`\`\`

The UI starts in the background and you can continue using your terminal.

### Checking Status

\`\`\`bash
claude-config ui status
\`\`\`

### Stopping the Daemon

\`\`\`bash
claude-config ui stop
\`\`\`

### Foreground Mode

To run in the foreground (blocking):

\`\`\`bash
claude-config ui --foreground
# or
claude-config ui -f
\`\`\`

### Logs

Daemon logs are stored in \`~/.claude-config/ui.log\`
    `},antigravity:{title:"Antigravity Support",content:`
## Antigravity Support

claude-config now supports **Antigravity** (Google's AI coding assistant) in addition to Claude Code.

### How It Works

Both tools use the **MCP (Model Context Protocol)** for server configurations. claude-config manages a shared registry and generates tool-specific output files:

| Tool | Output Location |
|------|-----------------|
| Claude Code | \`.mcp.json\` (project root) |
| Antigravity | \`~/.gemini/antigravity/mcp_config.json\` |

### Key Difference

**Environment Variables:**
- **Claude Code** supports \`\${VAR}\` interpolation in configs
- **Antigravity** requires resolved paths (no \`\${VAR}\` syntax)

When generating Antigravity configs, claude-config automatically resolves all environment variables to their actual values.

### Project Files

| Purpose | Claude Code | Antigravity |
|---------|-------------|-------------|
| Config folder | \`.claude/\` | \`.agent/\` |
| Rules | \`.claude/rules/*.md\` | \`.agent/rules/*.md\` |
| Instructions | \`CLAUDE.md\` | \`GEMINI.md\` |
    `},"tool-differences":{title:"Tool Differences",content:`
## Tool Differences

### Configuration Formats

Both tools use identical JSON format for MCP server definitions:

\`\`\`json
{
  "mcpServers": {
    "server-name": {
      "command": "npx",
      "args": ["-y", "@some/server"],
      "env": { "API_KEY": "..." }
    }
  }
}
\`\`\`

### Feature Comparison

| Feature | Claude Code | Antigravity |
|---------|-------------|-------------|
| MCP Config | \`.mcp.json\` | Global config |
| Env Interpolation | Yes (\`\${VAR}\`) | No |
| Commands | \`.claude/commands/\` | Not supported |
| Workflows | \`.claude/workflows/\` | Not supported |
| Rules | \`.claude/rules/\` | \`.agent/rules/\` |

### What This Means

- Your MCP registry is shared between tools
- When you click "Apply Config", both tools get updated
- Rules need to be managed separately (sync feature coming soon)
    `},"enabling-tools":{title:"Enabling Tools",content:`
## Enabling Tools

Control which tools receive configuration updates.

### Via Preferences UI

1. Go to **Preferences** in the sidebar
2. Find the **Enabled AI Tools** section
3. Toggle tools on/off:
   - **Claude Code** - Writes to \`.mcp.json\`
   - **Antigravity** - Writes to \`~/.gemini/antigravity/mcp_config.json\`

### Apply Behavior

When you click **Apply Config**:
- Config is generated for ALL enabled tools
- Toast notification shows which tools were updated
- Each tool receives its format-specific output

### Config File

Tool preferences are stored in \`~/.claude/config.json\`:

\`\`\`json
{
  "enabledTools": ["claude", "antigravity"]
}
\`\`\`
    `},"syncing-rules":{title:"Syncing Rules",content:`
## Syncing Rules Between Tools

When both Claude Code and Antigravity are enabled, you can sync rules between them.

### Accessing Sync

1. Enable **both tools** in Preferences
2. Go to **Project Explorer**
3. Click the **Sync** button in the toolbar

### Sync Dialog

The sync dialog allows you to:

- **Choose direction**: Claude Code  Antigravity or vice versa
- **Preview changes**: See which files will be copied
- **Selective sync**: Choose specific files to sync
- **Status indicators**:
  - **New**: File doesn't exist in target
  - **Modified**: File differs from target
  - **Same**: Files are identical

### What Gets Synced

| From | To |
|------|-----|
| \`.claude/rules/*.md\` | \`.agent/rules/*.md\` |
| \`.agent/rules/*.md\` | \`.claude/rules/*.md\` |

### Notes

- Syncing **copies** files (doesn't move them)
- Target files are **overwritten** if they exist
- Instructions files (CLAUDE.md / GEMINI.md) are not synced
- Commands and workflows are Claude-specific (not synced)
    `},keyboard:{title:"Keyboard Shortcuts",content:`
## Keyboard Shortcuts

### File Explorer

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save current file |
| \`Delete\` | Delete selected item |
| \`Enter\` | Open selected item |

### Editor

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + S\` | Save file |
| \`Ctrl/Cmd + Z\` | Undo |
| \`Ctrl/Cmd + Shift + Z\` | Redo |

### Navigation

| Shortcut | Action |
|----------|--------|
| \`Ctrl/Cmd + 1-9\` | Switch sidebar sections |
    `},"common-issues":{title:"Common Issues",content:`
## Common Issues

### UI won't start

**Symptom**: \`claude-config ui\` shows "Started daemon" but the UI doesn't open.

**Solution**:
\`\`\`bash
claude-config ui stop
claude-config ui --foreground
\`\`\`

Check for errors in the output.

### Port already in use

**Symptom**: Error about port 3333 being in use.

**Solution**:
\`\`\`bash
claude-config ui --port 3334
\`\`\`

Or find and stop the process using port 3333.

### MCPs not loading

**Symptom**: MCPs show in config but aren't available in Claude Code.

**Solution**:
1. Run \`claude-config apply\` to regenerate .mcp.json
2. Restart Claude Code
3. Check environment variables are set

### npm install fails

**Symptom**: Errors during \`npm install -g\`

**Solution**:
\`\`\`bash
npm cache clean --force
npm install -g @regression-io/claude-config
\`\`\`
    `},"getting-help":{title:"Getting Help",content:`
## Getting Help

### Documentation

This documentation is available in the app under **Docs & Help**.

### GitHub Issues

Report bugs and request features:
https://github.com/regression-io/claude-config/issues

### Version Info

\`\`\`bash
claude-config --version
\`\`\`

### Debug Info

When reporting issues, include:
- claude-config version
- Node.js version (\`node --version\`)
- Operating system
- Error messages or logs
    `}};function cH(){const[e,t]=C.useState("installation"),[r,n]=C.useState({"getting-started":!0}),o=c=>{n(l=>({...l,[c]:!l[c]}))},d=lH[e];return i.jsxs("div",{className:"flex h-full",children:[i.jsxs("div",{className:"w-64 border-r border-border bg-muted/50 flex flex-col",children:[i.jsx("div",{className:"p-4 border-b border-border",children:i.jsxs("h2",{className:"font-semibold flex items-center gap-2 text-foreground",children:[i.jsx(Ci,{className:"w-5 h-5"}),"Documentation"]})}),i.jsx(ds,{className:"flex-1",children:i.jsx("div",{className:"p-2",children:aH.map(c=>i.jsxs("div",{className:"mb-1",children:[i.jsxs("button",{className:je("w-full flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-accent text-left",(e===c.id||c.subsections.some(l=>l.id===e))&&"bg-accent"),onClick:()=>{c.subsections.length>0?(o(c.id),r[c.id]||t(c.subsections[0].id)):t(c.id)},children:[i.jsx(c.icon,{className:"w-4 h-4 text-muted-foreground"}),i.jsx("span",{className:"flex-1",children:c.title}),c.subsections.length>0&&i.jsx(Mo,{className:je("w-4 h-4 text-muted-foreground transition-transform",r[c.id]&&"rotate-90")})]}),c.subsections.length>0&&r[c.id]&&i.jsx("div",{className:"ml-6 mt-1 space-y-1",children:c.subsections.map(l=>i.jsx("button",{className:je("w-full text-left px-3 py-1.5 text-sm rounded-md hover:bg-accent text-foreground",e===l.id&&"bg-accent text-primary font-medium"),onClick:()=>t(l.id),children:l.title},l.id))})]},c.id))})})]}),i.jsx("div",{className:"flex-1 overflow-hidden",children:i.jsx(ds,{className:"h-full",children:i.jsx("div",{className:"max-w-3xl mx-auto p-8",children:d?i.jsx("div",{className:"prose prose-sm max-w-none",children:i.jsx("div",{dangerouslySetInnerHTML:{__html:uH(d.content)}})}):i.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[i.jsx(Ci,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),i.jsx("p",{children:"Select a topic from the sidebar"})]})})})})]})}function uH(e){let t=e.replace(/```(\w*)\n([\s\S]*?)```/g,(r,n,o)=>`<pre class="bg-zinc-900 text-zinc-100 p-4 rounded-lg overflow-x-auto my-4"><code class="text-sm">${o.replace(/</g,"&lt;").replace(/>/g,"&gt;").trim()}</code></pre>`);return t=t.replace(/(\|[^\n]+\|\n\|[-| :]+\|\n(?:\|[^\n]+\|\n?)+)/g,r=>{const n=r.trim().split(`
`);if(n.length<2)return r;const o=n[0].split("|").filter(c=>c.trim()).map(c=>`<th class="border border-border px-3 py-2 bg-muted font-semibold text-left">${c.trim()}</th>`).join(""),d=n.slice(2).map(c=>`<tr>${c.split("|").filter(u=>u.trim()).map(u=>`<td class="border border-border px-3 py-2">${u.trim()}</td>`).join("")}</tr>`).join("");return`<table class="w-full border-collapse border border-border my-4"><thead><tr>${o}</tr></thead><tbody>${d}</tbody></table>`}),t.replace(/^### (.*$)/gim,'<h3 class="text-lg font-semibold mt-6 mb-2 text-foreground">$1</h3>').replace(/^## (.*$)/gim,'<h2 class="text-xl font-semibold mt-8 mb-4 text-foreground">$1</h2>').replace(/^# (.*$)/gim,'<h1 class="text-2xl font-bold mb-6 text-foreground">$1</h1>').replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/`([^`]+)`/g,'<code class="bg-muted px-1.5 py-0.5 rounded text-sm font-mono">$1</code>').replace(/^- (.*$)/gim,'<li class="ml-4">$1</li>').replace(/(<li.*<\/li>\n?)+/g,'<ul class="list-disc my-2">$&</ul>').replace(/^\d+\. (.*$)/gim,'<li class="ml-4">$1</li>').replace(/\n\n/g,'</p><p class="my-3 text-foreground">').replace(/\n/g,"<br/>")}const mb={development:"bg-blue-100 text-blue-700 border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",productivity:"bg-green-100 text-green-700 border-green-200 dark:bg-green-900/30 dark:text-green-400 dark:border-green-800",integration:"bg-purple-100 text-purple-700 border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",external:"bg-orange-100 text-orange-700 border-orange-200 dark:bg-orange-900/30 dark:text-orange-400 dark:border-orange-800",lsp:"bg-cyan-100 text-cyan-700 border-cyan-200 dark:bg-cyan-900/30 dark:text-cyan-400 dark:border-cyan-800",default:"bg-gray-100 text-gray-700 border-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-700"};function dH(){var G;const[e,t]=C.useState(!0),[r,n]=C.useState({allPlugins:[],categories:[],marketplaces:[]}),[o,d]=C.useState(""),[c,l]=C.useState([]),[u,f]=C.useState(!0),[p,h]=C.useState(!0),[v,_]=C.useState(!0),[k,w]=C.useState(!0),[y,x]=C.useState("name"),[g,b]=C.useState(null),[j,N]=C.useState({open:!1,repo:""}),T=async()=>{t(!0);try{const B=await Ce.getPlugins();n(B)}catch(B){ie.error("Failed to load plugins: "+B.message)}finally{t(!1)}};C.useEffect(()=>{T()},[]);const P=C.useMemo(()=>{let B=r.allPlugins||[];if(o){const D=o.toLowerCase();B=B.filter(A=>{var I,W,O;return((I=A.name)==null?void 0:I.toLowerCase().includes(D))||((W=A.description)==null?void 0:W.toLowerCase().includes(D))||((O=A.category)==null?void 0:O.toLowerCase().includes(D))})}return B=B.filter(D=>!(D.sourceType==="external"&&!p||D.sourceType==="internal"&&!u)),B=B.filter(D=>!(D.installed&&!v||!D.installed&&!k)),c.length>0&&(B=B.filter(D=>c.includes(D.category))),B.sort((D,A)=>{if(y==="installed"){if(D.installed&&!A.installed)return-1;if(!D.installed&&A.installed)return 1}if(y==="category"){const I=(D.category||"zzz").localeCompare(A.category||"zzz");if(I!==0)return I}return D.name.localeCompare(A.name)}),B},[r.allPlugins,o,p,u,v,k,c,y]),E=B=>{l(D=>D.includes(B)?D.filter(A=>A!==B):[...D,B])},L=async B=>{b(B);try{const D=await Ce.refreshMarketplace(B);D.success?(ie.success(`Refreshed ${B}`),await T()):ie.error(D.error||"Failed to refresh marketplace")}catch(D){ie.error("Failed to refresh: "+D.message)}finally{b(null)}},z=async()=>{if(!j.repo.trim()){ie.error("Please enter a repository URL");return}try{const B=await Ce.addMarketplace("",j.repo.trim());B.success?(ie.success("Marketplace added"),N({open:!1,repo:""}),await T()):ie.error(B.error||"Failed to add marketplace")}catch(B){ie.error("Failed to add marketplace: "+B.message)}},F=(r.allPlugins||[]).filter(B=>B.installed).length,V=(r.allPlugins||[]).filter(B=>!B.installed).length,U=(r.allPlugins||[]).filter(B=>B.sourceType==="internal").length,X=(r.allPlugins||[]).filter(B=>B.sourceType==="external").length,K=r.marketplaces||[],q=r.categories||[];return e?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx(gt,{className:"w-8 h-8 animate-spin text-primary"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-950/30 border border-indigo-200 dark:border-indigo-800 rounded-lg p-4 flex items-start gap-3",children:[i.jsx(n1,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400 flex-shrink-0 mt-0.5"}),i.jsxs("div",{className:"text-sm text-indigo-800 dark:text-indigo-300",children:[i.jsx("p",{className:"font-medium",children:"Install plugins from Project Explorer"}),i.jsxs("p",{className:"text-indigo-600 dark:text-indigo-400 mt-1",children:["Use the ",i.jsx("kbd",{className:"px-1.5 py-0.5 bg-indigo-100 dark:bg-indigo-900 rounded text-xs",children:"+"}),' menu on any project and select "Install Plugins" to add plugins with project-level scope control.']})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsxs("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(Eo,{className:"w-5 h-5 text-indigo-600"}),"Plugin Directory",i.jsxs(rt,{variant:"outline",className:"ml-2 font-normal",children:[P.length," of ",((G=r.allPlugins)==null?void 0:G.length)||0]})]}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:T,disabled:e,children:i.jsx(yr,{className:`w-4 h-4 ${e?"animate-spin":""}`})})]}),i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(dl,{className:"w-4 h-4 absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),i.jsx(ot,{value:o,onChange:B=>d(B.target.value),placeholder:"Search plugins...",className:"pl-9 bg-white dark:bg-slate-900 border-gray-300 dark:border-slate-700"})]}),i.jsxs(Xs,{value:y,onValueChange:x,children:[i.jsx(cs,{className:"w-40",children:i.jsx(Js,{placeholder:"Sort by"})}),i.jsxs(us,{children:[i.jsx(Bt,{value:"name",children:"Name"}),i.jsx(Bt,{value:"installed",children:"Installed first"}),i.jsx(Bt,{value:"category",children:"Category"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[i.jsxs(Di,{children:[i.jsx(Li,{asChild:!0,children:i.jsxs(pe,{variant:"outline",size:"sm",className:"h-8 text-xs gap-1",children:[i.jsx(e1,{className:"w-3 h-3"}),"Category",c.length>0&&i.jsx(rt,{variant:"secondary",className:"ml-1 h-4 px-1 text-[10px]",children:c.length}),i.jsx(hs,{className:"w-3 h-3 ml-1"})]})}),i.jsxs(ri,{align:"start",className:"w-48",children:[i.jsx(od,{className:"text-xs",children:"Filter by category"}),i.jsx(Ir,{}),q.map(B=>i.jsx(Cu,{checked:c.includes(B),onCheckedChange:()=>E(B),children:B},B)),c.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(Ir,{}),i.jsx(ht,{onClick:()=>l([]),children:"Clear filters"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs",children:[i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(dt,{checked:v,onCheckedChange:_,className:"h-4 w-7 data-[state=checked]:bg-green-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Installed (",F,")"]})]}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(dt,{checked:k,onCheckedChange:w,className:"h-4 w-7 data-[state=checked]:bg-blue-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400",children:["Available (",V,")"]})]}),i.jsx("span",{className:"text-gray-300 dark:text-slate-600",children:"|"}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(dt,{checked:u,onCheckedChange:f,className:"h-4 w-7 data-[state=checked]:bg-indigo-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[i.jsx(Xw,{className:"w-3 h-3"})," Anthropic (",U,")"]})]}),i.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[i.jsx(dt,{checked:p,onCheckedChange:h,className:"h-4 w-7 data-[state=checked]:bg-orange-600"}),i.jsxs("span",{className:"text-gray-600 dark:text-slate-400 flex items-center gap-1",children:[i.jsx(jo,{className:"w-3 h-3"})," Community (",X,")"]})]})]})]})]}),i.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[P.map((B,D)=>{const A=mb[B.category]||mb.default,I=B.mcpServers?Object.keys(B.mcpServers).length:0,W=B.lspServers?Object.keys(B.lspServers).length:0;return i.jsxs(ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Math.min(D*.02,.3)},className:`rounded-lg border p-4 transition-all hover:shadow-md ${B.installed?"bg-green-50 border-green-200 dark:bg-green-950/20 dark:border-green-800":"bg-white border-gray-200 dark:bg-slate-900 dark:border-slate-700"}`,children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:B.name}),B.sourceType==="external"&&i.jsx(jo,{className:"w-3.5 h-3.5 text-orange-500 flex-shrink-0",title:"Community plugin"})]}),B.installed&&i.jsxs(rt,{variant:"outline",className:"text-green-600 border-green-300 dark:text-green-400 dark:border-green-700 text-[10px]",children:[i.jsx(kr,{className:"w-2.5 h-2.5 mr-0.5"}),"Installed"]})]}),B.homepage&&i.jsx(pe,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 opacity-60 hover:opacity-100",onClick:()=>window.open(B.homepage,"_blank"),children:i.jsx(Xc,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-sm text-gray-600 dark:text-slate-400 mb-3 line-clamp-2",children:B.description||"No description available"}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-2",children:[B.category&&i.jsx(rt,{variant:"outline",className:`text-[10px] px-1.5 py-0 ${A}`,children:B.category}),B.version&&i.jsxs("span",{className:"text-[10px] text-gray-400 dark:text-slate-500",children:["v",B.version]})]}),(I>0||W>0||B.commands)&&i.jsxs("div",{className:"flex items-center gap-3 text-[10px] text-gray-500 dark:text-slate-500 pt-2 border-t border-gray-100 dark:border-slate-800",children:[W>0&&i.jsxs("span",{className:"flex items-center gap-1 bg-cyan-50 dark:bg-cyan-900/20 px-1.5 py-0.5 rounded",children:[i.jsx(ki,{className:"w-3 h-3 text-cyan-600"}),W," LSP"]}),I>0&&i.jsxs("span",{className:"flex items-center gap-1 bg-blue-50 dark:bg-blue-900/20 px-1.5 py-0.5 rounded",children:[i.jsx(ji,{className:"w-3 h-3 text-blue-600"}),I," MCP"]}),B.commands&&i.jsxs("span",{className:"flex items-center gap-1 bg-green-50 dark:bg-green-900/20 px-1.5 py-0.5 rounded",children:[i.jsx(At,{className:"w-3 h-3 text-green-600"}),"Commands"]})]})]},`${B.name}@${B.marketplace}`)}),P.length===0&&i.jsxs("div",{className:"col-span-full text-center py-12 text-gray-500 dark:text-slate-400",children:[i.jsx(Eo,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{className:"font-medium",children:"No plugins found"}),i.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your filters or search query"}),(c.length>0||o)&&i.jsx(pe,{variant:"link",size:"sm",onClick:()=>{l([]),d("")},className:"mt-2",children:"Clear all filters"})]})]})]}),i.jsxs("div",{className:"bg-white dark:bg-slate-950 rounded-xl border border-gray-200 dark:border-slate-800 overflow-hidden shadow-sm",children:[i.jsx("div",{className:"p-5 border-b border-gray-200 dark:border-slate-700",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[i.jsx(pf,{className:"w-5 h-5 text-purple-600"}),"Plugin Marketplaces",i.jsx(rt,{variant:"outline",className:"ml-2 font-normal",children:K.length})]}),i.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>N({open:!0,repo:""}),className:"border-purple-300 dark:border-purple-700 text-purple-700 dark:text-purple-400 hover:bg-purple-50 dark:hover:bg-purple-950/30",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})}),i.jsx("div",{className:"p-4",children:K.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:K.map((B,D)=>{var I,W,O;const A=(((I=B.plugins)==null?void 0:I.length)||0)+(((W=B.externalPlugins)==null?void 0:W.length)||0);return i.jsxs(ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:D*.03},className:"bg-purple-50 dark:bg-purple-950/20 rounded-lg border border-purple-200 dark:border-purple-800 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-200",children:B.name}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>L(B.name),disabled:g===B.name,className:"h-7 w-7 p-0",children:i.jsx(yr,{className:`w-4 h-4 text-purple-600 dark:text-purple-400 ${g===B.name?"animate-spin":""}`})})]}),i.jsx("p",{className:"text-sm text-purple-700 dark:text-purple-300 mb-2 truncate",children:typeof B.source=="string"?B.source:((O=B.source)==null?void 0:O.repo)||"Unknown source"}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-purple-600 dark:text-purple-400",children:[i.jsxs("span",{children:[A," plugins"]}),B.lastUpdated&&i.jsxs("span",{children:["Updated: ",new Date(B.lastUpdated).toLocaleDateString()]})]})]},B.name)})}):i.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-slate-400",children:[i.jsx(pf,{className:"w-12 h-12 mx-auto mb-3 opacity-30"}),i.jsx("p",{children:"No marketplaces configured."}),i.jsx("p",{className:"text-sm mt-1",children:"Add a marketplace to discover plugins."})]})})]}),i.jsx(Zt,{open:j.open,onOpenChange:B=>N({...j,open:B}),children:i.jsxs(Wt,{className:"max-w-lg",children:[i.jsxs(Kt,{children:[i.jsxs(Gt,{className:"flex items-center gap-2",children:[i.jsx(pf,{className:"w-5 h-5 text-purple-600"}),"Add Plugin Marketplace"]}),i.jsx(Cr,{children:"Add a marketplace from a GitHub repository URL or local path."})]}),i.jsx("div",{className:"space-y-4 py-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-slate-300",children:"Repository URL or Path"}),i.jsx(ot,{value:j.repo,onChange:B=>N({...j,repo:B.target.value}),placeholder:"owner/repo or full GitHub URL",className:"mt-1"}),i.jsx("p",{className:"text-xs text-gray-500 dark:text-slate-400 mt-2",children:"Supported formats:"}),i.jsxs("ul",{className:"text-xs text-gray-500 dark:text-slate-400 mt-1 space-y-1 ml-2",children:[i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"owner/repo"}),"  GitHub shorthand"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"https://github.com/owner/repo"}),"  Full URL"]}),i.jsxs("li",{children:[i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"/local/path"}),"  Local directory"]})]}),i.jsxs("p",{className:"text-xs text-gray-400 dark:text-slate-500 mt-2",children:["Search GitHub for ",i.jsx("code",{className:"bg-gray-100 dark:bg-slate-700 px-1 rounded",children:"claude-plugins"})," to find community marketplaces."]})]})}),i.jsxs(lr,{children:[i.jsx(pe,{variant:"ghost",onClick:()=>N({open:!1,repo:""}),children:"Cancel"}),i.jsxs(pe,{onClick:z,className:"bg-purple-600 hover:bg-purple-700 text-white",children:[i.jsx(Ft,{className:"w-4 h-4 mr-2"}),"Add Marketplace"]})]})]})})]})}const hH=[{id:"projects",label:"All Projects",icon:s1,section:"Projects"},{id:"explorer",label:"Project Explorer",icon:Ks,section:"Projects"},{id:"registry",label:"MCP Registry",icon:ki,section:"Configuration"},{id:"plugins",label:"Plugins",icon:Eo,section:"Configuration"},{id:"memory",label:"Memory",icon:ko,section:"Configuration"},{id:"claude-settings",label:"Claude Code",icon:hl,section:"Configuration"},{id:"gemini-settings",label:"Gemini CLI",icon:At,section:"Configuration"},{id:"templates",label:"Templates",icon:Do,section:"Tools"},{id:"create-mcp",label:"Create MCP",icon:es,section:"Developer"},{id:"preferences",label:"Preferences",icon:l1,section:"System"},{id:"docs",label:"Docs & Help",icon:Ci,section:"Help"}],gb=(e,t)=>{try{const r=localStorage.getItem(`claude-config-${e}`);return r?JSON.parse(r):t}catch{return t}},fH=(e,t)=>{try{localStorage.setItem(`claude-config-${e}`,JSON.stringify(t))}catch{}};function pH(){const[e,t]=C.useState(()=>gb("currentView","explorer")),[r,n]=C.useState(!0),[o,d]=C.useState({dir:"",subprojects:[],hierarchy:[]}),[c,l]=C.useState([]),[u,f]=C.useState({mcpServers:{}}),[p,h]=C.useState([]),[v,_]=C.useState([]),[k,w]=C.useState([]),[y,x]=C.useState(null),[g,b]=C.useState(null),[j,N]=C.useState(!1),[T,P]=C.useState({title:"",type:""}),[E,L]=C.useState(""),[z,F]=C.useState(""),[V,U]=C.useState({}),[X,K]=C.useState(null),[q,G]=C.useState(null),[B,D]=C.useState(!1),[A,I]=C.useState([]),[W,O]=C.useState(null),[re,ue]=C.useState(!1),[he,Y]=C.useState(null);C.useEffect(()=>{fH("currentView",e)},[e]);const H=C.useCallback(async()=>{try{const[Me,Re,Qe,Ze,nt,st]=await Promise.all([Ce.getProject(),Ce.getConfigs(),Ce.getRegistry(),Ce.getRules(),Ce.getCommands(),Ce.getTemplates()]);d(Me),l(Re),f(Qe),h(Ze),_(nt),w(st),Re.length>0&&!y&&x(Re[Re.length-1])}catch(Me){ie.error("Failed to load data: "+Me.message)}finally{n(!1)}},[y]),se=C.useCallback(async(Me=!1)=>{var Re;try{const Qe=await Ce.getProjects();I(Qe.projects||[]);const Ze=(Re=Qe.projects)==null?void 0:Re.find(nt=>nt.isActive);if(O(Ze||null),Me&&Ze){const nt=await Ce.getSubprojects(Ze.path);Y({dir:Ze.path,subprojects:nt.subprojects||[]})}Me&&!Ze&&(gb("currentView",null)||t("projects"))}catch{console.log("Projects API not available")}},[]),ee=async Me=>{try{const Re=await Ce.setActiveProject(Me);Re.success?(d({dir:Re.dir,hierarchy:Re.hierarchy,subprojects:Re.subprojects}),Y({dir:Re.dir,subprojects:Re.subprojects}),O(Re.project),I(Qe=>Qe.map(Ze=>({...Ze,isActive:Ze.id===Me}))),await H(),ie.success(`Switched to ${Re.project.name}`)):ie.error(Re.error||"Failed to switch project")}catch(Re){ie.error("Failed to switch project: "+Re.message)}},Q=Me=>{I(Re=>[...Re,{...Me,exists:!0,hasClaudeConfig:!1}])};C.useEffect(()=>{H(),se(!0),Ce.checkVersion().then(Me=>{K(Me==null?void 0:Me.installedVersion),Me!=null&&Me.updateAvailable&&G(Me)}).catch(()=>{})},[]);const ne=async()=>{if(q!=null&&q.updateAvailable){D(!0);try{const Me=await Ce.performUpdate({updateMethod:q.updateMethod,sourcePath:q.sourcePath});Me.success?(ie.success(`Updated to v${Me.newVersion}! Reloading...`),setTimeout(()=>window.location.reload(),1500)):(ie.error("Update failed: "+Me.error),D(!1))}catch(Me){ie.error("Update failed: "+Me.message),D(!1)}}};C.useEffect(()=>{const Me=async()=>{try{const{hashes:Qe}=await Ce.getFileHashes(),Ze=V;(Object.keys(Qe).some(st=>Ze[st]!==Qe[st])||Object.keys(Ze).some(st=>!Qe[st]))&&Object.keys(Ze).length>0&&(ie.info("Files changed externally, reloading..."),await H()),U(Qe)}catch{}},Re=setInterval(Me,2e3);return Me(),()=>clearInterval(Re)},[V,H]);const ye=new Set;c.forEach(Me=>{var Re,Qe;(((Re=Me.config)==null?void 0:Re.include)||[]).forEach(Ze=>ye.add(Ze)),Object.keys(((Qe=Me.config)==null?void 0:Qe.mcpServers)||{}).forEach(Ze=>ye.add(Ze))});const Oe={mcps:ye.size,rules:p.length,commands:v.length},ze=async()=>{try{const Me=await Ce.applyConfig(o.dir);if(Me.tools){const Re=Object.entries(Me.tools).filter(([,Qe])=>Qe).map(([Qe])=>Qe==="claude"?"Claude Code":"Antigravity");Re.length>0?ie.success(`Config applied to: ${Re.join(", ")}`):ie.warning("No tools were updated")}else ie.success("Configuration applied successfully!")}catch(Me){ie.error("Failed to apply config: "+Me.message)}},Xe=async()=>{n(!0),await H(),ie.success("Data refreshed")};if(r)return i.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx(gt,{className:"w-8 h-8 animate-spin text-primary"}),i.jsx("p",{className:"text-muted-foreground",children:"Loading configuration..."})]})});const Te=()=>{switch(e){case"explorer":return i.jsx(qB,{project:o,onRefresh:H});case"registry":return i.jsx(sH,{registry:u,searchQuery:E,setSearchQuery:L,onUpdate:H});case"plugins":return i.jsx(dH,{});case"memory":return i.jsx(iH,{project:o,onUpdate:H});case"templates":return i.jsx(Lz,{templates:k,project:o,onApply:H});case"create-mcp":return i.jsx(Dz,{project:o});case"claude-settings":return i.jsx(kz,{});case"gemini-settings":return i.jsx(jz,{});case"preferences":return i.jsx(Cz,{});case"projects":return i.jsx(oH,{onProjectSwitch:Me=>{d({dir:Me.dir,hierarchy:Me.hierarchy,subprojects:Me.subprojects}),Y({dir:Me.dir,subprojects:Me.subprojects}),H(),se()}});case"docs":return i.jsx(cH,{});default:return null}};return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("header",{className:"h-16 bg-card border-b border-border sticky top-0 z-50 shadow-sm",children:i.jsxs("div",{className:"h-full px-6 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center shadow-lg shadow-indigo-500/20",children:i.jsx(Ei,{className:"w-5 h-5 text-white"})}),i.jsx("div",{children:i.jsxs("h1",{className:"text-xl font-bold text-foreground",children:["Claude ",i.jsx("span",{className:"text-primary",children:"Config"}),X&&i.jsxs("span",{className:"text-xs font-normal text-muted-foreground ml-2",children:["v",X]})]})}),q&&i.jsxs("button",{onClick:ne,disabled:B,className:"ml-3 px-2.5 py-1 text-xs font-medium bg-green-100 text-green-700 hover:bg-green-200 rounded-full flex items-center gap-1.5 transition-colors disabled:opacity-50",children:[B?i.jsx(gt,{className:"w-3 h-3 animate-spin"}):i.jsx(Lu,{className:"w-3 h-3"}),B?"Updating...":`Update to v${q.sourceVersion}`]})]}),i.jsx(S2,{orientation:"vertical",className:"h-6"}),i.jsx(YB,{projects:A,activeProject:W,onSwitch:ee,onAddClick:()=>ue(!0),onManageClick:()=>t("projects")})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(QB,{}),i.jsx(pe,{variant:"ghost",size:"sm",onClick:Xe,children:i.jsx(yr,{className:"w-4 h-4"})}),i.jsxs(pe,{onClick:ze,variant:"ghost",size:"sm",className:"gap-2 text-muted-foreground hover:text-foreground",title:"Config auto-applies on save. Click to manually re-apply.",children:[i.jsx(OM,{className:"w-4 h-4"}),"Re-apply"]})]})]})}),i.jsxs("div",{className:"flex",children:[i.jsx("aside",{className:"w-64 h-[calc(100vh-64px)] border-r border-border bg-card sticky top-16",children:i.jsx(ds,{className:"h-full py-4",children:["Projects","Configuration","Tools","Developer","System","Help"].map(Me=>i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"px-4 mb-2 text-[10px] font-semibold uppercase tracking-wider text-muted-foreground",children:Me}),i.jsx("div",{className:"space-y-0.5",children:hH.filter(Re=>Re.section===Me).map(Re=>{const Qe=Re.icon,Ze=e===Re.id;return i.jsxs("button",{onClick:()=>t(Re.id),className:`w-full flex items-center gap-3 px-4 py-2.5 text-sm transition-all duration-200 border-l-2 ${Ze?"bg-accent border-primary text-primary font-medium":"border-transparent text-muted-foreground hover:text-foreground hover:bg-accent"}`,children:[i.jsx(Qe,{className:"w-4 h-4"}),i.jsx("span",{className:"flex-1 text-left",children:Re.label}),Re.badge&&i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full font-medium ${Ze?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:Oe[Re.badge]})]},Re.id)})})]},Me))})}),i.jsx("main",{className:je("flex-1 overflow-auto",e==="explorer"||e==="docs"?"h-[calc(100vh-64px)]":"p-6"),children:i.jsx(Up,{mode:"wait",children:i.jsx(ss.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:e==="explorer"||e==="docs"?"h-full":"",children:Te()},e)})})]}),i.jsx(x2,{open:re,onOpenChange:ue,onAdded:Q})]})}function mH(){const[e,t]=C.useState(!1),[r,n]=C.useState(!1),[o,d]=C.useState(!1),c=C.useCallback(async()=>{n(!0);try{await Ce.restartServer(),ie.info("Server restarting... page will reload."),setTimeout(()=>{window.location.reload()},2e3)}catch(u){ie.error("Failed to restart: "+u.message),n(!1)}},[]),l=C.useCallback(()=>{d(!0),t(!1),ie.dismiss("update-available")},[]);return C.useEffect(()=>{let u;const f=async()=>{try{const p=await Ce.getVersion();console.log("[Update Check]",p),p.needsRestart&&!o&&t(!0)}catch{}};return f(),u=setInterval(f,3e4),()=>clearInterval(u)},[o]),i.jsx(XB,{children:i.jsxs("div",{className:"min-h-screen bg-background",children:[e&&!r&&i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-blue-600 text-white px-4 py-2 flex items-center justify-center gap-2 shadow-lg cursor-pointer hover:bg-blue-700 transition-colors",onClick:c,children:[i.jsx(yr,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Update available  click to restart"}),i.jsx("button",{onClick:u=>{u.stopPropagation(),l()},className:"absolute right-3 p-1 hover:bg-blue-500 rounded",children:i.jsx(km,{className:"w-4 h-4"})})]}),r&&i.jsxs("div",{className:"fixed top-0 left-0 right-0 z-50 bg-amber-600 text-white px-4 py-2 flex items-center justify-center gap-2",children:[i.jsx(yr,{className:"w-4 h-4 animate-spin"}),i.jsx("span",{className:"text-sm font-medium",children:"Restarting server..."})]}),i.jsx(pH,{}),i.jsx(QN,{position:"bottom-right",richColors:!0})]})})}kN.createRoot(document.getElementById("root")).render(i.jsx(mH,{}));
